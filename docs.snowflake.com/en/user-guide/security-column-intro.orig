<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>Understanding Column-level Security | Snowflake Documentation</title><link rel="canonical" href="https://docs.snowflake.com/en/user-guide/security-column-intro"/><meta name="next-head-count" content="4"/><script src="/scripts/darkmode.js"></script><link rel="shortcut icon" type="image/svg+xml" href="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjE1MCIgdmlld0JveD0iMCAwIDE1MCAxNTAiIHdpZHRoPSIxNTAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxjbGlwUGF0aCBpZD0iYSI+PHBhdGggZD0ibTAgMGgxNTB2MTUwaC0xNTB6Ii8+PC9jbGlwUGF0aD48ZyBjbGlwLXBhdGg9InVybCgjYSkiPjxwYXRoIGQ9Im0xNTAgMGgtMTUwdjE1MGgxNTB6IiBmaWxsPSIjMjliNWU4Ii8+PHBhdGggY2xpcC1ydWxlPSJldmVub2RkIiBkPSJtMTMwLjM3NSA2Ny4yNTMyLTE0LjA5NiA4LjEyMjEgMTQuMDk2IDguMDUzNmMuODQzLjQ4NzIgMS41ODEgMS4xMzU3IDIuMTc0IDEuOTA4NC41OTIuNzcyNyAxLjAyNiAxLjY1NDUgMS4yNzggMi41OTUxLjI1MS45NDA2LjMxNSAxLjkyMTUuMTg4IDIuODg2Ny0uMTI4Ljk2NTItLjQ0NCAxLjg5NTktLjkzMSAyLjczODgtLjQ4OC44NDMtMS4xMzYgMS41ODE3LTEuOTA5IDIuMTc0cy0xLjY1NCAxLjAyNjctMi41OTUgMS4yNzgyLTEuOTIxLjMxNTQtMi44ODcuMTg3OGMtLjk2NS0uMTI3NS0xLjg5Ni0uNDQ0LTIuNzM5LS45MzEybC0yNS4yNTU5LTE0LjU0OTZjLTEuMTU3NS0uNjY5Ni0yLjExMjgtMS42Mzk0LTIuNzY1LTIuODA2OC0uNjUyMy0xLjE2NzQtLjk3NzMtMi40ODkzLS45NDA4LTMuODI2LjAxOTgtLjU3OTIuMTA4OS0xLjE1MzguMjY1My0xLjcxMTcuNTE3LTEuODcxMSAxLjc0NTgtMy40NjU0IDMuNDIzNC00LjQ0MTlsMjUuMjU2LTE0LjQ5ODNjLjg0Ny0uNDg5MiAxLjc4Mi0uODA2NyAyLjc1MS0uOTM0My45Ny0uMTI3NSAxLjk1NS0uMDYyNyAyLjg5OS4xOTA5Ljk0NS4yNTM2IDEuODMuNjkwOSAyLjYwNSAxLjI4Ny43NzUuNTk2IDEuNDI1IDEuMzM5MSAxLjkxMyAyLjE4NjYuNDkuODQwMi44MDggMS43NjkzLjkzNSAyLjczMzQuMTI4Ljk2NC4wNjMgMS45NDM5LS4xOTEgMi44ODI2LS4yNTQuOTM4OC0uNjkyIDEuODE3Ny0xLjI4OCAyLjU4NTktLjU5Ny43NjgxLTEuMzQgMS40MTAxLTIuMTg2IDEuODg4N3ptLTEzLjM0MyAzOS4zNjk4LTI1LjI0NzgtMTQuNTI0M2MtMS4xMjk2LS42NDgzLTIuNDA5MS0uOTg5Ni0zLjcxMTUtLjk5MDJzLTIuNTgyMy4zMzk3LTMuNzEyNC45ODdjLTEuMTMwMS42NDcyLTIuMDcxMiAxLjU3OS0yLjcyOTcgMi43MDI2LS42NTg1IDEuMTIzNy0xLjAxMTUgMi40MDAxLTEuMDIzOSAzLjcwMjR2MjkuMDEzNWMuMDY1NCAxLjkyOC44NzcyIDMuNzU1IDIuMjY0IDUuMDk1IDEuMzg2OSAxLjM0MSAzLjI0MDMgMi4wOSA1LjE2OTEgMi4wOSAxLjkyODkgMCAzLjc4MjMtLjc0OSA1LjE2OTEtMi4wOSAxLjM4NjgtMS4zNCAyLjE5ODYtMy4xNjcgMi4yNjQtNS4wOTV2LTE2LjI2MWwxNC4xMzAxIDguMTIyYy44NDMuNDg4IDEuNzc0LjgwNSAyLjczOS45MzMuOTY2LjEyOCAxLjk0Ny4wNjQgMi44ODgtLjE4N3MxLjgyMy0uNjg1IDIuNTk2LTEuMjc3Yy43NzQtLjU5MiAxLjQyMy0xLjMzMSAxLjkxLTIuMTc0LjQ4OC0uODQzLjgwNS0xLjc3My45MzMtMi43MzkuMTI4LS45NjUuMDY1LTEuOTQ2LS4xODYtMi44ODdzLS42ODUtMS44MjQtMS4yNzctMi41OTctMS4zMzEtMS40MjItMi4xNzQtMS45MXptLTI5LjA5OTItMjguMzgwNi0xMC41MjcgMTAuMzk4NmMtLjM2MDEuMzM0OS0uODI2OS41MzE5LTEuMzE4LjU1NjNoLTMuMDg5N2MtLjQ5LS4wMjk0LS45NTUxLS4yMjU3LTEuMzE4LS41NTYzbC0xMC40NjcxLTEwLjQzMjljLS4zMjc0LS4zNTczLS41MjEtLjgxNy0uNTQ3OC0xLjMwMDl2LTMuMDgxYy4wMjgzLS40ODYxLjIyMTUtLjk0ODEuNTQ3OC0xLjMwOTVsMTAuNDY3MS0xMC40MzI5Yy4zNjM3LS4zMjgxLjgyOS0uNTIxNCAxLjMxOC0uNTQ3N2gzLjA4OTdjLjQ4OTkuMDIyOC45NTYyLjIxNjYgMS4zMTguNTQ3N2wxMC40OTI4IDEwLjQzMjljLjMyMzcuMzYyMy41MTQuODI0My41MzkyIDEuMzA5NXYzLjA4MWMtLjAyMzcuNDgzLS4yMTQzLjk0MjgtLjUzOTIgMS4zMDA5em0tOC4zODc0LTIuODkyOGMtLjA0MDQtLjQ5OS0uMjQ4NS0uOTY5Ni0uNTkwNS0xLjMzNTJsLTMuMDM4My0zLjAwNGMtLjM2NDEtLjMyNzUtLjgyOTEtLjUyMDctMS4zMTgtLjU0NzhoLS4xMTEzYy0uNDg2Ny4wMjU1LS45NDk1LjIxOTEtMS4zMDk0LjU0NzhsLTMuMDM4MyAzLjAwNGMtLjMyNjIuMzY3Ni0uNTE2NS44MzU4LS41MzkyIDEuMzI2NnYuMTExM2MuMDIxNS40ODM0LjIxMjQuOTQzOS41MzkyIDEuMzAwOWwzLjA1NTQgMi45OTU1Yy4zNjA3LjMyNzQuODIzLjUyMDggMS4zMDk0LjU0NzdoLjExMTNjLjQ4ODktLjAyNy45NTM5LS4yMjAzIDEuMzE4LS41NDc3bDMuMDM4My0zLjAyMTJjLjMyODItLjM1NzYuNTI0NC0uODE2Ni41NTYzLTEuMzAwOXptLTQ3LjQ5MTQtMzEuMjIxNyAyNS4yNTYzIDE0LjQ4MTFjMS4xMzA4LjY0OCAyLjQxMTUuOTg5IDMuNzE0OS45ODg5IDEuMzAzMyAwIDIuNTg0LS4zNDA5IDMuNzE0OC0uOTg5IDEuMTMwOS0uNjQ4IDIuMDcyNS0xLjU4MDYgMi43MzE0LTIuNzA1MS42NTktMS4xMjQ1IDEuMDEyMy0yLjQwMTggMS4wMjQ5LTMuNzA1MXYtMjguOTg3OWMtLjA2NTQtMS45Mjc3LS44NzcyLTMuNzU0Ni0yLjI2NC01LjA5NTJzLTMuMjQwMi0yLjA4OTktNS4xNjkxLTIuMDg5OWMtMS45Mjg4IDAtMy43ODIyLjc0OTMtNS4xNjkgMi4wODk5LTEuMzg2OSAxLjM0MDYtMi4xOTg3IDMuMTY3NS0yLjI2NDEgNS4wOTUydjE2LjI2MTNsLTE0LjE0NzMtOC4xMzA3Yy0uODQyOS0uNDg3Ny0xLjc3MzctLjgwNDctMi43MzkyLS45MzI4LS45NjU0LS4xMjgxLTEuOTQ2Ni0uMDY0Ny0yLjg4NzYuMTg2NHMtMS44MjMyLjY4NTItMi41OTY1IDEuMjc3M2MtLjc3MzIuNTkyMS0xLjQyMjIgMS4zMzA3LTEuOTEgMi4xNzM2LS40ODc4Ljg0My0uODA0OCAxLjc3MzgtLjkzMjkgMi43MzkyLS4xMjguOTY1NS0uMDY0NyAxLjk0NjcuMTg2NCAyLjg4NzYuMjUxMi45NDEuNjg1MiAxLjgyMzMgMS4yNzczIDIuNTk2NS41OTIxLjc3MzMgMS4zMzA3IDEuNDIyMyAyLjE3MzcgMS45MTAxem01NS40MjUyIDE1LjQ3MzljMS40OTE0LjExOCAyLjk4MzYtLjIxOTMgNC4yNzkzLS45NjcxbDI1LjI0NzUtMTQuNTQ5NmMuODQzLS40ODc3IDEuNTgyLTEuMTM2OCAyLjE3NC0xLjkxczEuMDI2LTEuNjU1NSAxLjI3Ny0yLjU5NjUuMzE1LTEuOTIyMi4xODctMi44ODc2Yy0uMTI4LS45NjU1LS40NDUtMS44OTYyLS45MzMtMi43MzkyLS40ODgtLjg0MjktMS4xMzctMS41ODE2LTEuOTEtMi4xNzM3LS43NzQtLjU5MjEtMS42NTYtMS4wMjYxLTIuNTk3LTEuMjc3Mi0xLjktLjUwNzItMy45MjQtLjIzODctNS42MjcuNzQ2NGwtMTQuMTI5OCA4LjE5OTF2LTE2LjI2MTNjLS4wNjU0LTEuOTI3Ny0uODc3Mi0zLjc1NDYtMi4yNjQtNS4wOTUyLTEuMzg2OC0xLjM0MDUtMy4yNDAyLTIuMDg5OS01LjE2OTEtMi4wODk5LTEuOTI4OCAwLTMuNzgyMi43NDk0LTUuMTY5IDIuMDg5OS0xLjM4NjkgMS4zNDA2LTIuMTk4NyAzLjE2NzUtMi4yNjQxIDUuMDk1MnYyOS4wMTM2Yy0uMDAyMyAxLjg3ODQuNzA4NiAzLjY4NzYgMS45ODkyIDUuMDYxOSAxLjI4MDUgMS4zNzQzIDMuMDM1MSAyLjIxMTEgNC45MDkgMi4zNDEyem0tMjUuODU1NCAzMS41Mjk4Yy0xLjQ5MTYtLjEyMTMtMi45ODQ3LjIxNjItNC4yNzkzLjk2NzFsLTI1LjI5MDUgMTQuNDg5M2MtMS43MDI0Ljk4NS0yLjk0MzggMi42MDctMy40NTEgNC41MDdzLS4yMzg3IDMuOTI0Ljc0NjUgNS42MjdjLjk4NTEgMS43MDIgMi42MDYxIDIuOTQzIDQuNTA2NSAzLjQ1MSAxLjkwMDQuNTA3IDMuOTI0NC4yMzggNS42MjY4LS43NDdsMTQuMTQ3My04LjEyMnYxNi4yNjFjLjA2NTQgMS45MjguODc3MiAzLjc1NSAyLjI2NDEgNS4wOTYgMS4zODY4IDEuMzQgMy4yNDAyIDIuMDkgNS4xNjkgMi4wOSAxLjkyODkgMCAzLjc4MjMtLjc1IDUuMTY5MS0yLjA5IDEuMzg2OC0xLjM0MSAyLjE5ODYtMy4xNjggMi4yNjQtNS4wOTZ2LTI5LjA2NDVjLS4wMDM4LTEuODY5LS43MTQ0LTMuNjY3My0xLjk4OTEtNS4wMzQxcy0zLjAxOTItMi4yMDA5LTQuODgzNC0yLjMzNDh6bS02Ljg0NjgtMTMuNTgyNWMuNDg3NS0xLjYwMzIuNDE0LTMuMzI0Ny0uMjA4My00Ljg4MDYtLjYyMjQtMS41NTU5LTEuNzU2NC0yLjg1MzItMy4yMTUyLTMuNjc3OWwtMjUuMjMwNi0xNC41NDFjLTEuNzA0LS45NzYtMy43MjQ4LTEuMjM4NS01LjYyMTYtLjczMDMtMS44OTY4LjUwODMtMy41MTU1IDEuNzQ2MS00LjUwMzIgMy40NDMzLS40ODg5Ljg0LS44MDY1IDEuNzY4Ni0uOTM0MyAyLjczMi0uMTI3OC45NjM1LS4wNjMyIDEuOTQyOC4xODk5IDIuODgxMS4yNTMxLjkzODQuNjg5NyAxLjgxNzMgMS4yODQ2IDIuNTg1OC41OTUuNzY4NiAxLjMzNjQgMS40MTE1IDIuMTgxNCAxLjg5MTdsMTQuMDk2IDguMTIyMS0xNC4wOTYgOC4wNTM2Yy0uODQyOS40ODYxLTEuNTgxOSAxLjEzMzQtMi4xNzQ2IDEuOTA1MS0uNTkyOC43NzE3LTEuMDI3NyAxLjY1MjYtMS4yODAxIDIuNTkyMy0uMjUyMy45Mzk4LS4zMTcgMS45MjAxLS4xOTA1IDIuODg0OXMuNDQxOCAxLjg5NTIuOTI3OSAyLjczODJjLjQ4NjEuODQyOSAxLjEzMzUgMS41ODE5IDEuOTA1MSAyLjE3NDYuNzcxNy41OTI4IDEuNjUyNiAxLjAyNzcgMi41OTI0IDEuMjgwMS45Mzk3LjI1MjMgMS45Mi4zMTcgMi44ODQ4LjE5MDVzMS44OTUyLS40NDE4IDIuNzM4Mi0uOTI3OWwyNS4yMzA2LTE0LjU0OTZjMS42MjQ4LS45MDcxIDIuODQ1MS0yLjM5NjUgMy40MTQ5LTQuMTY4eiIgZmlsbD0iI2ZmZiIgZmlsbC1ydWxlPSJldmVub2RkIi8+PC9nPjwvc3ZnPg=="/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"/><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin="anonymous"/><link rel="preload" href="https://fonts.gstatic.com/s/inter/v13/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1ZL7W0Q5nw.woff2" as="font" type="font/woff2" crossorigin="anonymous"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin /><link rel="preload" href="/_next/static/css/1c3ff358e360dad7.css" as="style"/><link rel="stylesheet" href="/_next/static/css/1c3ff358e360dad7.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script defer="" src="/_next/static/chunks/304.8a0d80134255b6de.js"></script><script src="/_next/static/chunks/webpack-48a9d1c9a83eec21.js" defer=""></script><script src="/_next/static/chunks/framework-a87821de553db91d.js" defer=""></script><script src="/_next/static/chunks/main-fd514f7d9ee4d3f2.js" defer=""></script><script src="/_next/static/chunks/pages/_app-103500770c0400fb.js" defer=""></script><script src="/_next/static/chunks/314-3c486869a31a6ad8.js" defer=""></script><script src="/_next/static/chunks/141-52e6bd64aca8e746.js" defer=""></script><script src="/_next/static/chunks/144-6b784825890c7a2f.js" defer=""></script><script src="/_next/static/chunks/pages/%5B...path%5D-9731655fe727f940.js" defer=""></script><script src="/_next/static/ICZ5MtOK9ZoGg60IkLaJy/_buildManifest.js" defer=""></script><script src="/_next/static/ICZ5MtOK9ZoGg60IkLaJy/_ssgManifest.js" defer=""></script><style data-href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap&subset=latin">@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v13/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuLyfMZs.woff) format('woff')}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v13/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuGKYMZs.woff) format('woff')}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v13/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuFuYMZs.woff) format('woff')}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v13/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2JL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v13/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa0ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v13/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v13/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v13/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v13/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa25L7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v13/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1ZL7W0Q5nw.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v13/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2JL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v13/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa0ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v13/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v13/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v13/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v13/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa25L7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v13/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1ZL7W0Q5nw.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v13/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2JL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v13/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa0ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v13/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v13/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v13/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v13/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa25L7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v13/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1ZL7W0Q5nw.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style></head><body><div id="__next"><div class="h-full relative overflow-y-hidden flex flex-col"><nav id="masthead" class="print:hidden flex flex-col"><div class="flex items-center justify-between w-full px-6 border-b py-2"><a href="https://docs.snowflake.com" class="flex flex-1 my-2 items-center "><svg xmlns="http://www.w3.org/2000/svg" width="102" height="24" viewBox="0 0 102 24" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M62.6792 7.50872L62.6761 7.50679C62.6761 7.50679 62.6747 7.50562 62.6729 7.50562C62.6038 7.47437 62.5284 7.45813 62.4562 7.45813C62.3386 7.45898 62.2259 7.49541 62.1277 7.55931C62.0276 7.62524 61.9428 7.72138 61.8943 7.84166V7.84463L59.6011 14.3663L57.8338 9.99498L57.8311 9.9931C57.7813 9.87089 57.6924 9.77644 57.5915 9.7107C57.4896 9.64477 57.372 9.60849 57.2482 9.60849C57.1279 9.60849 57.0157 9.64769 56.917 9.71155C56.8191 9.77733 56.7312 9.87089 56.6818 9.9931L56.6805 9.99498L54.9096 14.3691L52.6043 7.85032H52.6025C52.5625 7.7243 52.4804 7.62609 52.383 7.56119C52.2843 7.49541 52.1685 7.45898 52.0491 7.45813C51.9728 7.45813 51.8961 7.47437 51.8229 7.50562H51.8198L51.8171 7.50872C51.6021 7.61282 51.4707 7.83597 51.4702 8.07917C51.4702 8.15564 51.4846 8.23178 51.5128 8.30722L54.3477 16.22V16.2227C54.3697 16.2818 54.4011 16.3401 54.4469 16.3974C54.4801 16.4383 54.529 16.4728 54.5793 16.5015C54.5887 16.5108 54.6031 16.5241 54.6251 16.5384C54.6489 16.5538 54.6794 16.5645 54.7103 16.57C54.7611 16.5875 54.8279 16.6128 54.9177 16.6128C55.0326 16.6128 55.1389 16.57 55.2345 16.5061C55.3238 16.4442 55.4037 16.3515 55.4477 16.2314L55.4549 16.2257L57.2482 11.7711L59.0437 16.2075H59.0455C59.0868 16.3258 59.1595 16.4185 59.2439 16.4843C59.3332 16.5538 59.4328 16.5968 59.5387 16.6128H59.6141C59.6854 16.6128 59.7555 16.5987 59.8138 16.5748C59.8753 16.5502 59.9251 16.5175 59.9664 16.4853C60.0629 16.4088 60.1369 16.3039 60.1831 16.1874V16.1848L63.0005 8.30722C63.0284 8.23178 63.0427 8.15654 63.0427 8.08039C63.0418 7.83893 62.9049 7.609 62.6792 7.50872ZM49.7164 12.0261C49.7164 11.0969 49.3731 10.2553 48.8269 9.64769C48.2776 9.03889 47.534 8.66675 46.7262 8.66675C45.9184 8.66675 45.173 9.03889 44.6249 9.64769C44.0776 10.2553 43.7343 11.0969 43.7343 12.0261C43.7343 12.9544 44.0776 13.7881 44.6249 14.3919C45.173 14.9979 45.9184 15.3642 46.7262 15.3642C47.534 15.3642 48.2803 14.9979 48.8269 14.3919C49.3731 13.7881 49.7164 12.9544 49.7164 12.0261ZM49.7007 8.80035C50.4591 9.63611 50.92 10.7829 50.9218 12.0261C50.92 13.2692 50.4591 14.4148 49.7007 15.2507C48.9481 16.0853 47.8971 16.613 46.728 16.613C45.5684 16.613 44.5156 16.0853 43.7602 15.2507C43.0036 14.4148 42.5353 13.2692 42.5353 12.0261C42.5353 10.7829 43.0036 9.63611 43.7602 8.80035C44.5156 7.96646 45.5684 7.43898 46.728 7.43898C47.8971 7.43898 48.9481 7.96646 49.7007 8.80035ZM37.7615 7.45522C36.8213 7.45522 35.9631 7.83597 35.3223 8.44355V8.08039C35.3213 7.91333 35.2617 7.75762 35.1569 7.64317C35.0552 7.53065 34.9044 7.45522 34.7393 7.45522C34.5683 7.45522 34.4142 7.52665 34.3069 7.64213C34.2013 7.75573 34.138 7.91333 34.138 8.08039V16.1771L34.1627 16.2027L34.1637 16.2067C34.1702 16.2334 34.1865 16.2629 34.2039 16.2914C34.2857 16.4412 34.4197 16.5548 34.5858 16.6052L34.6097 16.613H34.7393C34.8257 16.613 34.9127 16.594 34.9954 16.5538C35.0643 16.5195 35.1285 16.4642 35.1799 16.3936L35.1818 16.3945C35.1881 16.3879 35.1901 16.3793 35.1974 16.3727C35.2002 16.3717 35.2029 16.3688 35.2047 16.3658C35.2367 16.323 35.2635 16.2792 35.2801 16.2381C35.2976 16.1894 35.3085 16.1435 35.3168 16.1083L35.3223 16.0853V11.2236C35.3397 10.5282 35.6151 9.89955 36.0568 9.44246C36.4955 8.98571 37.0967 8.70317 37.7615 8.70317C38.4373 8.70317 39.0403 8.98571 39.4773 9.44246C39.9161 9.8978 40.1824 10.5254 40.1824 11.2171V15.9911C40.1824 16.1654 40.2539 16.3268 40.3624 16.4375C40.4734 16.5479 40.6248 16.613 40.7828 16.613C40.9434 16.613 41.0941 16.5479 41.2042 16.4375C41.3162 16.3268 41.3841 16.1654 41.3841 15.9911V11.2171C41.3841 9.15644 39.7646 7.45813 37.7615 7.45522ZM96.9417 11.1406C96.6001 9.701 95.384 8.6754 93.9959 8.67832C92.5729 8.67832 91.3728 9.68204 91.0013 11.1406H96.9417ZM98.257 11.7304V11.7922C98.257 11.965 98.183 12.1205 98.0703 12.2227C97.9581 12.3256 97.8123 12.3791 97.6552 12.381H90.9178C91.0892 14.0894 92.4019 15.351 93.969 15.3642H94.3666C94.8849 15.3661 95.3903 15.18 95.8345 14.8719C96.2797 14.5667 96.6643 14.1402 96.9354 13.6707C96.991 13.5706 97.0714 13.4943 97.1584 13.4475C97.2473 13.397 97.3429 13.374 97.4394 13.374C97.5457 13.374 97.6512 13.4027 97.7441 13.4608L97.7504 13.4637L97.758 13.4694C97.9267 13.5982 98.0326 13.7948 98.0326 14.0106C98.0326 14.1202 98.0048 14.2318 97.9469 14.3328L97.9451 14.3368L97.9433 14.3385C97.5668 14.9608 97.0534 15.5283 96.444 15.9396C95.8336 16.3517 95.1259 16.613 94.3666 16.613H93.9627C92.7802 16.6043 91.7117 16.0853 90.9411 15.2554C90.1728 14.4283 89.6994 13.292 89.6994 12.0434C89.6994 10.7734 90.1769 9.62096 90.9514 8.78708C91.7265 7.95423 92.8031 7.43898 93.9959 7.43898C95.134 7.43898 96.1568 7.90933 96.9143 8.67936C97.6718 9.44919 98.1664 10.5185 98.2548 11.7216L98.257 11.7304ZM70.6211 3.67057C70.4569 3.67057 70.3065 3.74221 70.1984 3.85475C70.0898 3.96643 70.0211 4.12384 70.0211 4.29455V15.9911C70.0211 16.1618 70.0898 16.3182 70.1984 16.429C70.3065 16.5395 70.4569 16.613 70.6211 16.613C70.9618 16.613 71.2373 16.3344 71.2391 15.9911V4.29455C71.2373 3.9502 70.9618 3.67057 70.6211 3.67057ZM31.36 11.8027C30.8751 11.5652 30.3252 11.3897 29.7764 11.2008C29.2714 11.0234 28.759 10.8725 28.3936 10.6742C28.2101 10.572 28.0669 10.4643 27.9742 10.3431C27.8795 10.2221 27.8337 10.0989 27.8309 9.93093C27.8319 9.701 27.8961 9.51597 28.0044 9.35183C28.1687 9.10675 28.4441 8.91583 28.7452 8.79258C29.0427 8.669 29.365 8.61065 29.5954 8.61065C30.2765 8.61169 30.7072 8.84731 31.0378 9.09136C31.201 9.21461 31.3389 9.33941 31.4693 9.44246C31.5362 9.49597 31.5987 9.54463 31.6712 9.58072C31.7399 9.61611 31.8207 9.64477 31.909 9.64477C31.9649 9.64477 32.0211 9.63423 32.0722 9.61145C32.1263 9.58868 32.1734 9.55602 32.2184 9.51597C32.2624 9.47319 32.3001 9.42157 32.3267 9.36425C32.3506 9.30505 32.3615 9.24411 32.3615 9.18406C32.3615 9.07324 32.3275 8.96933 32.2788 8.87183C32.188 8.70025 32.0483 8.53625 31.8704 8.37211C31.606 8.12788 31.2572 7.89503 30.8816 7.71964C30.5051 7.54411 30.1013 7.42468 29.7166 7.42468C28.8251 7.42468 28.0807 7.63456 27.5398 8.02119C27.258 8.22331 27.0102 8.44458 26.8349 8.74995C26.6567 9.05616 26.5575 9.43399 26.5447 9.92524C26.5439 9.94717 26.5439 9.9691 26.5439 9.99103C26.5421 10.4681 26.6897 10.8613 26.922 11.1692C27.2746 11.6331 27.798 11.9106 28.3112 12.1072C28.8235 12.3036 29.3356 12.421 29.6588 12.5336C30.114 12.691 30.5979 12.8617 30.9504 13.0878C31.1259 13.2033 31.2681 13.3274 31.3646 13.4637C31.4583 13.6041 31.5113 13.7489 31.5133 13.9322V13.9457C31.5123 14.2108 31.4372 14.4188 31.3131 14.5971C31.1259 14.8624 30.8147 15.0569 30.484 15.18C30.1546 15.3003 29.8121 15.351 29.5917 15.351C28.8142 15.351 28.2938 15.1562 27.9164 14.9608C27.7272 14.8624 27.5739 14.7651 27.4352 14.6829C27.3664 14.6439 27.3022 14.6076 27.2342 14.579C27.1681 14.5505 27.0975 14.532 27.0177 14.532C26.969 14.532 26.9158 14.5408 26.867 14.5607C26.8175 14.5827 26.7725 14.6133 26.7347 14.6504C26.6825 14.7033 26.6366 14.7621 26.6046 14.8299C26.5733 14.8978 26.5575 14.9692 26.5575 15.0436C26.5575 15.1659 26.6015 15.2775 26.6642 15.3785C26.7623 15.5243 26.9065 15.6552 27.0864 15.7859C27.2717 15.9146 27.4932 16.0417 27.7483 16.1667C28.3139 16.4442 29.0391 16.5892 29.59 16.5987H29.5917C30.4484 16.5987 31.1882 16.3936 31.8116 15.9167V15.9155H31.8124C32.422 15.4386 32.8012 14.7297 32.8012 13.9293C32.8012 13.4895 32.7021 13.1164 32.5287 12.8113C32.267 12.3485 31.8418 12.0434 31.36 11.8027ZM79.6751 12.0261C79.6751 11.0881 79.3345 10.2477 78.7901 9.64115C78.2462 9.03616 77.5004 8.669 76.6841 8.66693C75.874 8.66693 75.1309 9.03616 74.5816 9.64115C74.0363 10.2477 73.6912 11.0881 73.6912 12.0261C73.6912 12.963 74.0363 13.7979 74.5816 14.3996C75.1277 15.0017 75.874 15.3642 76.6841 15.3642C77.5022 15.3642 78.2485 15.0017 78.7919 14.4017C79.3345 13.7979 79.6751 12.9639 79.6751 12.0261ZM80.6961 7.61282C80.8069 7.7243 80.8756 7.88571 80.8756 8.06002V15.9911C80.8756 16.1618 80.8056 16.3182 80.6997 16.429C80.5911 16.5395 80.4416 16.613 80.2765 16.613C80.1113 16.613 79.9597 16.5395 79.8533 16.429C79.7447 16.3182 79.6751 16.1618 79.6751 15.9911V15.2173C78.9194 16.0655 77.8581 16.613 76.6841 16.613C75.5155 16.613 74.4631 16.0912 73.7096 15.2554C72.953 14.4236 72.4903 13.2777 72.4903 12.0261C72.4903 10.7745 72.953 9.6275 73.7096 8.79484C74.4631 7.95992 75.5155 7.43898 76.6841 7.43898C77.8576 7.43898 78.9194 7.9706 79.6751 8.8147V8.06002C79.6751 7.88571 79.7438 7.7243 79.8551 7.61282C79.9659 7.50303 80.1158 7.43898 80.2765 7.43898C80.4354 7.43898 80.5866 7.50303 80.6961 7.61282ZM89.1725 8.417C89.2919 8.2939 89.3565 8.1306 89.3565 7.96853C89.3565 7.80924 89.2919 7.64976 89.1712 7.53428H89.1725C89.1712 7.53065 89.1685 7.53065 89.1685 7.53065C89.168 7.52769 89.1658 7.52665 89.1658 7.52665H89.164C89.0482 7.40844 88.8997 7.34355 88.7462 7.34355C88.5914 7.34355 88.4397 7.41065 88.3239 7.53065L83.6302 12.2846V4.29455C83.6302 3.9502 83.3528 3.67057 83.0122 3.67057C82.848 3.67057 82.6976 3.74221 82.5899 3.85475C82.4831 3.96643 82.4117 4.12384 82.4117 4.29455V15.9911C82.4117 16.1618 82.4831 16.3182 82.5899 16.429C82.6976 16.5395 82.848 16.613 83.0122 16.613C83.3528 16.613 83.6302 16.3344 83.6302 15.9911V14.061L85.1587 12.4745L88.2745 16.3812C88.3333 16.4709 88.4132 16.5327 88.4922 16.5653C88.5819 16.6007 88.6694 16.613 88.7471 16.613C88.8548 16.613 89.006 16.5892 89.1393 16.4804L89.1469 16.4758L89.1546 16.467C89.2793 16.3392 89.3502 16.1694 89.3502 15.9957C89.3502 15.8497 89.2982 15.7009 89.2017 15.5819V15.5799L86.0298 11.5728L89.1694 8.417H89.1725ZM68.1444 3.69837H68.0102C67.9927 3.69837 67.9756 3.70026 67.9572 3.70095C67.9406 3.70026 67.9231 3.69837 67.9056 3.69837C67.5596 3.69837 67.2235 3.73927 66.9093 3.84802C66.6001 3.95486 66.3147 4.13144 66.0935 4.3995L66.0926 4.39847L66.0917 4.3995V4.40037C65.8633 4.66463 65.7125 4.98049 65.6209 5.33936C65.5289 5.69992 65.4912 6.10628 65.4876 6.56802V7.46209H64.5389C64.2095 7.46402 63.9479 7.73776 63.9479 8.06882C63.9461 8.24712 64.013 8.41131 64.1216 8.52971C64.2306 8.64604 64.3801 8.72232 64.5465 8.73183H65.4876V16.0063L65.4863 16.0234C65.4863 16.1941 65.5554 16.3515 65.6667 16.4642C65.7766 16.5748 65.931 16.6406 66.0989 16.6406C66.4184 16.6389 66.6809 16.3679 66.6818 16.0234V8.73183H67.7019C67.8661 8.72232 68.0178 8.6507 68.126 8.53522C68.2373 8.41992 68.305 8.25785 68.305 8.08213V8.05846C68.3014 7.73103 68.038 7.46209 67.7082 7.46209H66.6818V6.57178C66.6885 6.1779 66.7276 5.88308 66.7846 5.66853C66.8398 5.45277 66.9152 5.31729 66.9829 5.23338C67.0494 5.15898 67.1355 5.09686 67.276 5.04712C67.4173 4.99969 67.6126 4.9691 67.8773 4.9691H67.9083C67.924 4.9691 67.9406 4.96618 67.9554 4.96618C67.9738 4.96618 67.9909 4.9691 68.0102 4.9691H68.0874H68.1444C68.4827 4.9691 68.756 4.68483 68.756 4.33357C68.756 3.98265 68.4827 3.69837 68.1444 3.69837ZM7.67882 12.439C7.72747 12.2796 7.74775 12.1155 7.74407 11.9534C7.73846 11.836 7.72383 11.7188 7.69174 11.6015C7.59526 11.2371 7.3667 10.9115 7.02419 10.7063L2.153 7.78336C1.46535 7.37202 0.588678 7.61658 0.194023 8.33018C-0.20445 9.0427 0.0305809 9.95268 0.718234 10.3651L3.44027 12.0011L0.718234 13.6325C0.0305809 14.0456 -0.20362 14.9558 0.194023 15.6713C0.588678 16.3829 1.46535 16.6263 2.153 16.215L7.02419 13.2901C7.35292 13.0935 7.576 12.7852 7.67882 12.439ZM9.00081 15.1781C8.72091 15.1532 8.42993 15.2143 8.16816 15.3728L3.29328 18.2938C2.60745 18.706 2.37325 19.6209 2.76907 20.3347C3.16671 21.0465 4.04255 21.2916 4.72737 20.8775L7.45856 19.2403V22.5117C7.45856 23.336 8.10021 24.0038 8.89432 24.0038C9.68461 24.0038 10.3283 23.336 10.3283 22.5117V16.6634C10.3283 15.8782 9.74259 15.2333 9.00081 15.1781ZM13.9931 8.82209C14.2721 8.84609 14.5623 8.78411 14.8241 8.62755L19.6979 5.70373C20.3848 5.29136 20.6178 4.38034 20.223 3.6647C19.8273 2.95235 18.9507 2.70793 18.2648 3.11995L15.5355 4.75903V1.48654C15.5355 0.664582 14.8938 -0.00341797 14.0997 -0.00341797C13.3056 -0.00341797 12.6656 0.664582 12.6656 1.48654V7.33489C12.6656 8.11922 13.2496 8.76515 13.9931 8.82209ZM3.29328 5.70373L8.16816 8.62755C8.42993 8.78411 8.72091 8.84609 9.00081 8.82209C9.74259 8.76515 10.3283 8.11922 10.3283 7.33489V1.48654C10.3283 0.664582 9.68461 -0.00341797 8.89432 -0.00341797C8.10021 -0.00341797 7.45856 0.664582 7.45856 1.48654V4.75903L4.72737 3.11995C4.04255 2.70793 3.16671 2.95235 2.76907 3.6647C2.37325 4.38034 2.60745 5.29136 3.29328 5.70373ZM12.4545 11.9888C12.4545 11.9039 12.405 11.7855 12.3472 11.7227L11.7605 11.1157C11.7027 11.0558 11.5888 11.0061 11.5069 11.0061H11.4841C11.4024 11.0061 11.2887 11.0558 11.2317 11.1157L10.645 11.7227C10.5862 11.7855 10.5412 11.9039 10.5412 11.9888V12.0126C10.5412 12.0965 10.5862 12.2139 10.645 12.275L11.2317 12.8836C11.2895 12.9437 11.4024 12.9932 11.4841 12.9932H11.5069C11.5888 12.9932 11.7027 12.9437 11.7605 12.8836L12.3472 12.275C12.405 12.2139 12.4545 12.0965 12.4545 12.0126V11.9888ZM14.074 12.5725L12.0479 14.6755C11.9899 14.7372 11.878 14.7878 11.7936 14.7878H11.6466H11.3473H11.1978C11.1159 14.7878 11.0021 14.7372 10.9433 14.6755L8.91824 12.5725C8.86026 12.5133 8.81345 12.3942 8.81345 12.3102V12.1547V11.8436V11.6902C8.81345 11.6042 8.86026 11.485 8.91824 11.4249L10.9433 9.32213C11.0021 9.2602 11.1159 9.2115 11.1978 9.2115H11.3473H11.6466H11.7936C11.8761 9.2115 11.9899 9.2602 12.0479 9.32213L14.074 11.4249C14.1318 11.485 14.1786 11.6042 14.1786 11.6902V11.8436V12.1547V12.3102C14.1786 12.3942 14.1318 12.5133 14.074 12.5725ZM19.6979 18.2938L14.8241 15.3728C14.5623 15.2143 14.2721 15.1532 13.9931 15.1781C13.2496 15.2333 12.6656 15.8782 12.6656 16.6634V22.5117C12.6656 23.336 13.3056 24.0038 14.0997 24.0038C14.8938 24.0038 15.5355 23.336 15.5355 22.5117V19.2403L18.2648 20.8775C18.9505 21.2916 19.8273 21.0465 20.223 20.3347C20.6178 19.6209 20.3848 18.706 19.6979 18.2938ZM22.275 10.3651L19.5528 12.0011L22.275 13.6325C22.9625 14.0456 23.1975 14.9558 22.8 15.6713C22.4034 16.3829 21.5259 16.6263 20.8409 16.215L15.966 13.2901C15.6409 13.0935 15.4153 12.7852 15.3151 12.439C15.2674 12.2796 15.2453 12.1155 15.2508 11.9534C15.2536 11.836 15.2701 11.7188 15.3013 11.6015C15.3988 11.2371 15.6273 10.9117 15.966 10.7063L20.8409 7.78336C21.5259 7.37202 22.4034 7.61658 22.8 8.33018C23.1975 9.0427 22.9625 9.95268 22.275 10.3651ZM101.327 7.44726C101.327 8.26731 100.799 8.95173 99.9166 8.95173C99.0401 8.95173 98.5182 8.26077 98.5182 7.44726C98.5182 6.62722 99.0401 5.94265 99.9166 5.94265C100.799 5.94265 101.327 6.62722 101.327 7.44726ZM101.047 7.44726C101.047 6.74995 100.6 6.2202 99.9166 6.2202C99.2452 6.2202 98.7978 6.72388 98.7978 7.44726C98.7978 8.13804 99.2452 8.67399 99.9166 8.67399C100.6 8.67399 101.047 8.14463 101.047 7.44726ZM99.3632 6.7691H99.966C100.295 6.7691 100.513 6.95635 100.513 7.24689C100.513 7.42778 100.426 7.56326 100.295 7.64731L100.531 8.00237V8.07348H100.19L99.9597 7.73122H99.6926V8.07348H99.3632V6.7691ZM99.9597 7.08566H99.6926V7.42778H99.9597C100.084 7.42778 100.165 7.36957 100.165 7.25997C100.165 7.14364 100.09 7.08566 99.9597 7.08566Z" fill="#29B5E8"></path></svg><span class="ml-[14px] text-[12px] font-extrabold tracking-[.72px] text-primary">DOCUMENTATION</span></a><div class="flex justify-end items-center md:max-w-[440px] flex-1 gap-6"><div class="flex items-center lg:hidden"><div class="mr-4"><button type="button" class="rounded-lg ui-icon flex align-center" aria-label="Search"><svg width="19" height="20" viewBox="0 0 19 20" fill="none" xmlns="http://www.w3.org/2000/svg" class="scale-110 fill-black-10 dark:fill-gray-50 dark:stroke-gray-50 shrink-0"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.50157 7.50472C2.50157 4.74156 4.74156 2.50157 7.50472 2.50157C10.2679 2.50157 12.5079 4.74156 12.5079 7.50472C12.5079 10.2679 10.2679 12.5079 7.50472 12.5079C4.74156 12.5079 2.50157 10.2679 2.50157 7.50472ZM7.50472 0C3.35998 0 0 3.35998 0 7.50472C0 11.6495 3.35998 15.0094 7.50472 15.0094C9.02874 15.0094 10.4467 14.5552 11.6305 13.7746L16.5548 18.6989C17.0432 19.1874 17.8352 19.1874 18.3237 18.6989C18.8121 18.2105 18.8121 17.4185 18.3237 16.9301L13.4625 12.0689C14.4328 10.8043 15.0094 9.22184 15.0094 7.50472C15.0094 3.35998 11.6495 0 7.50472 0Z" fill="#5D6A85"></path></svg></button></div><div><button type="button" class="rounded-lg ui-icon flex align-center" aria-label="Search"><svg width="20" height="18" viewBox="0 0 20 18" fill="none" xmlns="http://www.w3.org/2000/svg" class="scale-110 fill-black-10 dark:fill-gray-50 dark:stroke-gray-50 shrink-0"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.25 0C0.559644 0 0 0.559644 0 1.25C0 1.94036 0.559644 2.5 1.25 2.5H18.75C19.4404 2.5 20 1.94036 20 1.25C20 0.559644 19.4404 0 18.75 0H1.25ZM1.25 5C0.559644 5 0 5.55964 0 6.25C0 6.94036 0.559644 7.5 1.25 7.5H18.75C19.4404 7.5 20 6.94036 20 6.25C20 5.55964 19.4404 5 18.75 5H1.25ZM0 11.25C0 10.5596 0.559644 10 1.25 10H18.75C19.4404 10 20 10.5596 20 11.25C20 11.9404 19.4404 12.5 18.75 12.5H1.25C0.559644 12.5 0 11.9404 0 11.25ZM1.25 15C0.559644 15 0 15.5596 0 16.25C0 16.9404 0.559644 17.5 1.25 17.5H10C10.6904 17.5 11.25 16.9404 11.25 16.25C11.25 15.5596 10.6904 15 10 15H1.25Z" fill="#5D6A85"></path></svg></button></div></div><div class="relative border h-full rounded-md items-center px-3 gap-2 w-full bg-gray-10 dark:bg-gray-85 hover:border-gray-50 hidden lg:flex" role="search"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12" fill="none" stroke="none" class="fill-black-10 dark:fill-gray-50 stroke-black-10 dark:stroke-gray-50 shrink-0 m-0 h-3 w-3"><circle cx="4.5" cy="4.5" r="4" fill="none"></circle><path d="M7.85355 7.14645C7.65829 6.95118 7.34171 6.95118 7.14645 7.14645C6.95118 7.34171 6.95118 7.65829 7.14645 7.85355L7.85355 7.14645ZM10.682 11.3891L11.0355 11.7426L11.7426 11.0355L11.3891 10.682L10.682 11.3891ZM7.14645 7.85355L10.682 11.3891L11.3891 10.682L7.85355 7.14645L7.14645 7.85355Z" stroke="none"></path></svg><input autoComplete="off" name="q" placeholder="Search" role="searchbox" class="outline-none w-full bg-gray-10 dark:bg-gray-85 placeholder:text-secondary pr-3 py-2 text-sm"/><span class="text-secondary text-xs font-normal font-mono leading-none px-1.5 py-1 bg-level-3 hidden sm:inline-flex rounded border border-slate-300 ">/</span></div><div class="w-12 shrink-0 hidden lg:block"></div></div></div><div class="hidden lg:flex border-b gap-3 pl-6"><div class="flex flex-col mt-2 gap-2 justify-between"><a href="/en/user-guide-getting-started" target="" rel="" class="flex items-center whitespace-nowrap p-2 hover:bg-level-3 rounded-md text-masthead-link">Getting Started<!-- --></a><div class="h-[3px] rounded-tl-[5px] rounded-tr-[5px] mx-2"></div></div><div class="flex flex-col mt-2 gap-2 justify-between"><a href="/en/guides" target="" rel="" class="flex items-center whitespace-nowrap p-2 hover:bg-level-3 rounded-md text-masthead-link text-link">Guides<!-- --></a><div class="h-[3px] rounded-tl-[5px] rounded-tr-[5px] mx-2 bg-blue-50 dark:bg-blue-30"></div></div><div class="flex flex-col mt-2 gap-2 justify-between"><a href="/en/developer" target="" rel="" class="flex items-center whitespace-nowrap p-2 hover:bg-level-3 rounded-md text-masthead-link">Developer<!-- --></a><div class="h-[3px] rounded-tl-[5px] rounded-tr-[5px] mx-2"></div></div><div class="flex flex-col mt-2 gap-2 justify-between"><a href="/en/reference" target="" rel="" class="flex items-center whitespace-nowrap p-2 hover:bg-level-3 rounded-md text-masthead-link">Reference<!-- --></a><div class="h-[3px] rounded-tl-[5px] rounded-tr-[5px] mx-2"></div></div><div class="flex flex-col mt-2 gap-2 justify-between"><a href="/en/release-notes/new-features" target="" rel="" class="flex items-center whitespace-nowrap p-2 hover:bg-level-3 rounded-md text-masthead-link">Releases<!-- --></a><div class="h-[3px] rounded-tl-[5px] rounded-tr-[5px] mx-2"></div></div><div class="flex flex-col mt-2 gap-2 justify-between"><a href="/en/tutorials" target="" rel="" class="flex items-center whitespace-nowrap p-2 hover:bg-level-3 rounded-md text-masthead-link">Tutorials<!-- --></a><div class="h-[3px] rounded-tl-[5px] rounded-tr-[5px] mx-2"></div></div><div class="flex flex-col mt-2 gap-2 justify-between"><a href="https://status.snowflake.com" target="_blank" rel="noreferrer" class="flex items-center whitespace-nowrap p-2 hover:bg-level-3 rounded-md text-masthead-link">Status<!-- --><span class="ml-[10px]"><span class=""><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="circle-question" class="svg-inline--fa fa-circle-question " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 0C114.6 0 0 114.6 0 256s114.6 256 256 256s256-114.6 256-256S397.4 0 256 0zM256 400c-18 0-32-14-32-32s13.1-32 32-32c17.1 0 32 14 32 32S273.1 400 256 400zM325.1 258L280 286V288c0 13-11 24-24 24S232 301 232 288V272c0-8 4-16 12-21l57-34C308 213 312 206 312 198C312 186 301.1 176 289.1 176h-51.1C225.1 176 216 186 216 198c0 13-11 24-24 24s-24-11-24-24C168 159 199 128 237.1 128h51.1C329 128 360 159 360 198C360 222 347 245 325.1 258z"></path></svg></span></span></a><div class="h-[3px] rounded-tl-[5px] rounded-tr-[5px] mx-2"></div></div></div></nav><div class="grid h-full auto-rows-auto relative overflow-y-hidden"><main class="flex overflow-y-hidden"><aside class="flex-none hidden lg:block overflow-y-auto bg-lightgray border-r pb-8 scroll-bar w-80 scroll-bar-stable" data-testid="toc-wrapper"><div class="pt-6 pl-1"><nav id="toc"><ol><li class="font-normal"><div class="px-3 text-sm rounded-md hover:bg-level-3 mx-5 flex justify-between items-center"><a href="/en/guides" class="w-full py-2 text-ellipsis overflow-hidden text-sm leading-4" title="Overview"><span>Overview</span></a></div><ul></ul></li><li class="border-t pb-1 mt-1 mx-5"></li><li class="font-normal"><div class="px-3 text-sm rounded-md hover:bg-level-3 mx-5 flex justify-between items-center"><a href="/en/guides-overview-connecting" class="w-full py-2 text-ellipsis overflow-hidden text-sm leading-4" title="Connecting to Snowflake"><span>Connecting to Snowflake</span></a><div class="w-5 h-5 cursor-pointer flex justify-center items-center select-none py-2" style="transform:rotate(0deg)"><svg width="6" height="8" viewBox="0 0 6 8" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2 6.5L4.5 4L2 1.5" stroke="#8A96AD" stroke-width="2" stroke-linecap="square" stroke-linejoin="round"></path></svg></div></div><ul><ol class="overflow-hidden" style="height:0;opacity:0"><div></div></ol></ul></li><li class="border-t pb-1 mt-1 mx-5"></li><li class="font-normal"><div class="px-3 text-sm rounded-md hover:bg-level-3 mx-5 flex justify-between items-center"><a href="/en/user-guide/warehouses" class="w-full py-2 text-ellipsis overflow-hidden text-sm leading-4" title="Virtual warehouses"><span>Virtual warehouses</span></a><div class="w-5 h-5 cursor-pointer flex justify-center items-center select-none py-2" style="transform:rotate(0deg)"><svg width="6" height="8" viewBox="0 0 6 8" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2 6.5L4.5 4L2 1.5" stroke="#8A96AD" stroke-width="2" stroke-linecap="square" stroke-linejoin="round"></path></svg></div></div><ul><ol class="overflow-hidden" style="height:0;opacity:0"><div></div></ol></ul></li><li class="font-normal"><div class="px-3 text-sm rounded-md hover:bg-level-3 mx-5 flex justify-between items-center"><a href="/en/guides-overview-db" class="w-full py-2 text-ellipsis overflow-hidden text-sm leading-4" title="Databases, Tables, &amp; Views"><span>Databases, Tables, &amp; Views</span></a><div class="w-5 h-5 cursor-pointer flex justify-center items-center select-none py-2" style="transform:rotate(0deg)"><svg width="6" height="8" viewBox="0 0 6 8" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2 6.5L4.5 4L2 1.5" stroke="#8A96AD" stroke-width="2" stroke-linecap="square" stroke-linejoin="round"></path></svg></div></div><ul><ol class="overflow-hidden" style="height:0;opacity:0"><div></div></ol></ul></li><li class="font-normal"><div class="px-3 text-sm rounded-md hover:bg-level-3 mx-5 flex justify-between items-center"><a href="/en/data-types" class="w-full py-2 text-ellipsis overflow-hidden text-sm leading-4" title="Data Types"><span>Data Types</span></a></div><ul></ul></li><li class="border-t pb-1 mt-1 mx-5"></li><li class="font-normal"><div class="px-3 text-sm rounded-md hover:bg-level-3 mx-5 flex justify-between items-center"><a href="/en/guides-overview-loading-data" class="w-full py-2 text-ellipsis overflow-hidden text-sm leading-4" title="Data Loading"><span>Data Loading</span></a><div class="w-5 h-5 cursor-pointer flex justify-center items-center select-none py-2" style="transform:rotate(0deg)"><svg width="6" height="8" viewBox="0 0 6 8" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2 6.5L4.5 4L2 1.5" stroke="#8A96AD" stroke-width="2" stroke-linecap="square" stroke-linejoin="round"></path></svg></div></div><ul><ol class="overflow-hidden" style="height:0;opacity:0"><div></div></ol></ul></li><li class="font-normal"><div class="px-3 text-sm rounded-md hover:bg-level-3 mx-5 flex justify-between items-center"><a href="/en/guides-overview-unloading-data" class="w-full py-2 text-ellipsis overflow-hidden text-sm leading-4" title="Data Unloading"><span>Data Unloading</span></a><div class="w-5 h-5 cursor-pointer flex justify-center items-center select-none py-2" style="transform:rotate(0deg)"><svg width="6" height="8" viewBox="0 0 6 8" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2 6.5L4.5 4L2 1.5" stroke="#8A96AD" stroke-width="2" stroke-linecap="square" stroke-linejoin="round"></path></svg></div></div><ul><ol class="overflow-hidden" style="height:0;opacity:0"><div></div></ol></ul></li><li class="border-t pb-1 mt-1 mx-5"></li><li class="font-normal"><div class="px-3 text-sm rounded-md hover:bg-level-3 mx-5 flex justify-between items-center"><a href="/en/guides-overview-queries" class="w-full py-2 text-ellipsis overflow-hidden text-sm leading-4" title="Queries"><span>Queries</span></a><div class="w-5 h-5 cursor-pointer flex justify-center items-center select-none py-2" style="transform:rotate(0deg)"><svg width="6" height="8" viewBox="0 0 6 8" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2 6.5L4.5 4L2 1.5" stroke="#8A96AD" stroke-width="2" stroke-linecap="square" stroke-linejoin="round"></path></svg></div></div><ul><ol class="overflow-hidden" style="height:0;opacity:0"><div></div></ol></ul></li><li class="font-normal"><div class="px-3 text-sm rounded-md hover:bg-level-3 mx-5 flex justify-between items-center"><a href="/en/user-guide/snowflake-cortex/overview" class="w-full py-2 text-ellipsis overflow-hidden text-sm leading-4" title="Snowflake Cortex"><span>Snowflake Cortex</span></a><div class="w-5 h-5 cursor-pointer flex justify-center items-center select-none py-2" style="transform:rotate(0deg)"><svg width="6" height="8" viewBox="0 0 6 8" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2 6.5L4.5 4L2 1.5" stroke="#8A96AD" stroke-width="2" stroke-linecap="square" stroke-linejoin="round"></path></svg></div></div><ul><ol class="overflow-hidden" style="height:0;opacity:0"><div></div></ol></ul></li><li class="font-normal"><div class="px-3 text-sm rounded-md hover:bg-level-3 mx-5 flex justify-between items-center"><a href="/en/guides-overview-sharing" class="w-full py-2 text-ellipsis overflow-hidden text-sm leading-4" title="Data Sharing &amp; Collaboration"><span>Data Sharing &amp; Collaboration</span></a><div class="w-5 h-5 cursor-pointer flex justify-center items-center select-none py-2" style="transform:rotate(0deg)"><svg width="6" height="8" viewBox="0 0 6 8" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2 6.5L4.5 4L2 1.5" stroke="#8A96AD" stroke-width="2" stroke-linecap="square" stroke-linejoin="round"></path></svg></div></div><ul><ol class="overflow-hidden" style="height:0;opacity:0"><div></div></ol></ul></li><li class="border-t pb-1 mt-1 mx-5"></li><li class="font-normal"><div class="px-3 text-sm rounded-md hover:bg-level-3 mx-5 flex justify-between items-center"><a href="/en/guides-overview-alerts" class="w-full py-2 text-ellipsis overflow-hidden text-sm leading-4" title="Alerts &amp; Notifications"><span>Alerts &amp; Notifications</span></a><div class="w-5 h-5 cursor-pointer flex justify-center items-center select-none py-2" style="transform:rotate(0deg)"><svg width="6" height="8" viewBox="0 0 6 8" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2 6.5L4.5 4L2 1.5" stroke="#8A96AD" stroke-width="2" stroke-linecap="square" stroke-linejoin="round"></path></svg></div></div><ul><ol class="overflow-hidden" style="height:0;opacity:0"><div></div></ol></ul></li><li class="border-t pb-1 mt-1 mx-5"></li><li class="font-normal"><div class="px-3 text-sm rounded-md hover:bg-level-3 mx-5 flex justify-between items-center"><a href="/en/guides-overview-secure" class="w-full py-2 text-ellipsis overflow-hidden text-sm leading-4" title="Security"><span>Security</span></a><div class="w-5 h-5 cursor-pointer flex justify-center items-center select-none py-2" style="transform:rotate(0deg)"><svg width="6" height="8" viewBox="0 0 6 8" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2 6.5L4.5 4L2 1.5" stroke="#8A96AD" stroke-width="2" stroke-linecap="square" stroke-linejoin="round"></path></svg></div></div><ul><ol class="overflow-hidden" style="height:0;opacity:0"><div></div></ol></ul></li><li class="font-normal"><div class="px-3 text-sm rounded-md hover:bg-level-3 mx-5 flex justify-between items-center"><a href="/en/guides-overview-govern" class="w-full py-2 text-ellipsis overflow-hidden text-sm leading-4" title="Data Governance"><span>Data Governance</span></a><div class="w-5 h-5 cursor-pointer flex justify-center items-center select-none py-2" style="transform:rotate(90deg)"><svg width="6" height="8" viewBox="0 0 6 8" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2 6.5L4.5 4L2 1.5" stroke="#8A96AD" stroke-width="2" stroke-linecap="square" stroke-linejoin="round"></path></svg></div></div><ul><ol class="overflow-hidden" style="height:auto;opacity:0"><div><li class="pt-3 px-3 py-1 mx-5 pl-5"><span class="font-bold text-sm">Data Quality Monitoring</span></li><li class="font-normal"><div class="px-3 text-sm rounded-md hover:bg-level-3 mx-5 flex justify-between items-center pl-5"><a href="/en/user-guide/data-quality-intro" class="w-full py-2 text-ellipsis overflow-hidden text-sm leading-4" title="Introduction"><span>Introduction</span></a></div><ul></ul></li><li class="font-normal"><div class="px-3 text-sm rounded-md hover:bg-level-3 mx-5 flex justify-between items-center pl-5"><a href="/en/user-guide/data-quality-system-dmfs" class="w-full py-2 text-ellipsis overflow-hidden text-sm leading-4" title="System DMFs"><span>System DMFs</span></a></div><ul></ul></li><li class="font-normal"><div class="px-3 text-sm rounded-md hover:bg-level-3 mx-5 flex justify-between items-center pl-5"><a href="/en/user-guide/data-quality-working" class="w-full py-2 text-ellipsis overflow-hidden text-sm leading-4" title="Working with DMFs"><span>Working with DMFs</span></a></div><ul></ul></li><li class="font-normal"><div class="px-3 text-sm rounded-md hover:bg-level-3 mx-5 flex justify-between items-center pl-5"><a href="/en/user-guide/tutorials/data-quality-tutorial-start" class="w-full py-2 text-ellipsis overflow-hidden text-sm leading-4" title="Tutorial: Getting started with DMFs"><span>Tutorial: Getting started with DMFs</span></a></div><ul></ul></li><li class="pt-3 px-3 py-1 mx-5 pl-5"><span class="font-bold text-sm">Data Sensitivity &amp; Access Visibility</span></li><li class="font-normal"><div class="px-3 text-sm rounded-md hover:bg-level-3 mx-5 flex justify-between items-center pl-5"><a href="/en/user-guide/object-tagging" class="w-full py-2 text-ellipsis overflow-hidden text-sm leading-4" title="Object Tagging"><span>Object Tagging</span></a></div><ul></ul></li><li class="font-normal"><div class="px-3 text-sm rounded-md hover:bg-level-3 mx-5 flex justify-between items-center pl-5"><a href="/en/user-guide/classify-intro" class="w-full py-2 text-ellipsis overflow-hidden text-sm leading-4" title="Data Classification"><span>Data Classification</span></a><div class="w-5 h-5 cursor-pointer flex justify-center items-center select-none py-2" style="transform:rotate(0deg)"><svg width="6" height="8" viewBox="0 0 6 8" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2 6.5L4.5 4L2 1.5" stroke="#8A96AD" stroke-width="2" stroke-linecap="square" stroke-linejoin="round"></path></svg></div></div><ul><ol class="overflow-hidden" style="height:0;opacity:0"><div></div></ol></ul></li><li class="font-normal"><div class="px-3 text-sm rounded-md hover:bg-level-3 mx-5 flex justify-between items-center pl-5"><a href="/en/user-guide/classify-custom" class="w-full py-2 text-ellipsis overflow-hidden text-sm leading-4" title="Custom Classification"><span>Custom Classification</span></a></div><ul></ul></li><li class="pt-3 px-3 py-1 mx-5 pl-5"><span class="font-bold text-sm">Data Access Policies</span></li><li class="font-normal"><div class="px-3 text-sm rounded-md hover:bg-level-3 mx-5 flex justify-between items-center bg-highlight text-blue-60 dark:text-blue-30 pl-5" id="selected-item"><a href="/en/user-guide/security-column-intro" class="w-full py-2 text-ellipsis overflow-hidden text-sm leading-4" title="Masking Policies"><span>Masking Policies</span></a><div class="w-5 h-5 cursor-pointer flex justify-center items-center select-none py-2" style="transform:rotate(90deg)"><svg width="6" height="8" viewBox="0 0 6 8" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2 6.5L4.5 4L2 1.5" stroke="#8A96AD" stroke-width="2" stroke-linecap="square" stroke-linejoin="round"></path></svg></div></div><ul><ol class="overflow-hidden" style="height:auto;opacity:0"><div><li class="font-normal"><div class="px-3 text-sm rounded-md hover:bg-level-3 mx-5 flex justify-between items-center pl-7"><a href="/en/user-guide/security-column-ddm-intro" class="w-full py-2 text-ellipsis overflow-hidden text-sm leading-4" title="Dynamic Data Masking"><span>Dynamic Data Masking</span></a><div class="w-5 h-5 cursor-pointer flex justify-center items-center select-none py-2" style="transform:rotate(0deg)"><svg width="6" height="8" viewBox="0 0 6 8" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2 6.5L4.5 4L2 1.5" stroke="#8A96AD" stroke-width="2" stroke-linecap="square" stroke-linejoin="round"></path></svg></div></div><ul><ol class="overflow-hidden" style="height:0;opacity:0"><div></div></ol></ul></li><li class="font-normal"><div class="px-3 text-sm rounded-md hover:bg-level-3 mx-5 flex justify-between items-center pl-7"><a href="/en/user-guide/security-column-ext-token-intro" class="w-full py-2 text-ellipsis overflow-hidden text-sm leading-4" title="External Tokenization"><span>External Tokenization</span></a><div class="w-5 h-5 cursor-pointer flex justify-center items-center select-none py-2" style="transform:rotate(0deg)"><svg width="6" height="8" viewBox="0 0 6 8" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2 6.5L4.5 4L2 1.5" stroke="#8A96AD" stroke-width="2" stroke-linecap="square" stroke-linejoin="round"></path></svg></div></div><ul><ol class="overflow-hidden" style="height:0;opacity:0"><div></div></ol></ul></li><li class="font-normal"><div class="px-3 text-sm rounded-md hover:bg-level-3 mx-5 flex justify-between items-center pl-7"><a href="/en/user-guide/tag-based-masking-policies" class="w-full py-2 text-ellipsis overflow-hidden text-sm leading-4" title="Tag-based Masking"><span>Tag-based Masking</span></a></div><ul></ul></li><li class="font-normal"><div class="px-3 text-sm rounded-md hover:bg-level-3 mx-5 flex justify-between items-center pl-7"><a href="/en/user-guide/security-column-advanced" class="w-full py-2 text-ellipsis overflow-hidden text-sm leading-4" title="Advanced"><span>Advanced</span></a></div><ul></ul></li></div></ol></ul></li><li class="font-normal"><div class="px-3 text-sm rounded-md hover:bg-level-3 mx-5 flex justify-between items-center pl-5"><a href="/en/user-guide/security-row-intro" class="w-full py-2 text-ellipsis overflow-hidden text-sm leading-4" title="Row Access Policies"><span>Row Access Policies</span></a><div class="w-5 h-5 cursor-pointer flex justify-center items-center select-none py-2" style="transform:rotate(0deg)"><svg width="6" height="8" viewBox="0 0 6 8" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2 6.5L4.5 4L2 1.5" stroke="#8A96AD" stroke-width="2" stroke-linecap="square" stroke-linejoin="round"></path></svg></div></div><ul><ol class="overflow-hidden" style="height:0;opacity:0"><div></div></ol></ul></li><li class="pt-3 px-3 py-1 mx-5 pl-5"><span class="font-bold text-sm">Data Lineage &amp; Dependencies</span></li><li class="font-normal"><div class="px-3 text-sm rounded-md hover:bg-level-3 mx-5 flex justify-between items-center pl-5"><a href="/en/user-guide/access-history" class="w-full py-2 text-ellipsis overflow-hidden text-sm leading-4" title="Access History"><span>Access History</span></a></div><ul></ul></li><li class="font-normal"><div class="px-3 text-sm rounded-md hover:bg-level-3 mx-5 flex justify-between items-center pl-5"><a href="/en/user-guide/object-dependencies" class="w-full py-2 text-ellipsis overflow-hidden text-sm leading-4" title="Object Dependencies"><span>Object Dependencies</span></a></div><ul></ul></li></div></ol></ul></li><li class="font-normal"><div class="px-3 text-sm rounded-md hover:bg-level-3 mx-5 flex justify-between items-center"><a href="/en/guides-overview-privacy" class="w-full py-2 text-ellipsis overflow-hidden text-sm leading-4" title="Privacy"><span>Privacy</span></a><div class="w-5 h-5 cursor-pointer flex justify-center items-center select-none py-2" style="transform:rotate(0deg)"><svg width="6" height="8" viewBox="0 0 6 8" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2 6.5L4.5 4L2 1.5" stroke="#8A96AD" stroke-width="2" stroke-linecap="square" stroke-linejoin="round"></path></svg></div></div><ul><ol class="overflow-hidden" style="height:0;opacity:0"><div></div></ol></ul></li><li class="border-t pb-1 mt-1 mx-5"></li><li class="font-normal"><div class="px-3 text-sm rounded-md hover:bg-level-3 mx-5 flex justify-between items-center"><a href="/en/guides-overview-manage" class="w-full py-2 text-ellipsis overflow-hidden text-sm leading-4" title="Organizations &amp; Accounts"><span>Organizations &amp; Accounts</span></a><div class="w-5 h-5 cursor-pointer flex justify-center items-center select-none py-2" style="transform:rotate(0deg)"><svg width="6" height="8" viewBox="0 0 6 8" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2 6.5L4.5 4L2 1.5" stroke="#8A96AD" stroke-width="2" stroke-linecap="square" stroke-linejoin="round"></path></svg></div></div><ul><ol class="overflow-hidden" style="height:0;opacity:0"><div></div></ol></ul></li><li class="font-normal"><div class="px-3 text-sm rounded-md hover:bg-level-3 mx-5 flex justify-between items-center"><a href="/en/user-guide/replication-intro" class="w-full py-2 text-ellipsis overflow-hidden text-sm leading-4" title="Business Continuity &amp; Data Recovery"><span>Business Continuity &amp; Data Recovery</span></a><div class="w-5 h-5 cursor-pointer flex justify-center items-center select-none py-2" style="transform:rotate(0deg)"><svg width="6" height="8" viewBox="0 0 6 8" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2 6.5L4.5 4L2 1.5" stroke="#8A96AD" stroke-width="2" stroke-linecap="square" stroke-linejoin="round"></path></svg></div></div><ul><ol class="overflow-hidden" style="height:0;opacity:0"><div></div></ol></ul></li><li class="border-t pb-1 mt-1 mx-5"></li><li class="font-normal"><div class="px-3 text-sm rounded-md hover:bg-level-3 mx-5 flex justify-between items-center"><a href="/en/guides-overview-performance" class="w-full py-2 text-ellipsis overflow-hidden text-sm leading-4" title="Performance Optimization"><span>Performance Optimization</span></a><div class="w-5 h-5 cursor-pointer flex justify-center items-center select-none py-2" style="transform:rotate(0deg)"><svg width="6" height="8" viewBox="0 0 6 8" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2 6.5L4.5 4L2 1.5" stroke="#8A96AD" stroke-width="2" stroke-linecap="square" stroke-linejoin="round"></path></svg></div></div><ul><ol class="overflow-hidden" style="height:0;opacity:0"><div></div></ol></ul></li><li class="font-normal"><div class="px-3 text-sm rounded-md hover:bg-level-3 mx-5 flex justify-between items-center"><a href="/en/guides-overview-cost" class="w-full py-2 text-ellipsis overflow-hidden text-sm leading-4" title="Cost &amp; Billing"><span>Cost &amp; Billing</span></a><div class="w-5 h-5 cursor-pointer flex justify-center items-center select-none py-2" style="transform:rotate(0deg)"><svg width="6" height="8" viewBox="0 0 6 8" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2 6.5L4.5 4L2 1.5" stroke="#8A96AD" stroke-width="2" stroke-linecap="square" stroke-linejoin="round"></path></svg></div></div><ul><ol class="overflow-hidden" style="height:0;opacity:0"><div></div></ol></ul></li></ol></nav></div></aside><div class="w-full overflow-y-auto" id="scrolltarget"><div class="flex flex-col-reverse xl:flex-row xl:justify-between mx-auto pt-8 px-8 mb-12 max-w-[1175px]"><div class="w-full xl:w-9/12"><nav class="mb-2 flex space-x-4 text-sm flex-wrap"><a href="/en/guides" class="text-link hover:underline">Guides</a><span class="ui-icon mb-2"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="chevron-right" class="svg-inline--fa fa-chevron-right " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M96 480c-8.188 0-16.38-3.125-22.62-9.375c-12.5-12.5-12.5-32.75 0-45.25L242.8 256L73.38 86.63c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0l192 192c12.5 12.5 12.5 32.75 0 45.25l-192 192C112.4 476.9 104.2 480 96 480z"></path></svg></span><a href="/en/guides-overview-govern" class="text-link hover:underline">Data Governance</a><span class="ui-icon mb-2"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="chevron-right" class="svg-inline--fa fa-chevron-right " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M96 480c-8.188 0-16.38-3.125-22.62-9.375c-12.5-12.5-12.5-32.75 0-45.25L242.8 256L73.38 86.63c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0l192 192c12.5 12.5 12.5 32.75 0 45.25l-192 192C112.4 476.9 104.2 480 96 480z"></path></svg></span><span class="mb-2">Masking Policies</span></nav><article>


  
  <section id="understanding-column-level-security">
<h1>Understanding Column-level Security<a class="headerlink" href="#understanding-column-level-security" title="Link to this heading">¶</a></h1>
<aside class="sfedition sidebar">
<p class="sidebar-title"><a class="image-small reference internal" href="../_images/logo-snowflake-black.png"><img alt="Snowflake logo in black (no text)" class="image-small" src="../_images/logo-snowflake-black.png" style="width: 15px; height: 15px;"></a> <a class="reference internal" href="intro-editions"><span class="doc">Enterprise Edition Feature</span></a></p>
<p>This feature requires Enterprise Edition (or higher). To inquire about upgrading, please contact <a class="reference external" href="https://community.snowflake.com/s/article/How-To-Submit-a-Support-Case-in-Snowflake-Lodge">Snowflake Support</a>.</p>
</aside>

<p>This topic provides a general overview of Column-level Security and describes the features and support that are common to both Dynamic Data
Masking and External Tokenization.</p>
<p>To learn more about using a masking policy with a tag, see <a class="reference internal" href="tag-based-masking-policies"><span class="doc">Tag-based masking policies</span></a>.</p>

<section id="what-is-column-level-security">
<h2>What is Column-level Security?<a class="headerlink" href="#what-is-column-level-security" title="Link to this heading">¶</a></h2>
<p>Column-level Security in Snowflake allows the application of a masking policy to a column within a table or view. Currently, Column-level Security includes two features:</p>
<ol class="arabic simple">
<li><p><a class="reference internal" href="security-column-ddm-intro"><span class="doc">Dynamic Data Masking</span></a></p></li>
<li><p><a class="reference internal" href="security-column-ext-token-intro"><span class="doc">External Tokenization</span></a></p></li>
</ol>
<p>Dynamic Data Masking is a Column-level Security feature that uses masking policies to selectively mask plain-text data in table and view columns at query time.</p>
<p>External Tokenization enables accounts to tokenize data before loading it into Snowflake and detokenize the data at query runtime. Tokenization is the process of removing sensitive data by replacing it with an undecipherable token. External Tokenization makes use of masking policies with <a class="reference internal" href="../sql-reference/external-functions"><span class="doc">external functions</span></a>.</p>
<section id="what-are-masking-policies">
<h3>What are masking policies?<a class="headerlink" href="#what-are-masking-policies" title="Link to this heading">¶</a></h3>
<p>Snowflake supports masking policies as a schema-level object to protect sensitive data from unauthorized access while allowing authorized users to access sensitive data at query runtime. This means that sensitive data in Snowflake is not modified in an existing table (i.e. no static masking). Rather, when users execute a query in which a masking policy applies, the masking policy conditions determine whether unauthorized users see masked, partially masked, obfuscated, or tokenized data. Masking policies as a schema-level object also provide flexibility in choosing a centralized, decentralized, or hybrid management approach. For more information, see <a class="reference internal" href="#managing-column-level-security">Managing Column-level Security</a> (in this topic).</p>
<p>Masking policies can include conditions and functions to transform the data at query runtime when those conditions are met. The policy-driven approach supports segregation of duties to allow security teams to define policies that can limit sensitive data exposure, even to the owner of an object (i.e. the role with the OWNERSHIP privilege on the object, such as a table or view) who normally have full access to the underlying data.</p>
<blockquote>
<div><figure class="align-default">
<a class="reference internal image-reference" href="../_images/security-column-intro-admin-apply-policies.png"><img alt="The masking policy admin can apply masking policies to tables and views." src="../_images/security-column-intro-admin-apply-policies.png" style="width: 656.0px; height: 441.6px;"></a>
</figure>
</div></blockquote>
<p>For example, masking policy administrators can implement a masking policy such that analysts (i.e. users with the custom ANALYST role) can only view the last four digits of a phone number and none of the social security number, while customer support representatives (i.e. users with the custom SUPPORT role) can view the entire phone number and social security number for customer verification use cases.</p>
<blockquote>
<div><figure class="align-default">
<a class="reference internal image-reference" href="../_images/security-column-intro-authz-phone-ssn.png"><img alt="Masking policy results for authorized and unauthorized roles." src="../_images/security-column-intro-authz-phone-ssn.png" style="width: 1090.0px; height: 320.0px;"></a>
</figure>
</div></blockquote>
<p>A masking policy consists of a single <a class="reference internal" href="../sql-reference-data-types"><span class="doc">data type</span></a>, one or more conditions, and one or more masking
functions.</p>
<ul class="simple">
<li><p>You can apply the masking policy to one or more table/view columns with the matching data type. For example, you can define a policy for an email address once and apply it to 1000s of email columns across databases and schemas.</p></li>
<li><p>Masking policy conditions can be expressed using <a class="reference internal" href="../sql-reference/expressions-conditional"><span class="doc">Conditional Expression Functions</span></a> and <a class="reference internal" href="../sql-reference/functions-context"><span class="doc">Context Functions</span></a> or by querying a custom entitlement table. You can use the context functions <a class="reference internal" href="../sql-reference/functions/invoker_role"><span class="doc">INVOKER_ROLE</span></a> and <a class="reference internal" href="../sql-reference/functions/invoker_share"><span class="doc">INVOKER_SHARE</span></a> for use with views and shares, respectively.</p></li>
<li><p>Masking functions can be any of the built-in functions (e.g. <a class="reference internal" href="../sql-reference/functions/regexp_replace"><span class="doc">REGEXP_REPLACE</span></a>, <a class="reference internal" href="../sql-reference/functions/sha2"><span class="doc">SHA2 , SHA2_HEX</span></a>), <a class="reference internal" href="../developer-guide/udf/udf-overview"><span class="doc">User-Defined Functions Overview</span></a>, or <a class="reference internal" href="../sql-reference/external-functions"><span class="doc">Writing External Functions</span></a> (for de-tokenization using an external tokenization provider).</p></li>
</ul>
<p>While Snowflake offers <a class="reference internal" href="views-secure"><span class="doc">secure views</span></a> to restrict access to sensitive data, secure views present management challenges due to large numbers of views and derived business intelligence (BI) dashboards from each view. Masking policies solve this management challenge by avoiding an explosion of views and dashboards to manage.</p>
<p>Masking policies support segregation of duties (SoD) through the role separation of policy administrators from object owners. Secure views do not have SoD, which is a profound limitation to their utility. This role separation leads to the following default settings:</p>
<ul class="simple">
<li><p>Object owners (i.e. the role that has the OWNERSHIP privilege on the object) do not have the privilege to unset masking policies.</p></li>
<li><p>Object owners cannot view column data in which a masking policy applies.</p></li>
</ul>
<p>For more information on managing roles and privileges, see <a class="reference internal" href="#managing-column-level-security">Managing Column-level Security</a> (in this topic) and <a class="reference internal" href="security-access-control-privileges"><span class="doc">Access control privileges</span></a>.</p>
<section id="how-does-a-masking-policy-work">
<h4>How does a masking policy work?<a class="headerlink" href="#how-does-a-masking-policy-work" title="Link to this heading">¶</a></h4>
<p>Masking policies for Dynamic Data Masking and External Tokenization adopt the same structure and format with one notable exception: masking policies for External Tokenization require using <a class="reference internal" href="../sql-reference/external-functions"><span class="doc">Writing External Functions</span></a> in the masking policy body.</p>
<p>The reason for this exception is that External Tokenization requires a third-party tokenization provider to tokenize data before loading data into Snowflake. At query runtime, Snowflake uses the external function to make a REST API call to the tokenization provider, which then evaluates a tokenization policy (that is created outside of Snowflake) to return either tokenized or detokenized data based on the masking policy conditions. Note that role mapping must exist in Snowflake and the tokenization provider to ensure that the correct data can be returned from a given query.</p>
<p>Snowflake supports creating masking policies using <a class="reference internal" href="../sql-reference/sql/create-masking-policy"><span class="doc">CREATE MASKING POLICY</span></a>. For example:</p>
<div class="relative group text-sm"><div class="highlight-sqlexample notranslate"><div class="highlight"><pre><span></span><span class="py">-- Dynamic Data Masking</span>

<span class="ni">CREATE</span> <span class="ni">MASKING POLICY</span> <span class="gi">employee_ssn_mask</span> <span class="ni">AS</span> <span class="p">(</span><span class="gi">val</span> <span class="ni">string</span><span class="p">)</span> <span class="ni">RETURNS</span> <span class="ni">string</span> <span class="p">-&gt;</span>
  <span class="ni">CASE</span>
    <span class="ni">WHEN</span> <span class="nd">CURRENT_ROLE</span><span class="p">()</span> <span class="ni">IN</span> <span class="p">(</span><span class="nc">'PAYROLL'</span><span class="p">)</span> <span class="ni">THEN</span> <span class="gi">val</span>
    <span class="ni">ELSE</span> <span class="nc">'******'</span>
  <span class="ni">END</span><span class="p">;</span>

<span class="py">-- External Tokenization</span>

  <span class="ni">CREATE</span> <span class="ni">MASKING POLICY</span> <span class="gi">employee_ssn_detokenize</span> <span class="ni">AS</span> <span class="p">(</span><span class="gi">val</span> <span class="ni">string</span><span class="p">)</span> <span class="ni">RETURNS</span> <span class="ni">string</span> <span class="p">-&gt;</span>
  <span class="ni">CASE</span>
    <span class="ni">WHEN</span> <span class="nd">CURRENT_ROLE</span><span class="p">()</span> <span class="ni">IN</span> <span class="p">(</span><span class="nc">'PAYROLL'</span><span class="p">)</span> <span class="ni">THEN</span> <span class="gi">ssn_unprotect</span><span class="p">(</span><span class="gi">VAL</span><span class="p">)</span>
    <span class="ni">ELSE</span> <span class="gi">val</span> <span class="py">-- sees tokenized data</span>
  <span class="ni">END</span><span class="p">;</span>
</pre></div>
</div><div data-codeblock-index="0" class="copybutton"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 384 512" class="copybutton-icon icon-copy"><path d="M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 512" class="copybutton-icon icon-copied hidden"><path d="M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg><span>Copy</span></div></div>
<p>Where:</p>
<blockquote>
<div><dl>
<dt><code class="code docutils literal notranslate"><span class="pre">employee_ssn_mask</span></code></dt><dd><p>The name of the Dynamic Data Masking policy.</p>
</dd>
<dt><code class="code docutils literal notranslate"><span class="pre">employee_ssn_detokenize</span></code></dt><dd><p>The name of the External Tokenization policy.</p>
</dd>
<dt><code class="code docutils literal notranslate"><span class="pre">AS</span> <span class="pre">(val</span> <span class="pre">string)</span> <span class="pre">RETURNS</span> <span class="pre">string</span></code></dt><dd><p>Specifies the input and output data types. The data types must match.</p>
</dd>
<dt><code class="code docutils literal notranslate"><span class="pre">-&gt;</span></code></dt><dd><p>Separates the policy signature from its body.</p>
</dd>
<dt><code class="code docutils literal notranslate"><span class="pre">case</span> <span class="pre">...</span> <span class="pre">end;</span></code></dt><dd><p>Specifies the masking policy body (i.e. SQL expression) conditions.</p>
<p>In these two examples, if the query operator is using the PAYROLL custom role in the current session, the operator sees the unmasked/detokenized value. Otherwise, a fixed masked/tokenized value is seen.</p>
</dd>
<dt><code class="code docutils literal notranslate"><span class="pre">ssn_unprotect</span></code></dt><dd><p>The external function to operate on the tokenized data.</p>
</dd>
</dl>
</div></blockquote>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If you want to update an existing masking policy and need to see the current definition of the policy, call the <a class="reference internal" href="../sql-reference/functions/get_ddl"><span class="doc">GET_DDL</span></a> function or run the <a class="reference internal" href="../sql-reference/sql/desc-masking-policy"><span class="doc">DESCRIBE MASKING POLICY</span></a> command.</p>
<p>The masking policy definition can then be updated with the <a class="reference internal" href="../sql-reference/sql/alter-masking-policy"><span class="doc">ALTER MASKING POLICY</span></a> command. This command does not
require unsetting a masking policy from a column, if the masking policy is set on a column. So, a column that is protected by a policy
remains protected while the policy definition is being updated.</p>
</div>
<p>For more details on using masking policies, see:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#using-column-level-security-on-tables-and-views">Using Column-level Security on Tables and Views</a> (in this topic)</p></li>
<li><p><a class="reference internal" href="security-column-ddm-intro"><span class="doc">Dynamic Data Masking</span></a></p></li>
<li><p><a class="reference internal" href="security-column-ext-token-intro"><span class="doc">External Tokenization</span></a></p></li>
<li><p><a class="reference internal" href="security-column-advanced"><span class="doc">Advanced Column-level Security topics</span></a></p></li>
<li><p><a class="reference internal" href="../sql-reference/functions/is_role_in_session"><span class="doc">IS_ROLE_IN_SESSION</span></a> (for policy examples when role hierarchy and role activation is important)</p></li>
</ul>
</section>
<section id="use-conditional-columns">
<span id="label-security-column-intro-cond-cols"></span><h4>Use conditional columns<a class="headerlink" href="#use-conditional-columns" title="Link to this heading">¶</a></h4>
<p>Conditional masking uses a masking policy to selectively protect the column data in a table or view based on the values in one or more
different columns.</p>
<p>Using a different column to determine whether data in a given column should be protected offers policy administrators
(i.e. users with the <code class="docutils literal notranslate"><span class="pre">POLICY_ADMIN</span></code> custom role) more freedom to create policy conditions.</p>
<p>Note the difference between the two representative policy examples:</p>
<dl class="field-list">
<dt class="field-odd">Masking policy<span class="colon">:</span></dt>
<dd class="field-odd"><p>This policy can be used for dynamic data masking.</p>
<div class="relative group text-sm"><div class="highlight-sqlexample notranslate"><div class="highlight"><pre><span></span><span class="ni">CREATE</span> <span class="ni">MASKING POLICY</span> <span class="gi">email_mask</span> <span class="ni">AS</span>
<span class="p">(</span><span class="gi">val</span> <span class="ni">string</span><span class="p">)</span> <span class="ni">RETURNS</span> <span class="ni">string</span> <span class="p">-&gt;</span>
  <span class="ni">CASE</span>
    <span class="ni">WHEN</span> <span class="nd">CURRENT_ROLE</span><span class="p">()</span> <span class="ni">IN</span> <span class="p">(</span><span class="nc">'PAYROLL'</span><span class="p">)</span> <span class="ni">THEN</span> <span class="gi">val</span>
    <span class="ni">ELSE</span> <span class="nc">'******'</span>
  <span class="ni">END</span><span class="p">;</span>
</pre></div>
</div><div data-codeblock-index="1" class="copybutton"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 384 512" class="copybutton-icon icon-copy"><path d="M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 512" class="copybutton-icon icon-copied hidden"><path d="M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg><span>Copy</span></div></div>
<p>This policy specifies only one argument, <code class="docutils literal notranslate"><span class="pre">val</span></code>, which represents any column that contains string data. This policy can be created
once and applied to any column containing string data. Only users whose <a class="reference internal" href="../sql-reference/functions/current_role"><span class="doc">CURRENT_ROLE</span></a> is the <code class="docutils literal notranslate"><span class="pre">PAYROLL</span></code>
custom role can see the column data. Otherwise, Snowflake returns a fixed masked value in the query result.</p>
<p>For more information, see <a class="reference internal" href="../sql-reference/sql/create-masking-policy"><span class="doc">CREATE MASKING POLICY</span></a>.</p>
</dd>
<dt class="field-even">Conditional masking policy<span class="colon">:</span></dt>
<dd class="field-even"><p>Note the arguments, <code class="docutils literal notranslate"><span class="pre">(email</span> <span class="pre">varchar,</span> <span class="pre">visibility</span> <span class="pre">string)</span></code>, in this example.</p>
<div class="relative group text-sm"><div class="highlight-sqlexample notranslate"><div class="highlight"><pre><span></span><span class="ni">CREATE</span> <span class="ni">MASKING POLICY</span> <span class="gi">email_visibility</span> <span class="ni">AS</span>
<span class="p">(</span><span class="ni">email</span> <span class="ni">varchar</span><span class="p">,</span> <span class="gi">visibility</span> <span class="ni">string</span><span class="p">)</span> <span class="ni">RETURNS</span> <span class="ni">varchar</span> <span class="p">-&gt;</span>
  <span class="ni">CASE</span>
    <span class="ni">WHEN</span> <span class="nd">CURRENT_ROLE</span><span class="p">()</span> <span class="p">=</span> <span class="nc">'ADMIN'</span> <span class="ni">THEN</span> <span class="ni">email</span>
    <span class="ni">WHEN</span> <span class="gi">VISIBILITY</span> <span class="p">=</span> <span class="nc">'PUBLIC'</span> <span class="ni">THEN</span> <span class="ni">email</span>
    <span class="ni">ELSE</span> <span class="nc">'***MASKED***'</span>
  <span class="ni">END</span><span class="p">;</span>
</pre></div>
</div><div data-codeblock-index="2" class="copybutton"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 384 512" class="copybutton-icon icon-copy"><path d="M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 512" class="copybutton-icon icon-copied hidden"><path d="M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg><span>Copy</span></div></div>
<p>This policy specifies two arguments, <code class="docutils literal notranslate"><span class="pre">email</span></code> and <code class="docutils literal notranslate"><span class="pre">visibility</span></code>, and these arguments are column names. The first column <span class="emph">always</span>
specifies the column to mask. The second column is a conditional column to evaluate whether the first column should be masked. Multiple
conditional columns can be specified. In this policy, users whose CURRENT_ROLE is the <code class="docutils literal notranslate"><span class="pre">ADMIN</span></code> custom role can view the email address.
If the email address also has a visibility column value of <code class="docutils literal notranslate"><span class="pre">Public</span></code>, then the email address is visible in the query result.
Otherwise, Snowflake returns a query result with a fixed masked value for the email column.</p>
<p>This policy can be used on multiple tables and views provided that column structure in the table or view matches the columns specified in
the policy. For more information, see <a class="reference internal" href="../sql-reference/sql/create-masking-policy"><span class="doc">CREATE MASKING POLICY</span></a>.</p>
</dd>
</dl>
<p>Since the same object type is used for each representative example, the overall behavior of the policies should be similar, including, but not limited to:</p>
<ul class="simple">
<li><p>Query runtime evaluation.</p></li>
<li><p>Utility (e.g. protecting sensitive data, using <a class="reference internal" href="../sql-reference/functions-context"><span class="doc">Context Functions</span></a>).</p></li>
<li><p>Privilege structure.</p></li>
<li><p>Usage with different management approaches to support segregation of duties (SoD).</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Limitations<span class="colon">:</span></dt>
<dd class="field-odd"><p>In addition to the existing <a class="reference internal" href="#label-security-column-limitations"><span class="std std-ref">masking policy limitations</span></a>, conditional masking policies have
the following limitations:</p>
<ul class="simple">
<li><p>Row access policies. For details, see <a class="reference internal" href="#row-access-policies">Row Access Policies</a> (in this topic).</p></li>
<li><p>External tables. For details, see: <a class="reference internal" href="#label-security-column-intro-ext-table"><span class="std std-ref">External tables</span></a> (in this topic).</p></li>
</ul>
</dd>
<dt class="field-even">Considerations<span class="colon">:</span></dt>
<dd class="field-even"><p>In addition to the existing normal <a class="reference internal" href="#label-security-column-considerations"><span class="std std-ref">masking policy considerations</span></a>, evaluate the following
points prior to using conditional masking policies:</p>
<ul class="simple">
<li><p>Ensure all columns specified in the CREATE MASKING POLICY statement reside in the same table or view.</p></li>
<li><p>Minimize the number of column arguments in the policy definition. Snowflake must evaluate each column at query runtime. Specifying
fewer columns leads to faster performance overall.</p></li>
<li><p>Track conditional column usage in a masking policy by calling the Information Schema table function
<a class="reference internal" href="../sql-reference/functions/policy_references"><span class="doc">POLICY_REFERENCES</span></a>.</p></li>
</ul>
</dd>
</dl>
<p>For more details on setting masking policies with conditional columns, see
<a class="reference internal" href="#label-security-column-intro-apply-cond-cols"><span class="std std-ref">Apply a conditional masking policy on a column</span></a> (in this topic).</p>
</section>
<section id="masking-policies-at-query-runtime">
<span id="label-security-column-query-runtime"></span><h4>Masking policies at query runtime<a class="headerlink" href="#masking-policies-at-query-runtime" title="Link to this heading">¶</a></h4>
<p>At runtime, Snowflake rewrites the query to apply the masking policy expression to the columns specified in the masking policy. The masking
policy is applied to the column regardless of where in a SQL expression the column is referenced, including:</p>
<ul class="simple">
<li><p>Projections.</p></li>
<li><p>JOIN predicates.</p></li>
<li><p>WHERE clause predicates.</p></li>
<li><p>ORDER BY and GROUP BY clauses.</p></li>
</ul>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>A masking policy is deliberately applied wherever the relevant column is referenced by a SQL construct to prevent the de-anonymization of
data through creative queries to include masked column data.</p>
<p>Therefore, if executing a query results in masked data in one or more columns, the query output may not provide the anticipated value
because the masked data prevents evaluating all of the query output data in the desired context.</p>
</div>
<p><strong>Masking policies with nested objects:</strong></p>
<blockquote>
<div><p>Snowflake supports nested masking policies, such as a masking policy on a table and a masking policy on a view for the same table. At
query runtime, Snowflake evaluates all masking policies that are relevant to a given query in the following sequence:</p>
<ol class="arabic simple">
<li><p>The masking policy that is applicable to the table is always executed first.</p></li>
<li><p>The policy for the view is executed after evaluating the policy for the table.</p></li>
<li><p>If nested views exist (e.g. <code class="docutils literal notranslate"><span class="pre">table_1</span></code> » <code class="docutils literal notranslate"><span class="pre">view_1</span></code> » <code class="docutils literal notranslate"><span class="pre">view_2</span></code> » … <code class="docutils literal notranslate"><span class="pre">view_n</span></code>), the policies are applied in sequential
order from left to right.</p></li>
</ol>
<p>This pattern continues for however many masking policies exist with respect to the data in the query. The following diagram illustrates
the relationship between a query performer, tables, views, and policies.</p>
<figure class="align-default">
<a class="reference internal image-reference" href="../_images/security-column-row-intro-policy-table-view.png"><img alt="Masking policies with tables and views." src="../_images/security-column-row-intro-policy-table-view.png" style="width: 1064.0px; height: 445.2px;"></a>
</figure>
</div></blockquote>
<p><strong>User queries:</strong></p>
<blockquote>
<div><p>The following example shows a user-submitted query followed by the Snowflake runtime query rewrite in which the masking policy
(i.e. <code class="docutils literal notranslate"><span class="pre">sql_expression</span></code>) applies to the <span class="ui">email</span> column only.</p>
<div class="relative group text-sm"><div class="highlight-sqlexample notranslate"><div class="highlight"><pre><span></span><span class="ni">SELECT</span> <span class="ni">email</span><span class="p">,</span> <span class="gi">city</span>
<span class="ni">FROM</span> <span class="gi">customers</span>
<span class="ni">WHERE</span> <span class="gi">city</span> <span class="p">=</span> <span class="nc">'San Mateo'</span><span class="p">;</span>

<span class="ni">SELECT</span> <span class="p">&lt;</span><span class="gi">SQL_expression</span><span class="p">&gt;(</span><span class="ni">email</span><span class="p">),</span> <span class="gi">city</span>
<span class="ni">FROM</span> <span class="gi">customers</span>
<span class="ni">WHERE</span> <span class="gi">city</span> <span class="p">=</span> <span class="nc">'San Mateo'</span><span class="p">;</span>
</pre></div>
</div><div data-codeblock-index="3" class="copybutton"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 384 512" class="copybutton-icon icon-copy"><path d="M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 512" class="copybutton-icon icon-copied hidden"><path d="M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg><span>Copy</span></div></div>
</div></blockquote>
<p><strong>Query with a protected column in the WHERE clause predicate (anti-pattern):</strong></p>
<blockquote>
<div><p>The following examples show a user-submitted query followed by the Snowflake runtime query rewrite in which the masking policy
(i.e. <code class="docutils literal notranslate"><span class="pre">sql_expression</span></code>) applies to only one side of a comparison (e.g. the email column but not the string to which the email column
is compared). The results of the query are <span class="emph">not</span> what the user intended. Masking only one side of a comparison is a common
anti-pattern.</p>
<div class="relative group text-sm"><div class="highlight-sqlexample-lower notranslate"><div class="highlight"><pre><span></span><span class="ni">SELECT</span> <span class="ni">email</span>
<span class="ni">FROM</span> <span class="gi">customers</span>
<span class="ni">WHERE</span> <span class="ni">email</span> <span class="p">=</span> <span class="nc">'user@example.com'</span><span class="p">;</span>

<span class="ni">SELECT</span> <span class="p">&lt;</span><span class="gi">SQL_expression</span><span class="p">&gt;(</span><span class="ni">email</span><span class="p">)</span>
<span class="ni">FROM</span> <span class="gi">customers</span>
<span class="ni">WHERE</span> <span class="p">&lt;</span><span class="gi">SQL_expression</span><span class="p">&gt;(</span><span class="ni">email</span><span class="p">)</span> <span class="p">=</span> <span class="nc">'user@example.com'</span><span class="p">;</span>
</pre></div>
</div><div data-codeblock-index="4" class="copybutton"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 384 512" class="copybutton-icon icon-copy"><path d="M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 512" class="copybutton-icon icon-copied hidden"><path d="M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg><span>Copy</span></div></div>
</div></blockquote>
<p><strong>Query with a protected column in the JOIN predicate (anti-pattern):</strong></p>
<blockquote>
<div><div class="relative group text-sm"><div class="highlight-sqlexample notranslate"><div class="highlight"><pre><span></span><span class="ni">SELECT</span> <span class="nf">b</span><span class="p">.</span><span class="ni">email</span><span class="p">,</span> <span class="ni">d</span><span class="p">.</span><span class="gi">city</span>
<span class="ni">FROM</span>
  <span class="gi">sf_tuts</span><span class="p">.</span><span class="ni">public</span><span class="p">.</span><span class="gi">emp_basic</span> <span class="ni">AS</span> <span class="nf">b</span>
  <span class="ni">JOIN</span> <span class="gi">sf_tuts</span><span class="p">.</span><span class="ni">public</span><span class="p">.</span><span class="gi">emp_details</span> <span class="ni">AS</span> <span class="ni">d</span> <span class="ni">ON</span> <span class="nf">b</span><span class="p">.</span><span class="ni">email</span> <span class="p">=</span> <span class="ni">d</span><span class="p">.</span><span class="ni">email</span><span class="p">;</span>

<span class="ni">SELECT</span>
  <span class="p">&lt;</span><span class="gi">SQL_expression</span><span class="p">&gt;(</span><span class="nf">b</span><span class="p">.</span><span class="ni">email</span><span class="p">),</span>
  <span class="ni">d</span><span class="p">.</span><span class="gi">city</span>
<span class="ni">FROM</span>
  <span class="gi">sf_tuts</span><span class="p">.</span><span class="ni">public</span><span class="p">.</span><span class="gi">emp_basic</span> <span class="ni">AS</span> <span class="nf">b</span>
  <span class="ni">JOIN</span> <span class="gi">sf_tuts</span><span class="p">.</span><span class="ni">public</span><span class="p">.</span><span class="gi">emp_details</span> <span class="ni">AS</span> <span class="ni">d</span> <span class="ni">ON</span> <span class="p">&lt;</span><span class="gi">SQL_expression</span><span class="p">&gt;(</span><span class="nf">b</span><span class="p">.</span><span class="ni">email</span><span class="p">)</span> <span class="p">=</span> <span class="p">&lt;</span><span class="gi">SQL_expression</span><span class="p">&gt;(</span><span class="ni">d</span><span class="p">.</span><span class="ni">email</span><span class="p">);</span>
</pre></div>
</div><div data-codeblock-index="5" class="copybutton"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 384 512" class="copybutton-icon icon-copy"><path d="M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 512" class="copybutton-icon icon-copied hidden"><path d="M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg><span>Copy</span></div></div>
</div></blockquote>
</section>
<section id="query-runtime-considerations">
<span id="label-security-column-query-runtime-considerations"></span><h4>Query runtime considerations<a class="headerlink" href="#query-runtime-considerations" title="Link to this heading">¶</a></h4>
<p>Snowflake recommends considering the following factors when trying to predict the effect of applying a masking policy to a column and whether the query operator sees masked data:</p>
<dl class="field-list simple">
<dt class="field-odd">The current session<span class="colon">:</span></dt>
<dd class="field-odd"><p>Masking policy conditions using <a class="reference internal" href="../sql-reference/functions/current_role"><span class="doc">CURRENT_ROLE</span></a>.</p>
</dd>
<dt class="field-even">The executing role<span class="colon">:</span></dt>
<dd class="field-even"><p>Masking policy conditions using <a class="reference internal" href="../sql-reference/functions/invoker_role"><span class="doc">INVOKER_ROLE</span></a>.</p>
</dd>
<dt class="field-odd">Role hierarchy<span class="colon">:</span></dt>
<dd class="field-odd"><p>Masking policy conditions using <a class="reference internal" href="../sql-reference/functions/is_role_in_session"><span class="doc">IS_ROLE_IN_SESSION</span></a> or <a class="reference internal" href="../sql-reference/functions/is_granted_to_invoker_role"><span class="doc">IS_GRANTED_TO_INVOKER_ROLE</span></a>.</p>
</dd>
<dt class="field-even">Data sharing<span class="colon">:</span></dt>
<dd class="field-even"><p>Whether the data is shared using <a class="reference internal" href="data-sharing-gs"><span class="doc">Secure Data Sharing</span></a>. For details, see
<a class="reference internal" href="#label-security-column-intro-data-sharing"><span class="std std-ref">Data Sharing</span></a> (in this topic).</p>
</dd>
<dt class="field-odd">Replication<span class="colon">:</span></dt>
<dd class="field-odd"><p>See <a class="reference internal" href="#label-security-column-replication"><span class="std std-ref">Replication</span></a> (in this topic).</p>
</dd>
<dt class="field-even">Subqueries<span class="colon">:</span></dt>
<dd class="field-even"><p>A masking policy can reference a subquery in the policy definition, however, there are limits to subquery support in Snowflake. For more information, see <a class="reference internal" href="querying-subqueries"><span class="doc">Working with Subqueries</span></a>.</p>
</dd>
<dt class="field-odd">UDFs in a masking policy<span class="colon">:</span></dt>
<dd class="field-odd"><p>Ensure the data type of the column, UDF, and masking policy match. For more information, see
<a class="reference internal" href="#label-security-column-intro-udf-policy"><span class="std std-ref">User-defined functions in a masking policy</span></a> (in this topic).</p>
</dd>
</dl>
<dl class="field-list">
<dt class="field-odd">Search optimization service<span class="colon">:</span></dt>
<dd class="field-odd"><p>The search optimization service can improve the query performance on a table that uses a masking or row access policy.</p>
<p>For details, see
<a class="reference internal" href="search-optimization/working-with-tables.html#label-search-optimization-service-masking-row-access"><span class="std std-ref">Support for Tables With Masking Policies and Row Access Policies in the Search Optimization Service</span></a>.</p>
</dd>
</dl>
<p>The first three items are explained in greater detail in <a class="reference internal" href="security-column-advanced"><span class="doc">Advanced Column-level Security topics</span></a>. Data sharing only applies to Dynamic Data Masking because external functions cannot be invoked in the context of a share.</p>
<p>Ultimately, the specific use case determines whether Dynamic Data Masking or External Tokenization is the best fit.</p>
</section>
</section>
</section>
<section id="choosing-dynamic-data-masking-or-external-tokenization">
<h2>Choosing Dynamic Data Masking or External Tokenization<a class="headerlink" href="#choosing-dynamic-data-masking-or-external-tokenization" title="Link to this heading">¶</a></h2>
<p>To choose the correct feature that best meets the need of your organization, evaluate the major use cases for your data along with relevant considerations and limitations. The following two sections summarize the benefits and limitations between the two features.</p>
<section id="benefits">
<span id="label-security-column-benefits"></span><h3>Benefits<a class="headerlink" href="#benefits" title="Link to this heading">¶</a></h3>
<p>The following table compares the benefits of Dynamic Data Masking and External Tokenization.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Factor</p></th>
<th class="head"><p>Dynamic Data Masking</p></th>
<th class="head"><p>External Tokenization</p></th>
<th class="head"><p>Notes</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Preserve analytical value after de-identification.</p></td>
<td></td>
<td><p>✔</p></td>
<td><p>Since tokenization provides a unique value for a given set of characters, it is possible to group records by a tokenized value
without revealing the sensitive information.</p>
<p>For example, group medical records by diagnosis code with the patient diagnosis code
tokenized. Data analysts can then query a view on the diagnosis code to obtain a count of the number of patients with a unique
diagnosis code.</p>
</td>
</tr>
<tr class="row-odd"><td><p>Pre-load tokenized Data.</p></td>
<td></td>
<td><p>✔</p></td>
<td><p>Unauthorized users never see the real data value. Requires third-party tokenization provider.</p></td>
</tr>
<tr class="row-even"><td><p>Pre-load unmasked data.</p></td>
<td><p>✔</p></td>
<td></td>
<td><p>Only need built-in Snowflake functionality, no third-parties required.</p></td>
</tr>
<tr class="row-odd"><td><p>Data Sharing.</p></td>
<td><p>✔</p></td>
<td></td>
<td><p>For details, see <a class="reference internal" href="#label-security-column-intro-data-sharing"><span class="std std-ref">Data Sharing</span></a> (in this topic).</p></td>
</tr>
<tr class="row-even"><td><p>Ease of use and Change management.</p></td>
<td><p>✔</p></td>
<td><p>✔</p></td>
<td><p>Write a policy once and have it apply to thousands of columns across databases and schemas.</p></td>
</tr>
<tr class="row-odd"><td><p>Data administration and SoD.</p></td>
<td><p>✔</p></td>
<td><p>✔</p></td>
<td><p>A security or privacy officer decides which columns to protect, not the object owner.</p>
<p>Masking policies are easy to manage and support centralized and decentralized administration models.</p>
</td>
</tr>
<tr class="row-even"><td><p>Data authorization and governance.</p></td>
<td><p>✔</p></td>
<td><p>✔</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>Contextual data access by role or custom entitlements.</p></td>
<td><p>✔</p></td>
<td><p>✔</p></td>
<td><p>Supports data governance as implemented by security or privacy officers and can prohibit privileged users with the ACCOUNTADMIN
or SECURITYADMIN system roles from unnecessarily viewing data.</p></td>
</tr>
<tr class="row-even"><td><p>Database replication and account object replication.</p></td>
<td><p>✔</p></td>
<td><p>✔</p></td>
<td><p>See: <a class="reference internal" href="#label-security-column-replication"><span class="std std-ref">Replication</span></a> (in this topic).</p></td>
</tr>
</tbody>
</table>
</section>
<section id="limitations">
<span id="label-security-column-limitations"></span><h3>Limitations<a class="headerlink" href="#limitations" title="Link to this heading">¶</a></h3>
<p>The following table describes the current limitations for Column-level Security. A checkmark (i.e. ✔) indicates a limitation or lack of current support for the feature.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Limitation</p></th>
<th class="head"><p>Dynamic Data Masking</p></th>
<th class="head"><p>External Tokenization</p></th>
<th class="head"><p>Notes</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Materialized views (MV).</p></td>
<td><p>✔</p></td>
<td><p>✔</p></td>
<td><p>For a complete summary, see <a class="reference internal" href="#label-security-column-intro-mv"><span class="std std-ref">Materialized views</span></a> (in this topic).</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../sql-reference/sql/drop-masking-policy"><span class="doc">DROP MASKING POLICY</span></a></p></td>
<td><p>✔</p></td>
<td><p>✔</p></td>
<td><p>Prior to dropping a policy, unset the policy from the table or view column using
<a class="reference internal" href="../sql-reference/sql/alter-table-column"><span class="doc">ALTER TABLE … ALTER COLUMN</span></a> or <a class="reference internal" href="../sql-reference/sql/alter-view"><span class="doc">ALTER VIEW</span></a>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../sql-reference/sql/drop-database"><span class="doc">DROP DATABASE</span></a> and <a class="reference internal" href="../sql-reference/sql/drop-schema"><span class="doc">DROP SCHEMA</span></a></p></td>
<td><p>✔</p></td>
<td><p>✔</p></td>
<td><p>Dropping a database or schema requires the masking policy and its mappings to be self-contained within the database or schema.</p>
<p>For example, <code class="docutils literal notranslate"><span class="pre">database_1</span></code> contains <code class="docutils literal notranslate"><span class="pre">policy_1</span></code> and <code class="docutils literal notranslate"><span class="pre">policy_1</span></code> is only used in <code class="docutils literal notranslate"><span class="pre">database_1</span></code>.</p>
</td>
</tr>
<tr class="row-odd"><td><p>External tables.</p></td>
<td><p>✔</p></td>
<td><p>✔</p></td>
<td><p>An external table cannot be referenced as a lookup table (i.e. in a subquery) to determine whether column values should be masked.
For more information, see <a class="reference internal" href="#external-tables">External Tables</a> (in this topic)</p></td>
</tr>
<tr class="row-even"><td><p>Different data types in the input and output of a policy definition.</p></td>
<td><p>✔</p></td>
<td><p>✔</p></td>
<td><p>A masking policy definition must have the same data type for the input and output. In other words, as a representative example,
you cannot define the input datatype as a timestamp and return a string.</p></td>
</tr>
<tr class="row-odd"><td><p>Masking policy change management.</p></td>
<td><p>✔</p></td>
<td><p>✔</p></td>
<td><p>You can optionally store and track masking policy changes in a version control system of your choice.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../sql-reference/sql/grant-privilege.html#label-grant-privilege-role-limitations"><span class="std std-ref">Future grants</span></a>.</p></td>
<td><p>✔</p></td>
<td><p>✔</p></td>
<td><p><a class="reference internal" href="../sql-reference/sql/grant-privilege.html#label-grant-privilege-schema-future-grants"><span class="std std-ref">Future grants</span></a> of privileges on masking policies are not supported.</p>
<p>As a workaround, grant the <a class="reference internal" href="#label-security-column-privileges-masking-policies"><span class="std std-ref">APPLY MASKING POLICY</span></a> privilege to a custom
role to allow that role to apply masking policies on table or view columns.</p>
</td>
</tr>
</tbody>
</table>
</section>
<section id="considerations">
<span id="label-security-column-considerations"></span><h3>Considerations<a class="headerlink" href="#considerations" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Use caution when inserting values from a source column that has a masking policy on the source column to a target column without a masking policy on the target column. Since a masking policy is set on the source column, a role that views unmasked column data can insert unmasked data into another column, where any role with sufficient privileges on the table or view can see the value.</p></li>
<li><p>If a role that sees masked data in the source column inserts those values into a target column, the inserted values remain masked. If a masking policy is not set on the target column, then users with sufficient privileges on the table or view may see a combination of masked and unmasked values in the target column. Therefore, as a best practice:</p>
<ul>
<li><p>Exercise caution when applying masking policies to columns.</p></li>
<li><p>Verify queries using columns that have masking policies before making tables and views available to users.</p></li>
<li><p>Determine additional tables and views (i.e. target columns) where the data in the source column may appear.</p></li>
<li><p>For more information, see <a class="reference internal" href="#obtain-columns-with-a-masking-policy">Obtain Columns with a Masking Policy</a> (in this topic).</p></li>
</ul>
</li>
<li><p>Use caution when creating the setup script for a Snowflake Native App when the masking policy exists in a versioned schema. For details, see
<a class="reference internal" href="../developer-guide/native-apps/creating-setup-script.html#label-setup-script-versioned-schema-failures"><span class="std std-ref">version schema considerations</span></a>.</p></li>
</ul>
</section>
</section>
<section id="using-column-level-security-on-tables-and-views">
<span id="label-security-column-intro-tables-views"></span><h2>Using Column-level Security on tables and views<a class="headerlink" href="#using-column-level-security-on-tables-and-views" title="Link to this heading">¶</a></h2>
<p>Snowflake supports masking policies with tables and views. The following describes how masking policies affect tables and views in
Snowflake.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Call the <a class="reference internal" href="../sql-reference/functions/policy_context"><span class="doc">POLICY_CONTEXT</span></a> function to simulate a query on a column that is protected by a masking policy,
a table or view protected by a row access policy, or both types of policies.</p>
</div>
<section id="active-role-hierarchy-mapping-tables">
<h3>Active role hierarchy &amp; mapping tables<a class="headerlink" href="#active-role-hierarchy-mapping-tables" title="Link to this heading">¶</a></h3>
<p>The policy conditions can evaluate the user’s active primary and secondary roles in a session directly, look up active roles in a mapping
table, or do both depending on how the policy administrator wants to write the policy. If the policy contains a mapping table lookup,
create a centralized mapping table and store the mapping table in the same database as the protected table. This is particularly important
if the policy calls the <a class="reference internal" href="../sql-reference/functions/is_database_role_in_session"><span class="doc">IS_DATABASE_ROLE_IN_SESSION</span></a> function. For details, see the function
<a class="reference internal" href="../sql-reference/functions/is_database_role_in_session.html#label-is-db-role-in-session-notes"><span class="std std-ref">usage notes</span></a>.</p>
<p>For these use cases, Snowflake recommends writing the policy conditions to call the <a class="reference internal" href="../sql-reference/functions/is_role_in_session"><span class="doc">IS_ROLE_IN_SESSION</span></a> or
the <a class="reference internal" href="../sql-reference/functions/is_database_role_in_session"><span class="doc">IS_DATABASE_ROLE_IN_SESSION</span></a> function depending on whether you want to specify an account role or
database role. For examples, see:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../sql-reference/functions/is_role_in_session.html#label-is-role-in-session-examples"><span class="std std-ref">Examples</span></a> section in the IS_ROLE_IN_SESSION function.</p></li>
<li><p>IS_DATABASE_ROLE_IN_SESSION</p></li>
<li><p><a class="reference internal" href="data-sharing-policy-protected-data"><span class="doc">Share data protected by a policy</span></a></p></li>
</ul>
<p>For additional examples using context functions and masking policies, see <a class="reference internal" href="security-column-advanced"><span class="doc">Advanced Column-level Security topics</span></a>.</p>
</section>
<section id="apply-masking-policies-to-columns">
<span id="label-security-column-intro-apply-to-column"></span><h3>Apply masking policies to columns<a class="headerlink" href="#apply-masking-policies-to-columns" title="Link to this heading">¶</a></h3>
<p>When a column is not protected by a masking policy, there are two options to apply a masking policy to a column in a table or view:</p>
<ol class="arabic simple">
<li><p>With a <span class="emph">new</span> table or view, apply the policy to a table column with a <a class="reference internal" href="../sql-reference/sql/create-table"><span class="doc">CREATE TABLE</span></a> statement or a view
column with a <a class="reference internal" href="../sql-reference/sql/create-view"><span class="doc">CREATE VIEW</span></a> statement.</p></li>
<li><p>With an <span class="emph">existing</span> table or view, apply the policy to a table column with an <a class="reference internal" href="../sql-reference/sql/alter-table-column"><span class="doc">ALTER TABLE … ALTER COLUMN</span></a>
statement or a view column with an <a class="reference internal" href="../sql-reference/sql/alter-view"><span class="doc">ALTER VIEW</span></a> statement.</p></li>
</ol>
<p>For a <span class="emph">new</span> table or view, execute the following statements:</p>
<blockquote>
<div><div class="relative group text-sm"><div class="highlight-sqlexample notranslate"><div class="highlight"><pre><span></span><span class="py">-- table</span>
<span class="ni">CREATE</span> <span class="ni">OR</span> <span class="ni">REPLACE</span> <span class="ni">TABLE</span> <span class="gi">user_info</span> <span class="p">(</span><span class="gi">ssn</span> <span class="ni">string</span> <span class="ni">masking policy</span> <span class="gi">ssn_mask</span><span class="p">);</span>

<span class="py">-- view</span>
<span class="ni">CREATE</span> <span class="ni">OR</span> <span class="ni">REPLACE</span> <span class="ni">VIEW</span> <span class="gi">user_info_v</span> <span class="p">(</span><span class="gi">ssn</span> <span class="ni">masking policy</span> <span class="gi">ssn_mask_v</span><span class="p">)</span> <span class="ni">AS</span> <span class="ni">SELECT</span> <span class="p">*</span> <span class="ni">FROM</span> <span class="gi">user_info</span><span class="p">;</span>
</pre></div>
</div><div data-codeblock-index="6" class="copybutton"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 384 512" class="copybutton-icon icon-copy"><path d="M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 512" class="copybutton-icon icon-copied hidden"><path d="M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg><span>Copy</span></div></div>
</div></blockquote>
<p>For an <span class="emph">existing</span> table or view, execute the following statements:</p>
<blockquote>
<div><div class="relative group text-sm"><div class="highlight-sqlexample notranslate"><div class="highlight"><pre><span></span><span class="py">-- table</span>
<span class="ni">ALTER</span> <span class="ni">TABLE</span> <span class="ni">IF</span> <span class="ni">EXISTS</span> <span class="gi">user_info</span> <span class="ni">MODIFY</span> <span class="ni">COLUMN</span> <span class="gi">ssn_number</span> <span class="ni">SET</span> <span class="ni">MASKING POLICY</span> <span class="gi">ssn_mask</span><span class="p">;</span>

<span class="py">-- view</span>
<span class="ni">ALTER</span> <span class="ni">VIEW</span> <span class="gi">user_info_v</span> <span class="ni">MODIFY</span> <span class="ni">COLUMN</span> <span class="gi">ssn_number</span> <span class="ni">SET</span> <span class="ni">MASKING POLICY</span> <span class="gi">ssn_mask_v</span><span class="p">;</span>
</pre></div>
</div><div data-codeblock-index="7" class="copybutton"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 384 512" class="copybutton-icon icon-copy"><path d="M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 512" class="copybutton-icon icon-copied hidden"><path d="M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg><span>Copy</span></div></div>
</div></blockquote>
<p>For more information on syntax and usage, see <a class="reference internal" href="../sql-reference/sql/alter-table-column"><span class="doc">ALTER TABLE … ALTER COLUMN</span></a> and <a class="reference internal" href="../sql-reference/sql/alter-view"><span class="doc">ALTER VIEW</span></a>.</p>
<p>If the masking policy uses a UDF, see <a class="reference internal" href="#label-security-column-intro-udf-policy"><span class="std std-ref">User-defined functions in a masking policy</span></a> (in this topic).</p>
</section>
<section id="apply-a-conditional-masking-policy-on-a-column">
<span id="label-security-column-intro-apply-cond-cols"></span><h3>Apply a conditional masking policy on a column<a class="headerlink" href="#apply-a-conditional-masking-policy-on-a-column" title="Link to this heading">¶</a></h3>
<p>After <a class="reference internal" href="../sql-reference/sql/create-masking-policy"><span class="doc">creating</span></a> a masking policy using
<a class="reference internal" href="#label-security-column-intro-cond-cols"><span class="std std-ref">conditional columns</span></a>, there are two options to set a conditional masking policy on a column
when the column is not already protected by a masking policy:</p>
<ol class="arabic">
<li><p>For a <span class="emph">new</span> table or view, apply the policy to a table or view column with the corresponding CREATE statement.</p>
<p>For more information on syntax and usage, see:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../sql-reference/sql/create-table"><span class="doc">CREATE TABLE</span></a></p></li>
<li><p><a class="reference internal" href="../sql-reference/sql/create-view"><span class="doc">CREATE VIEW</span></a></p></li>
<li><p><a class="reference internal" href="../sql-reference/sql/create-materialized-view"><span class="doc">CREATE MATERIALIZED VIEW</span></a></p></li>
</ul>
<p>For a <span class="emph">new</span> table or view, execute the following statements:</p>
<blockquote>
<div><div class="relative group text-sm"><div class="highlight-sqlexample notranslate"><div class="highlight"><pre><span></span><span class="py">-- table</span>
<span class="ni">CREATE</span> <span class="ni">OR</span> <span class="ni">REPLACE</span> <span class="ni">TABLE</span> <span class="gi">user_info</span> <span class="p">(</span><span class="ni">email</span> <span class="ni">string</span> <span class="ni">masking policy</span> <span class="gi">email_visibility</span><span class="p">)</span> <span class="ni">USING</span> <span class="p">(</span><span class="ni">email</span><span class="p">,</span> <span class="gi">visibility</span><span class="p">);</span>

<span class="py">--view</span>
<span class="ni">CREATE</span> <span class="ni">OR</span> <span class="ni">REPLACE</span> <span class="ni">VIEW</span> <span class="gi">user_info_v</span> <span class="p">(</span><span class="ni">email</span> <span class="ni">masking policy</span> <span class="gi">email_visibility</span><span class="p">)</span> <span class="ni">USING</span> <span class="p">(</span><span class="ni">email</span><span class="p">,</span> <span class="gi">visibility</span><span class="p">)</span> <span class="ni">AS</span> <span class="ni">SELECT</span> <span class="p">*</span> <span class="ni">FROM</span> <span class="gi">user_info</span><span class="p">;</span>
</pre></div>
</div><div data-codeblock-index="8" class="copybutton"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 384 512" class="copybutton-icon icon-copy"><path d="M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 512" class="copybutton-icon icon-copied hidden"><path d="M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg><span>Copy</span></div></div>
</div></blockquote>
</li>
<li><p>For an <span class="emph">existing</span> table or view, set the policy on a table or view column with the corresponding ALTER statement.</p>
<p>For more information on syntax and usage, see:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../sql-reference/sql/alter-table"><span class="doc">ALTER TABLE</span></a></p></li>
<li><p><a class="reference internal" href="../sql-reference/sql/alter-table-column"><span class="doc">ALTER TABLE … ALTER COLUMN</span></a></p></li>
<li><p><a class="reference internal" href="../sql-reference/sql/alter-view"><span class="doc">ALTER VIEW</span></a></p></li>
<li><p><a class="reference internal" href="../sql-reference/sql/alter-materialized-view"><span class="doc">ALTER MATERIALIZED VIEW</span></a></p></li>
</ul>
<p>For an <span class="emph">existing</span> table or view, execute the following statements:</p>
<blockquote>
<div><div class="relative group text-sm"><div class="highlight-sqlexample notranslate"><div class="highlight"><pre><span></span><span class="py">-- table</span>
<span class="ni">ALTER</span> <span class="ni">TABLE</span> <span class="ni">IF</span> <span class="ni">EXISTS</span> <span class="gi">user_info</span> <span class="ni">MODIFY</span> <span class="ni">COLUMN</span> <span class="ni">email</span>
<span class="ni">SET</span> <span class="ni">MASKING POLICY</span> <span class="gi">email_visibility</span> <span class="ni">USING</span> <span class="p">(</span><span class="ni">EMAIL</span><span class="p">,</span> <span class="gi">VISIBILITY</span><span class="p">);</span>

<span class="py">-- VIEW</span>
<span class="ni">ALTER</span> <span class="ni">VIEW</span> <span class="gi">user_info_v</span> <span class="ni">MODIFY</span> <span class="ni">COLUMN</span> <span class="ni">email</span>
<span class="ni">SET</span> <span class="ni">MASKING POLICY</span> <span class="gi">email_visibility</span> <span class="ni">USING</span> <span class="p">(</span><span class="ni">email</span><span class="p">,</span> <span class="gi">visibility</span><span class="p">);</span>
</pre></div>
</div><div data-codeblock-index="9" class="copybutton"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 384 512" class="copybutton-icon icon-copy"><path d="M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 512" class="copybutton-icon icon-copied hidden"><path d="M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg><span>Copy</span></div></div>
</div></blockquote>
</li>
</ol>
</section>
<section id="replace-a-masking-policy-on-a-column">
<span id="label-security-column-intro-replace-policy"></span><h3>Replace a masking policy on a column<a class="headerlink" href="#replace-a-masking-policy-on-a-column" title="Link to this heading">¶</a></h3>

<p>Once a masking policy is set on a column, there are two different pathways to replace the masking policy on the column with a different
masking policy without having to replace the entire table or view.</p>
<p>These examples use <a class="reference internal" href="../sql-reference/sql/alter-table"><span class="doc">ALTER TABLE</span></a> commands. The same approach applies to views with the
<a class="reference internal" href="../sql-reference/sql/alter-view"><span class="doc">ALTER VIEW</span></a> command:</p>
<ul>
<li><p>Unset the policy from a table column in one statement and then set a new policy on the column in a different statement:</p>
<div class="relative group text-sm"><div class="highlight-sqlexample notranslate"><div class="highlight"><pre><span></span><span class="ni">ALTER</span> <span class="ni">TABLE</span> <span class="gi">t1</span> <span class="ni">MODIFY</span> <span class="ni">COLUMN</span> <span class="gi">c1</span> <span class="ni">UNSET</span> <span class="ni">MASKING POLICY</span><span class="p">;</span>

<span class="ni">ALTER</span> <span class="ni">TABLE</span> <span class="gi">t1</span> <span class="ni">MODIFY</span> <span class="ni">COLUMN</span> <span class="gi">c1</span> <span class="ni">SET</span> <span class="ni">MASKING POLICY</span> <span class="gi">p2</span><span class="p">;</span>
</pre></div>
</div><div data-codeblock-index="10" class="copybutton"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 384 512" class="copybutton-icon icon-copy"><path d="M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 512" class="copybutton-icon icon-copied hidden"><path d="M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg><span>Copy</span></div></div>
</li>
<li><p>Use the <code class="code docutils literal notranslate"><span class="pre">FORCE</span></code> keyword to replace the policy in a single statement:</p>
<div class="relative group text-sm"><div class="highlight-sqlexample notranslate"><div class="highlight"><pre><span></span><span class="ni">ALTER</span> <span class="ni">TABLE</span> <span class="gi">t1</span> <span class="ni">MODIFY</span> <span class="ni">COLUMN</span> <span class="gi">c1</span> <span class="ni">SET</span> <span class="ni">MASKING POLICY</span> <span class="gi">p2</span> <span class="ni">FORCE</span><span class="p">;</span>
</pre></div>
</div><div data-codeblock-index="11" class="copybutton"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 384 512" class="copybutton-icon icon-copy"><path d="M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 512" class="copybutton-icon icon-copied hidden"><path d="M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg><span>Copy</span></div></div>
<p>Note:</p>
<ul>
<li><p>The <code class="code docutils literal notranslate"><span class="pre">FORCE</span></code> keyword requires the <a class="reference internal" href="../sql-reference-data-types"><span class="doc">data type</span></a> of the policy in the ALTER TABLE statement
(i.e. STRING) to match the data type of the masking policy currently set on the column (i.e. STRING).</p></li>
<li><p>The <code class="code docutils literal notranslate"><span class="pre">FORCE</span></code> keyword can be combined with the <code class="samp docutils literal notranslate"><span class="pre">USING</span></code> clause to set a conditional masking policy on column:</p>
<div class="relative group text-sm"><div class="highlight-sqlexample notranslate"><div class="highlight"><pre><span></span><span class="ni">ALTER</span> <span class="ni">TABLE</span> <span class="gi">t1</span> <span class="ni">MODIFY</span> <span class="ni">COLUMN</span> <span class="gi">c1</span> <span class="ni">SET</span> <span class="ni">MASKING POLICY</span> <span class="gi">policy1</span> <span class="ni">USING</span> <span class="p">(</span><span class="gi">c1</span><span class="p">,</span> <span class="gi">c3</span><span class="p">,</span> <span class="gi">c4</span><span class="p">)</span> <span class="ni">FORCE</span><span class="p">;</span>
</pre></div>
</div><div data-codeblock-index="12" class="copybutton"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 384 512" class="copybutton-icon icon-copy"><path d="M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 512" class="copybutton-icon icon-copied hidden"><path d="M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg><span>Copy</span></div></div>
</li>
</ul>
</li>
</ul>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Exercise caution when replacing a masking policy on a column.</p>
<p>Depending on the timing of the replacement and the query on the column, choosing to replace the policy in two separate statements could
lead to a data leak because the column data is unprotected in the time interval between the UNSET and SET operations.</p>
<p>However, if the policy conditions are different in the replacement policy, specifying the <code class="code docutils literal notranslate"><span class="pre">FORCE</span></code> keyword could lead to a lack of
access because (previously) users could access data and the replacement no longer allows access.</p>
<p>Prior to replacing a policy, consult your internal data administrators to coordinate the best approach to protect data with masking
policies and replace masking policies as needed.</p>
</div>
</section>
<section id="row-access-policies">
<h3>Row access policies<a class="headerlink" href="#row-access-policies" title="Link to this heading">¶</a></h3>
<p>A given table or view column can be specified in either a masking policy signature or a row access policy signature. In other words, the
same column cannot be specified in both a masking policy signature and a row access policy signature at the same time.</p>
<p>This behavior also applies to column used as conditional columns in a masking policy.</p>
<p>For more information, see <a class="reference internal" href="../sql-reference/sql/create-masking-policy"><span class="doc">CREATE MASKING POLICY</span></a> and <a class="reference internal" href="../sql-reference/sql/create-row-access-policy"><span class="doc">CREATE ROW ACCESS POLICY</span></a>.</p>
</section>
<section id="simulate-how-a-policy-will-work">
<h3>Simulate how a policy will work<a class="headerlink" href="#simulate-how-a-policy-will-work" title="Link to this heading">¶</a></h3>
<p>Call the <a class="reference internal" href="../sql-reference/functions/policy_context"><span class="doc">POLICY_CONTEXT</span></a> function to simulate a query on a column that is protected by a masking policy,
a table or view protected by a row access policy, or both types of policies.</p>
</section>
<section id="materialized-views">
<span id="label-security-column-intro-mv"></span><h3>Materialized views<a class="headerlink" href="#materialized-views" title="Link to this heading">¶</a></h3>
<p>Snowflake allows setting a masking policy on a materialized view column. At query runtime, the query plan executes any masking policy that
is present prior to creating the materialized view rewrite. Once the materialized view rewrite occurs, masking policies cannot be set on
any materialized view columns.</p>
<p>There are two options to set a masking policy on a materialized view column:</p>
<ol class="arabic simple">
<li><p>For a <span class="emph">new</span> materialized view, execute a <a class="reference internal" href="../sql-reference/sql/create-materialized-view"><span class="doc">CREATE MATERIALIZED VIEW</span></a> statement.</p></li>
<li><p>For an <span class="emph">existing</span> materialized view, execute an
<a class="reference internal" href="../sql-reference/sql/alter-view"><span class="doc">ALTER VIEW … MODIFY COLUMN</span></a> statement on the materialized view.</p></li>
</ol>
<p>For a <span class="emph">new</span> materialized view, execute the following statement:</p>
<blockquote>
<div><div class="relative group text-sm"><div class="highlight-sqlexample notranslate"><div class="highlight"><pre><span></span><span class="ni">CREATE</span> <span class="ni">OR</span> <span class="ni">REPLACE</span> <span class="ni">MATERIALIZED</span> <span class="ni">VIEW</span> <span class="gi">user_info_mv</span>
  <span class="p">(</span><span class="gi">ssn_number</span> <span class="ni">masking policy</span> <span class="gi">ssn_mask</span><span class="p">)</span>
<span class="ni">AS</span> <span class="ni">SELECT</span> <span class="gi">ssn_number</span> <span class="ni">FROM</span> <span class="gi">user_info</span><span class="p">;</span>
</pre></div>
</div><div data-codeblock-index="13" class="copybutton"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 384 512" class="copybutton-icon icon-copy"><path d="M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 512" class="copybutton-icon icon-copied hidden"><path d="M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg><span>Copy</span></div></div>
</div></blockquote>
<p>For an <span class="emph">existing</span> materialized view, see the view example in the <a class="reference internal" href="#apply-masking-policies-to-columns">Apply Masking Policies to Columns</a> section (in this topic).</p>
<p>Additionally, the following two limitations exist regarding masking policies and materialized views:</p>
<ol class="arabic">
<li><p>A masking policy cannot be set on a table column if a materialized view is already created from the underlying table. Snowflake returns
the following error message when this attempt is made:</p>
<div class="relative group text-sm"><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>SQL execution error: One or more materialized views exist on the table. number of mvs=&lt;number&gt;, table name=&lt;table_name&gt;.
</pre></div>
</div><div data-codeblock-index="14" class="copybutton"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 384 512" class="copybutton-icon icon-copy"><path d="M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 512" class="copybutton-icon icon-copied hidden"><path d="M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg><span>Copy</span></div></div>
</li>
<li><p>If a masking policy is set on an underlying table column and a materialized view is created from that table, the
materialized view only contains columns that are not protected by a masking policy. Snowflake also returns the following error message
if the attempting to include one or more columns protected by a masking policy:</p>
<div class="relative group text-sm"><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Unsupported feature 'CREATE ON MASKING POLICY COLUMN'.
</pre></div>
</div><div data-codeblock-index="15" class="copybutton"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 384 512" class="copybutton-icon icon-copy"><path d="M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 512" class="copybutton-icon icon-copied hidden"><path d="M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg><span>Copy</span></div></div>
</li>
</ol>
</section>
<section id="obtain-columns-with-a-masking-policy">
<span id="label-security-column-intro-obtain-columns"></span><h3>Obtain columns with a masking policy<a class="headerlink" href="#obtain-columns-with-a-masking-policy" title="Link to this heading">¶</a></h3>
<p>To obtain a list of columns with masking policies, execute the following statement. For more information, see <a class="reference internal" href="../sql-reference/functions/policy_references"><span class="doc">POLICY_REFERENCES</span></a>.</p>
<blockquote>
<div><div class="relative group text-sm"><div class="highlight-sqlexample notranslate"><div class="highlight"><pre><span></span><span class="ni">SELECT</span> <span class="p">*</span> <span class="ni">from</span> <span class="ni">table</span><span class="p">(</span>
  <span class="ni">INFORMATION_SCHEMA</span><span class="p">.</span><span class="nd">POLICY_REFERENCES</span><span class="p">(</span>
    <span class="ni">policy_name</span><span class="p">=&gt;</span><span class="nc">'&lt;policy_name&gt;'</span>
  <span class="p">)</span>
<span class="p">);</span>
</pre></div>
</div><div data-codeblock-index="16" class="copybutton"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 384 512" class="copybutton-icon icon-copy"><path d="M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 512" class="copybutton-icon icon-copied hidden"><path d="M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg><span>Copy</span></div></div>
</div></blockquote>
<p>Execute a <a class="reference internal" href="../sql-reference/sql/desc-table"><span class="doc">DESCRIBE TABLE</span></a> or <a class="reference internal" href="../sql-reference/sql/desc-view"><span class="doc">DESCRIBE VIEW</span></a> statement to view the masking policy on column in a table or view.</p>
</section>
<section id="object-tagging-and-masking-policies">
<h3>Object Tagging and masking policies<a class="headerlink" href="#object-tagging-and-masking-policies" title="Link to this heading">¶</a></h3>
<p>For details, see <a class="reference internal" href="tag-based-masking-policies"><span class="doc">Tag-based masking policies</span></a>.</p>
<p>Note that a masking policy that is directly assigned to a column takes precedence over a tag-based masking policy.</p>
</section>
<section id="hashing-cryptographic-and-encryption-functions-in-masking-policies">
<span id="label-security-column-intro-hashing-encrypt-functions"></span><h3>Hashing, cryptographic, and encryption functions in masking policies<a class="headerlink" href="#hashing-cryptographic-and-encryption-functions-in-masking-policies" title="Link to this heading">¶</a></h3>
<p><a class="reference internal" href="../sql-reference/functions-hash-scalar"><span class="doc">Hashing</span></a> and <a class="reference internal" href="../sql-reference/functions-string"><span class="doc">cryptographic/checksum</span></a> can be used in masking policies to mask sensitive data.</p>
<p>For a more information, see <a class="reference internal" href="security-column-advanced"><span class="doc">Advanced Column-level Security topics</span></a>.</p>
</section>
<section id="external-tables">
<span id="label-security-column-intro-ext-table"></span><h3>External tables<a class="headerlink" href="#external-tables" title="Link to this heading">¶</a></h3>
<p>You cannot assign a masking policy to the external table <span class="ui">VALUE</span> column when <span class="emph">creating</span> the external table with a
<a class="reference internal" href="../sql-reference/sql/create-external-table"><span class="doc">CREATE EXTERNAL TABLE</span></a> statement because this column is automatically created by default.</p>
<p>You can assign the masking policy to the external table <span class="ui">VALUE</span> column by executing an <a class="reference internal" href="../sql-reference/sql/alter-table-column"><span class="doc">ALTER TABLE … ALTER COLUMN</span></a>
statement on the external table. The data type of the masking policy that protects the VALUE column must be VARIANT.</p>
<blockquote>
<div><div class="relative group text-sm"><div class="highlight-sqlexample notranslate"><div class="highlight"><pre><span></span><span class="ni">ALTER</span> <span class="ni">TABLE</span> <span class="gi">t1</span> <span class="ni">MODIFY</span> <span class="ni">COLUMN</span> <span class="ni">VALUE</span> <span class="ni">SET</span> <span class="ni">MASKING POLICY</span> <span class="gi">p1</span><span class="p">;</span>
</pre></div>
</div><div data-codeblock-index="17" class="copybutton"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 384 512" class="copybutton-icon icon-copy"><path d="M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 512" class="copybutton-icon icon-copied hidden"><path d="M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg><span>Copy</span></div></div>
</div></blockquote>
<p>You can assign a masking policy to a virtual column in an external table as follows:</p>
<ul>
<li><p>Set the <code class="docutils literal notranslate"><span class="pre">EXEMPT_OTHER_POLICIES</span></code> masking policy property to <code class="docutils literal notranslate"><span class="pre">TRUE</span></code> in the masking policy that protects VALUE column in the external
table.</p>
<p>If this property is not already set, execute a CREATE OR REPLACE statement on the masking policy the protects the VALUE column and
specify the <code class="docutils literal notranslate"><span class="pre">EXEMPT_OTHER_POLICIES</span></code> property. The virtual column inherits the policy that protects the VALUE column, and this property
allows the policy on the virtual column to override the inherited policy. For details, see
<a class="reference internal" href="../sql-reference/sql/create-masking-policy"><span class="doc">CREATE MASKING POLICY</span></a>.</p>
</li>
<li><p>Assign a different masking policy to the virtual column using an ALTER TABLE command. This policy can be less strict than the policy for
the VALUE column because the virtual column is less sensitive. The virtual column contains a lesser amount of data than the VALUE
column; the VALUE column contains all of the data for each row in the external table.</p>
<p>The data type in the policy that protects the virtual column depends on the data type of the virtual column.</p>
</li>
</ul>
<p>Regarding conditional columns in a masking policy, a virtual column can be listed as an conditional column argument to determine whether
the first column argument should be masked or tokenized. However, a virtual column cannot be specified as the first column to mask or
tokenize.</p>
<p>For more information, see <a class="reference internal" href="../sql-reference/sql/create-masking-policy"><span class="doc">CREATE MASKING POLICY</span></a>.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Snowflake does not support using an external table as a lookup table (i.e. in a subquery) in a masking policy. While cloning a database,
Snowflake clones the masking policy, but not the external table. Therefore, the policy in the cloned database refers to a table that
is not present in the cloned database.</p>
<p>If the data in the external table is necessary for the policy, consider moving the external table data to a dedicated schema
within the database in which the masking policy exists prior to completing a clone operation. Update the masking policy to
reference the fully qualified table name to ensure the policy refers to a table in the cloned database.</p>
</div>
</section>
<section id="streams">
<span id="label-security-column-intro-streams"></span><h3>Streams<a class="headerlink" href="#streams" title="Link to this heading">¶</a></h3>
<p>Masking policies on columns in a table carry over to a stream on the same table.</p>
<p>The result is that unauthorized users see masked data; streams created by authorized users see the data as defined by the masking policy.</p>
</section>
<section id="cloned-objects">
<span id="label-security-column-intro-cloned-objects"></span><h3>Cloned objects<a class="headerlink" href="#cloned-objects" title="Link to this heading">¶</a></h3>
<p>The following approach helps to safeguard data from users with the SELECT privilege on the table or view when accessing a cloned object:</p>
<ul class="simple">
<li><p>Cloning an individual policy object is not supported.</p></li>
<li><p>Cloning a schema results in the cloning of all policies within the schema.</p></li>
<li><p>A cloned table maps to the same policies as the source table. In other words, if a policy is set on the base table or its columns, the
policy is attached to the cloned table or its columns.</p>
<ul>
<li><p>When a table is cloned in the context of its parent schema cloning, if the source table has a reference to a policy in the same
parent schema (i.e. a local reference), the cloned table will have a reference to the cloned policy.</p></li>
<li><p>If the source table refers to a policy in a different schema (i.e. a foreign reference), then the cloned table retains the
foreign reference.</p></li>
</ul>
</li>
</ul>
<p>For more information, see <a class="reference internal" href="../sql-reference/sql/create-clone"><span class="doc">CREATE &lt;object&gt; … CLONE</span></a>.</p>
</section>
<section id="create-table-as-select-ctas-statements">
<span id="label-security-column-intro-ctas"></span><h3>CREATE TABLE … AS SELECT (CTAS) statements<a class="headerlink" href="#create-table-as-select-ctas-statements" title="Link to this heading">¶</a></h3>
<p>Executing a CREATE TABLE … AS SELECT (CTAS) statement applies any masking policies on columns included in the statement <span class="emph">before</span> the data is populated in the new table (i.e. the applicable column data is masked in the new table). This flow is adhered to because a table created using a CTAS statement may have a different set of columns than the source objects, and Snowflake cannot apply masking policies to the new table columns implicitly.</p>
<p>If there is a need to copy unmasked data, use a role authorized for protected data to run the CTAS statement. After creating the new table, transfer ownership of the new table to another role and ask the masking policy administrator to apply the masking policies to the columns of the new table.</p>
<p>For more information, see <a class="reference internal" href="../sql-reference/sql/create-table"><span class="doc">CREATE TABLE</span></a>.</p>
</section>
<section id="queries-using-aggregate-functions-and-masked-columns">
<span id="label-security-column-intro-agg-functions"></span><h3>Queries using aggregate functions and masked columns<a class="headerlink" href="#queries-using-aggregate-functions-and-masked-columns" title="Link to this heading">¶</a></h3>
<p>It is possible to use <a class="reference internal" href="../sql-reference/functions-aggregation"><span class="doc">Aggregate Functions</span></a> on columns with masked data.</p>
<p>A representative use case is that a data analyst wants to obtain the <a class="reference internal" href="../sql-reference/functions/count"><span class="doc">COUNT</span></a> for a column of social security numbers without needing to see the actual data. However, if the data analyst runs a query using <a class="reference internal" href="../sql-reference/sql/select"><span class="doc">SELECT</span></a> on a masked table column, the query returns a fixed masked value. Users with the PAYROLL custom role in the current session see the unmasked data and everyone else sees masked data.</p>
<p>To achieve this outcome:</p>
<ol class="arabic">
<li><p>The table owner creates a view on the column that contains the aggregate function.</p>
<div class="relative group text-sm"><div class="highlight-sqlexample notranslate"><div class="highlight"><pre><span></span><span class="ni">CREATE</span> <span class="ni">VIEW</span> <span class="gi">ssn_count</span> <span class="ni">AS</span> <span class="ni">SELECT</span> <span class="ni">DISTINCT</span><span class="p">(</span><span class="gi">ssn</span><span class="p">)</span> <span class="ni">FROM</span> <span class="gi">table1</span><span class="p">;</span>
</pre></div>
</div><div data-codeblock-index="18" class="copybutton"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 384 512" class="copybutton-icon icon-copy"><path d="M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 512" class="copybutton-icon icon-copied hidden"><path d="M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg><span>Copy</span></div></div>
</li>
<li><p>Grant the ANALYST role full privileges on the view. Do not grant the analyst any privileges on the table.</p></li>
<li><p>Apply a masking policy to the table column. Note that the table policy is always applied before the view policy, if there is a policy on a view column.</p>
<div class="relative group text-sm"><div class="highlight-sqlexample notranslate"><div class="highlight"><pre><span></span><span class="ni">CASE</span>
  <span class="ni">WHEN</span> <span class="nd">CURRENT_ROLE</span><span class="p">()</span> <span class="ni">IN</span> <span class="p">(</span><span class="nc">'PAYROLL'</span><span class="p">)</span> <span class="ni">THEN</span> <span class="gi">val</span>
  <span class="ni">ELSE</span> <span class="nc">'***MASKED***'</span>
<span class="ni">END</span><span class="p">;</span>
</pre></div>
</div><div data-codeblock-index="19" class="copybutton"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 384 512" class="copybutton-icon icon-copy"><path d="M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 512" class="copybutton-icon icon-copied hidden"><path d="M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg><span>Copy</span></div></div>
</li>
<li><p>Execute a query on the view column.</p>
<div class="relative group text-sm"><div class="highlight-sqlexample notranslate"><div class="highlight"><pre><span></span><span class="ni">USE</span> <span class="ni">ROLE</span> <span class="gi">analyst</span><span class="p">;</span>
<span class="ni">SELECT</span> <span class="ni">COUNT</span><span class="p">(</span><span class="ni">DISTINCT</span> <span class="gi">ssn</span><span class="p">)</span> <span class="ni">FROM</span> <span class="gi">v1</span><span class="p">;</span>
</pre></div>
</div><div data-codeblock-index="20" class="copybutton"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 384 512" class="copybutton-icon icon-copy"><path d="M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 512" class="copybutton-icon icon-copied hidden"><path d="M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg><span>Copy</span></div></div>
</li>
</ol>
</section>
<section id="user-defined-functions-in-a-masking-policy">
<span id="label-security-column-intro-udf-policy"></span><h3>User-defined functions in a masking policy<a class="headerlink" href="#user-defined-functions-in-a-masking-policy" title="Link to this heading">¶</a></h3>
<p>A <a class="reference internal" href="../developer-guide/udf/udf-overview"><span class="doc">UDF</span></a> can be passed into the masking policy conditions.</p>
<p>It is important to ensure that the data type for the table or view column, the UDF, and the masking policy match. If the data
types are different, such as having a table column and UDF with data type VARIANT and the masking policy (with this UDF in the policy
conditions) returns VARCHAR data type, Snowflake returns an error when making a query on the table column when this masking policy is set
on the table column.</p>
<p>For a representative example of matching the data type for a table column, UDF, and masking policy, see the <em>Using JavaScript
UDFs on JSON (Variant)</em> example in <a class="reference internal" href="../sql-reference/sql/create-masking-policy"><span class="doc">CREATE MASKING POLICY</span></a>.</p>
</section>
<section id="data-sharing">
<span id="label-security-column-intro-data-sharing"></span><h3>Data Sharing<a class="headerlink" href="#data-sharing" title="Link to this heading">¶</a></h3>
<dl class="field-list">
<dt class="field-odd">Usage<span class="colon">:</span></dt>
<dd class="field-odd"><ul>
<li><p>If the provider assigns a policy to a shared table or view and the policy conditions call the
<a class="reference internal" href="../sql-reference/functions/current_role"><span class="doc">CURRENT_ROLE</span></a> or <a class="reference internal" href="../sql-reference/functions/current_user"><span class="doc">CURRENT_USER</span></a> function, or the policy conditions call a <a class="reference internal" href="../developer-guide/secure-udf-procedure"><span class="doc">secure UDF</span></a>, Snowflake returns a NULL value for the function or the UDF in the consumer account.</p>
<p>The reason is that the owner of the data being shared does not typically control the users or roles in the account in which the table
or view is being shared. As a workaround, use the <a class="reference internal" href="../sql-reference/functions/current_account"><span class="doc">CURRENT_ACCOUNT</span></a> function in the policy conditions.</p>
<p>Alternatively, as a provider, write the policy conditions to call the <a class="reference internal" href="../sql-reference/functions/is_database_role_in_session"><span class="doc">IS_DATABASE_ROLE_IN_SESSION</span></a>
function and share the database role. As a consumer, grant the shared database role to an account role. For details, see
<a class="reference internal" href="data-sharing-policy-protected-data"><span class="doc">Share data protected by a policy</span></a>.</p>
</li>
</ul>
</dd>
<dt class="field-even">Limitations<span class="colon">:</span></dt>
<dd class="field-even"><ul>
<li><p>A data sharing provider cannot create a policy in a <a class="reference internal" href="data-sharing-reader-create"><span class="doc">reader account</span></a>.</p></li>
<li><p>Data sharing consumers cannot apply a policy to a shared table or view. As a workaround, import the shared database and create a local
view from the shared table or view.</p></li>
<li><p>Data sharing consumers cannot query a shared table or view that references two different providers. For example:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">rap1</span></code> is a row access policy that protects the table named <code class="docutils literal notranslate"><span class="pre">t1</span></code>, where <code class="docutils literal notranslate"><span class="pre">t1</span></code> is in the share named <code class="docutils literal notranslate"><span class="pre">share1</span></code> from a provider.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">rap1</span></code> policy conditions reference a mapping table named <code class="docutils literal notranslate"><span class="pre">t2</span></code>, where <code class="docutils literal notranslate"><span class="pre">t2</span></code> comes from <code class="docutils literal notranslate"><span class="pre">share2</span></code> and a different provider.</p></li>
<li><p>The consumer query on <code class="docutils literal notranslate"><span class="pre">t1</span></code> fails.</p></li>
<li><p>The provider for <code class="docutils literal notranslate"><span class="pre">t1</span></code> can query <code class="docutils literal notranslate"><span class="pre">t1</span></code>.</p></li>
</ul>
</li>
<li><p>External functions:</p>
<p>Snowflake returns an error if:</p>
<ul class="simple">
<li><p>The policy assigned to a shared table or view is updated to call an external function.</p></li>
<li><p>The policy calls an external function and you attempt to assign the policy to a shared table or view.</p></li>
</ul>
</li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For External Tokenization, <a class="reference internal" href="data-sharing-intro"><span class="doc">Secure Data Sharing</span></a> is not applicable because external functions
cannot be invoked in the context of a share.</p>
</div>
</section>
<section id="replication">
<span id="label-security-column-replication"></span><h3>Replication<a class="headerlink" href="#replication" title="Link to this heading">¶</a></h3>
<p>Masking policies and their assignments can be replicated using database replication and replication groups.</p>
<p>For <a class="reference internal" href="database-replication-considerations"><span class="doc">database replication</span></a>, the replication operation fails if either of the
following conditions is true:</p>
<ul class="simple">
<li><p>The primary database is in an Enterprise (or higher) account and contains a policy but one or more of the accounts approved for
replication are on lower editions.</p></li>
<li><p>A table or view contained in the primary database has a <a class="reference internal" href="database-replication-considerations.html#label-database-replication-dangling-references"><span class="std std-ref">dangling reference</span></a> to a
masking policy in another database.</p></li>
</ul>
<p>The dangling reference behavior for database replication can be avoided when replicating multiple databases in a
<a class="reference internal" href="account-replication-intro.html#label-replication-and-failover-groups"><span class="std std-ref">replication group</span></a>.</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>If using failover or failback actions, the Snowflake account must be Business Critical Edition or higher.</p>
<p>For more information, see <a class="reference internal" href="account-replication-intro"><span class="doc">Introduction to replication and failover across multiple accounts</span></a>.</p>
</div>
</div></blockquote>
</section>
<section id="query-profile">
<span id="label-security-column-intro-query-profile"></span><h3>Query profile<a class="headerlink" href="#query-profile" title="Link to this heading">¶</a></h3>
<p>When used on a column with a masking policy, the <a class="reference internal" href="../sql-reference/sql/explain"><span class="doc">EXPLAIN</span></a> command output includes the masked data, not the masking policy body.</p>
<p>The following example generates the EXPLAIN plan for a query on a table of employee identification numbers and social security numbers. The command in this example generates the example in JSON format.</p>
<p>The column containing the social security numbers has a masking policy.</p>
<div class="relative group text-sm"><div class="highlight-sqlexample notranslate"><div class="highlight"><pre><span></span><span class="ni">EXPLAIN</span> <span class="ni">USING</span> <span class="ni">JSON</span> <span class="ni">SELECT</span> <span class="p">*</span> <span class="ni">FROM</span> <span class="gi">mydb</span><span class="p">.</span><span class="ni">public</span><span class="p">.</span><span class="gi">ssn_record</span><span class="p">;</span>
</pre></div>
</div><div data-codeblock-index="21" class="copybutton"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 384 512" class="copybutton-icon icon-copy"><path d="M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 512" class="copybutton-icon icon-copied hidden"><path d="M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg><span>Copy</span></div></div>
<div class="relative group text-sm"><div class="highlight-sqljson notranslate"><div class="highlight"><pre><span></span><span class="kt">{</span>
  <span class="vg">"GlobalStats":</span> <span class="kt">{</span>
    <span class="vg">"partitionsTotal":</span> 0,
    <span class="vg">"partitionsAssigned":</span> 0,
    <span class="vg">"bytesAssigned":</span> 0
  <span class="kt">}</span>,
  <span class="vg">"Operations":</span> <span class="kr">[</span>
    <span class="kr">[</span>
      <span class="kt">{</span>
        <span class="vg">"id":</span> 0,
        <span class="vg">"operation":</span> <span class="nv">"Result"</span>,
        <span class="vg">"expressions":</span> <span class="kr">[</span>
          <span class="n">"1"</span>,
          "'**MASKED**'"
        <span class="kr">]</span>
      <span class="kt">}</span>,
      <span class="kt">{</span>
        <span class="vg">"id":</span> 1,
        <span class="vg">"parent":</span> 0,
        <span class="vg">"operation":</span> <span class="nv">"Generator"</span>,
        <span class="vg">"expressions":</span> <span class="kr">[</span>
          <span class="n">"1"</span>
        <span class="kr">]</span>
      <span class="kt">}</span>
    <span class="kr">]</span>
  <span class="kr">]</span>
<span class="kt">}</span>
</pre></div>
</div><div data-codeblock-index="22" class="copybutton"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 384 512" class="copybutton-icon icon-copy"><path d="M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 512" class="copybutton-icon icon-copied hidden"><path d="M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg><span>Copy</span></div></div>
</section>
<section id="unload-data">
<span id="label-security-column-intro-unload-data"></span><h3>Unload data<a class="headerlink" href="#unload-data" title="Link to this heading">¶</a></h3>
<p>Using the <a class="reference internal" href="../sql-reference/sql/copy-into-location"><span class="doc">COPY INTO &lt;location&gt;</span></a> command on a column that has a masking policy results in the masking policy being applied to the data. Therefore, unauthorized users see masked data after executing the command.</p>
</section>
<section id="naf">
<h3>Snowflake Native App Framework<a class="headerlink" href="#naf" title="Link to this heading">¶</a></h3>
<p>For details about using masking policies with a Snowflake Native App, see:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../developer-guide/native-apps/preparing-data-content.html#label-native-apps-share-policy-protected-data"><span class="std std-ref">Restrictions on sharing data content that contains policies</span></a>.</p></li>
<li><p><a class="reference internal" href="../developer-guide/native-apps/preparing-data-content.html#label-native-apps-policies-proxy-views"><span class="std std-ref">Define policies on proxy views</span></a>.</p></li>
<li><p><a class="reference internal" href="../developer-guide/native-apps/redacted-content.html#label-native-apps-context-function-limitations"><span class="std std-ref">Blocked context functions</span></a>.</p></li>
</ul>
</section>
</section>
<section id="managing-column-level-security">
<span id="label-security-column-manage"></span><h2>Managing Column-level Security<a class="headerlink" href="#managing-column-level-security" title="Link to this heading">¶</a></h2>
<p>This section provides information useful for determining your overall management approach to masking policies, describes the privileges required to manage Column-level Security, and lists supported DDL commands.</p>
<section id="choosing-a-centralized-hybrid-or-decentralized-approach">
<span id="label-security-column-mgmt-approach"></span><h3>Choosing a centralized, hybrid, or decentralized approach<a class="headerlink" href="#choosing-a-centralized-hybrid-or-decentralized-approach" title="Link to this heading">¶</a></h3>
<p>To manage Dynamic Data Masking and External Tokenization policies effectively, it is helpful to consider whether your approach to masking data in columns should follow a centralized security approach, a decentralized approach, or a hybrid of each of these two approaches.</p>
<p>The following table summarizes some of the considerations with each of these two approaches.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Policy
Action</p></th>
<th class="head"><p>Centralized
Management</p></th>
<th class="head"><p>Hybrid
Management</p></th>
<th class="head"><p>Decentralized
Management</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Create policies</p></td>
<td><p>Security officer</p></td>
<td><p>Security officer</p></td>
<td><p>Individual teams</p></td>
</tr>
<tr class="row-odd"><td><p>Apply policies to columns</p></td>
<td><p>Security officer</p></td>
<td><p>Individual teams</p></td>
<td><p>Individual teams</p></td>
</tr>
</tbody>
</table>
<p>As a best practice, Snowflake recommends that your organization gathers all relevant stakeholders to determine the best management approach for implementing Column-level Security in your environment.</p>
</section>
<section id="masking-policy-privileges">
<span id="label-security-column-privileges-masking-policies"></span><h3>Masking policy privileges<a class="headerlink" href="#masking-policy-privileges" title="Link to this heading">¶</a></h3>
<p>This section describes the Column-level Security masking policy privileges and how they apply to a centralized, decentralized, or hybrid management approach.</p>
<p>Snowflake provides the following privileges for Column-level Security masking policies.</p>
<p>Note that operating on any object in a schema also requires the USAGE privilege on the parent database and schema.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Privilege</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>CREATE</p></td>
<td><p>Enables creating a new masking policy in a schema.</p></td>
</tr>
<tr class="row-odd"><td><p>APPLY</p></td>
<td><p>Enables executing the unset and set operations for a <a class="reference internal" href="#"><span class="doc">masking policy</span></a> on a column.</p>
<p>Note that granting the global APPLY MASKING POLICY privilege (i.e. APPLY MASKING POLICY on ACCOUNT) enables executing the DESCRIBE
operation on tables and views.</p>
<p>For syntax examples, see <a class="reference internal" href="#label-security-column-privileges-masking-policies"><span class="std std-ref">Masking policy privileges</span></a>.</p>
</td>
</tr>
<tr class="row-even"><td><p>OWNERSHIP</p></td>
<td><p>Grants full control over the masking policy. Required to alter most properties of a masking policy. Only a single role can hold this
privilege on a specific object at a time.</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Operating on a masking policy also requires the USAGE privilege on the parent database and schema.</p>
</div>
<p>The following examples show how granting privileges apply to different management approaches. After granting the APPLY privilege to a role, the masking policy can be set on a table column using an <a class="reference internal" href="../sql-reference/sql/alter-table-column"><span class="doc">ALTER TABLE … ALTER COLUMN</span></a> statement or set on a view column using an <a class="reference internal" href="../sql-reference/sql/alter-view"><span class="doc">ALTER VIEW</span></a> statement (by a member of the role with the APPLY privilege on the masking policy).</p>
<p><strong>Centralized Management</strong></p>
<blockquote>
<div><p>In a centralized management approach, only the security officer custom role (e.g. <code class="docutils literal notranslate"><span class="pre">security_officer</span></code>) creates and applies masking policies to columns in tables or views. This approach can provide the most consistency in terms of masking policy management and masking sensitive data.</p>
<blockquote>
<div><div class="relative group text-sm"><div class="highlight-sqlexample notranslate"><div class="highlight"><pre><span></span><span class="py">-- create a security_officer custom role</span>

<span class="ni">USE</span> <span class="ni">ROLE</span> <span class="gi">ACCOUNTADMIN</span><span class="p">;</span>
<span class="ni">CREATE</span> <span class="ni">ROLE</span> <span class="gi">security_officer</span><span class="p">;</span>

<span class="py">-- grant CREATE AND APPLY masking policy privileges to the SECURITY_OFFICER custom role.</span>

<span class="ni">GRANT</span> <span class="ni">CREATE</span> <span class="ni">MASKING POLICY</span> <span class="ni">ON</span> <span class="ni">SCHEMA</span> <span class="gi">mydb</span><span class="p">.</span><span class="gi">mysch</span> <span class="ni">TO</span> <span class="ni">ROLE</span> <span class="gi">security_officer</span><span class="p">;</span>

<span class="ni">GRANT</span> <span class="ni">APPLY</span> <span class="ni">MASKING POLICY</span> <span class="ni">ON</span> <span class="ni">ACCOUNT</span> <span class="ni">TO</span> <span class="ni">ROLE</span> <span class="gi">security_officer</span><span class="p">;</span>
</pre></div>
</div><div data-codeblock-index="23" class="copybutton"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 384 512" class="copybutton-icon icon-copy"><path d="M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 512" class="copybutton-icon icon-copied hidden"><path d="M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg><span>Copy</span></div></div>
<p>Where:</p>
<ul>
<li><dl>
<dt><code class="samp docutils literal notranslate"><em><span class="pre">schema_name</span></em></code></dt><dd><p>Specifies the identifier for the schema; must be unique for the database in which the schema is created.</p>
<p>In addition, the identifier must start with an alphabetic character and cannot contain spaces or special characters unless the entire identifier string is enclosed in double quotes (e.g. “My object”). Identifiers enclosed in double quotes are also case-sensitive.</p>
<p>For more details, see <a class="reference internal" href="../sql-reference/identifiers-syntax"><span class="doc">Identifier requirements</span></a>.</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</div></blockquote>
<p><strong>Hybrid Management</strong></p>
<blockquote>
<div><p>In a hybrid management approach, the security officer custom role (e.g. <code class="docutils literal notranslate"><span class="pre">security_officer</span></code>) creates masking policies and individual teams (e.g. finance, payroll, human resources) apply the masking policies to columns in tables or views owned by the teams. This approach can lead to consistent policy creation and maintenance but requires individual teams to have the increased responsibility to mask sensitive data.</p>
<blockquote>
<div><div class="relative group text-sm"><div class="highlight-sqlexample notranslate"><div class="highlight"><pre><span></span><span class="ni">USE</span> <span class="ni">ROLE</span> <span class="gi">ACCOUNTADMIN</span><span class="p">;</span>
<span class="ni">CREATE</span> <span class="ni">ROLE</span> <span class="gi">security_officer</span><span class="p">;</span>
<span class="ni">GRANT</span> <span class="ni">CREATE</span> <span class="ni">MASKING POLICY</span> <span class="ni">ON</span> <span class="ni">SCHEMA</span> <span class="gi">mydb</span><span class="p">.</span><span class="gi">mysch</span> <span class="ni">TO</span> <span class="ni">ROLE</span> <span class="gi">security_officer</span><span class="p">;</span>
</pre></div>
</div><div data-codeblock-index="24" class="copybutton"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 384 512" class="copybutton-icon icon-copy"><path d="M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 512" class="copybutton-icon icon-copied hidden"><path d="M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg><span>Copy</span></div></div>
</div></blockquote>
<p>The SECURITY_OFFICER custom role grants the APPLY privilege to the human resources team (i.e. users with the HUMAN_RESOURCES custom role) to mask social security numbers (e.g. masking policy: <code class="code docutils literal notranslate"><span class="pre">ssn_mask</span></code>) in columns for objects owned by the HUMAN_RESOURCES custom role.</p>
<blockquote>
<div><div class="relative group text-sm"><div class="highlight-sqlexample notranslate"><div class="highlight"><pre><span></span><span class="ni">USE</span> <span class="ni">ROLE</span> <span class="gi">security_officer</span><span class="p">;</span>
<span class="ni">GRANT</span> <span class="ni">APPLY</span> <span class="ni">ON</span> <span class="ni">MASKING POLICY</span> <span class="gi">ssn_mask</span> <span class="ni">TO</span> <span class="ni">ROLE</span> <span class="gi">human_resources</span><span class="p">;</span>
</pre></div>
</div><div data-codeblock-index="25" class="copybutton"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 384 512" class="copybutton-icon icon-copy"><path d="M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 512" class="copybutton-icon icon-copied hidden"><path d="M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg><span>Copy</span></div></div>
<p>Where:</p>
<ul>
<li><dl>
<dt><code class="samp docutils literal notranslate"><span class="pre">grant</span> <span class="pre">apply</span> <span class="pre">on</span> <span class="pre">masking</span> <span class="pre">policy</span> <em><span class="pre">policy_name</span></em> <span class="pre">to</span> <span class="pre">role</span> <em><span class="pre">role_name</span></em><span class="pre">;</span></code></dt><dd><p>Used by a policy owner to decentralize the unset and set operations of a given masking policy on columns to the object owners.</p>
<p>This privilege supports <a class="reference internal" href="security-access-control-overview"><span class="doc">discretionary access control</span></a> where object owners are also considered data stewards.</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</div></blockquote>
<p><strong>Decentralized Approach</strong></p>
<blockquote>
<div><p>In a decentralized management approach, individual teams create and apply masking policies to columns in tables or views. This approach can lead to inconsistent policy management, with the possibility of sensitive data not being masked properly, since individual teams assume all responsibility for managing masking policies and masking sensitive data.</p>
<p>In this representative example, the support team (i.e. users with the custom role SUPPORT) and the finance team (i.e. users with the custom role FINANCE) can create masking policies. Note that these custom roles may not include the SECURITY_OFFICER custom role.</p>
<blockquote>
<div><div class="relative group text-sm"><div class="highlight-sqlexample notranslate"><div class="highlight"><pre><span></span><span class="ni">USE</span> <span class="ni">ROLE</span> <span class="gi">ACCOUNTADMIN</span><span class="p">;</span>
<span class="ni">GRANT</span> <span class="ni">CREATE</span> <span class="ni">MASKING POLICY</span> <span class="ni">ON</span> <span class="ni">SCHEMA</span> <span class="gi">mydb</span><span class="p">.</span><span class="gi">mysch</span> <span class="ni">TO</span> <span class="ni">ROLE</span> <span class="gi">support</span><span class="p">;</span>
<span class="ni">GRANT</span> <span class="ni">CREATE</span> <span class="ni">MASKING POLICY</span> <span class="ni">ON</span> <span class="ni">SCHEMA</span> <span class="p">&lt;</span><span class="gi">DB_NAME</span><span class="p">.</span><span class="ni">SCHEMA_NAME</span><span class="p">&gt;</span> <span class="ni">TO</span> <span class="ni">ROLE</span> <span class="gi">FINANCE</span><span class="p">;</span>
</pre></div>
</div><div data-codeblock-index="26" class="copybutton"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 384 512" class="copybutton-icon icon-copy"><path d="M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 512" class="copybutton-icon icon-copied hidden"><path d="M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg><span>Copy</span></div></div>
</div></blockquote>
<p>The support team grants the APPLY privilege to the human resources team (i.e. users with the custom role HUMAN_RESOURCES) to mask social security numbers (e.g. masking policy: <code class="code docutils literal notranslate"><span class="pre">ssn_mask</span></code>) in columns for objects owned by the HUMAN_RESOURCES custom role.</p>
<blockquote>
<div><div class="relative group text-sm"><div class="highlight-sqlexample notranslate"><div class="highlight"><pre><span></span><span class="ni">USE</span> <span class="ni">ROLE</span> <span class="gi">support</span><span class="p">;</span>
<span class="ni">GRANT</span> <span class="ni">APPLY</span> <span class="ni">ON</span> <span class="ni">MASKING POLICY</span> <span class="gi">ssn_mask</span> <span class="ni">TO</span> <span class="ni">ROLE</span> <span class="gi">human_resources</span><span class="p">;</span>
</pre></div>
</div><div data-codeblock-index="27" class="copybutton"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 384 512" class="copybutton-icon icon-copy"><path d="M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 512" class="copybutton-icon icon-copied hidden"><path d="M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg><span>Copy</span></div></div>
</div></blockquote>
<p>The finance team grants the APPLY privilege to the internal audit team (i.e. users with the custom role AUDIT_INTERNAL) to mask cash flow data (e.g. masking policy: <code class="code docutils literal notranslate"><span class="pre">cash_flow_mask</span></code>) in columns for objects owned by the AUDIT_INTERNAL custom role.</p>
<blockquote>
<div><div class="relative group text-sm"><div class="highlight-sqlexample notranslate"><div class="highlight"><pre><span></span><span class="ni">USE</span> <span class="ni">ROLE</span> <span class="gi">finance</span><span class="p">;</span>
<span class="ni">GRANT</span> <span class="ni">APPLY</span> <span class="ni">ON</span> <span class="ni">MASKING POLICY</span> <span class="gi">cash_flow_mask</span> <span class="ni">TO</span> <span class="ni">ROLE</span> <span class="gi">audit_internal</span><span class="p">;</span>
</pre></div>
</div><div data-codeblock-index="28" class="copybutton"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 384 512" class="copybutton-icon icon-copy"><path d="M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 512" class="copybutton-icon icon-copied hidden"><path d="M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg><span>Copy</span></div></div>
</div></blockquote>
</div></blockquote>
<p>For more information on masking policy privileges, see:</p>
<ul class="simple">
<li><p><a class="reference internal" href="security-column-ddm-use"><span class="doc">Using Dynamic Data Masking</span></a></p></li>
<li><p><a class="reference internal" href="security-column-ext-token-use"><span class="doc">Using External Tokenization</span></a></p></li>
</ul>
</section>
<section id="masking-policy-ddl">
<span id="label-security-column-intro-ddl"></span><h3>Masking policy DDL<a class="headerlink" href="#masking-policy-ddl" title="Link to this heading">¶</a></h3>
<p>Snowflake provides the following set of commands to manage Column-level Security masking policies.</p>
<ul class="simple">
<li><p><a class="reference internal" href="../sql-reference/sql/create-masking-policy"><span class="doc">CREATE MASKING POLICY</span></a></p></li>
<li><p><a class="reference internal" href="../sql-reference/sql/alter-masking-policy"><span class="doc">ALTER MASKING POLICY</span></a> (see also: <a class="reference internal" href="../sql-reference/sql/alter-table"><span class="doc">ALTER TABLE</span></a>, <a class="reference internal" href="../sql-reference/sql/alter-table-column"><span class="doc">ALTER TABLE … ALTER COLUMN</span></a>, and <a class="reference internal" href="../sql-reference/sql/alter-view"><span class="doc">ALTER VIEW</span></a>)</p></li>
<li><p><a class="reference internal" href="../sql-reference/sql/drop-masking-policy"><span class="doc">DROP MASKING POLICY</span></a></p></li>
<li><p><a class="reference internal" href="../sql-reference/sql/show-masking-policies"><span class="doc">SHOW MASKING POLICIES</span></a></p></li>
<li><p><a class="reference internal" href="../sql-reference/sql/desc-masking-policy"><span class="doc">DESCRIBE MASKING POLICY</span></a></p></li>
</ul>
<p>The following table summarizes the relationship between the Column-level Security masking policy DDL operations and their necessary privileges.</p>
<p>Note that operating on any object in a schema also requires the USAGE privilege on the parent database and schema.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 24.0%">
<col style="width: 76.0%">
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Operation</p></th>
<th class="head"><p>Privilege</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Create masking policy</p></td>
<td><p>A role with the CREATE MASKING POLICY on SCHEMA privilege.</p></td>
</tr>
<tr class="row-odd"><td><p>Alter masking policy</p></td>
<td><p>The masking policy owner (i.e. the role with the OWNERSHIP privilege on the masking policy).</p></td>
</tr>
<tr class="row-even"><td><p>Drop masking policy</p></td>
<td><p>The masking policy owner (i.e. the role with the OWNERSHIP privilege on the masking policy).</p></td>
</tr>
<tr class="row-odd"><td><p>Show masking policies</p></td>
<td><p>One of the following: <span class="newline">.</span>
A role with the global APPLY MASKING POLICY privilege, <span class="emph">or</span> <span class="newline">.</span>
The masking policy owner (i.e. the role with the OWNERSHIP privilege on the masking policy) <span class="emph">or</span> <span class="newline">.</span>
A role with the APPLY privilege on the masking policy.</p></td>
</tr>
<tr class="row-even"><td><p>Describe masking policy</p></td>
<td><p>One of the following: <span class="newline">.</span>
A role with the global APPLY MASKING POLICY privilege <span class="emph">or</span> <span class="newline">.</span>
The masking policy owner (i.e. the role with the OWNERSHIP privilege on the masking policy) <span class="emph">or</span> <span class="newline">.</span>
A role with the APPLY privilege on the masking policy.</p></td>
</tr>
<tr class="row-odd"><td><p>List of columns having a masking policy</p></td>
<td><p>One of the following: <span class="newline">.</span>
The role with the APPLY MASKING POLICY privilege, <span class="emph">or</span> <span class="newline">.</span>
The role with the APPLY on MASKING POLICY privilege on a given masking policy <span class="emph">and</span> has OWNERSHIP on the target object.</p></td>
</tr>
<tr class="row-even"><td><p>Using UDFs in a masking policy</p></td>
<td><p>If creating a new or altering an existing masking policy, the policy administrator role must have usage on the UDF, all scalar UDFs
in the policy expression should have the same data type, and the UDF must exist.</p>
<p>At the query runtime, Snowflake verifies if the UDF exists; if not, the SQL expression will not resolve and the query fails.</p>
</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="monitor-masking-policies-with-sql">
<h2>Monitor masking policies with SQL<a class="headerlink" href="#monitor-masking-policies-with-sql" title="Link to this heading">¶</a></h2>
<p>You can monitor masking policy usage through two different Account Usage views and an Information Schema table.</p>
<p>It can be helpful to think of two general approaches to determine how to monitor masking policy usage.</p>
<ul class="simple">
<li><p><a class="reference internal" href="#discover-masking-policies">Discover Masking Policies</a></p></li>
<li><p><a class="reference internal" href="#identify-assignments">Identify Assignments</a></p></li>
</ul>
<section id="discover-masking-policies">
<h3>Discover masking policies<a class="headerlink" href="#discover-masking-policies" title="Link to this heading">¶</a></h3>
<p>You can use the <a class="reference internal" href="../sql-reference/account-usage/masking_policies"><span class="doc">MASKING_POLICIES</span></a> view in the Account Usage schema of the shared
SNOWFLAKE database. This view is a <em>catalog</em> for all masking policies in your Snowflake account. For example:</p>
<blockquote>
<div><div class="relative group text-sm"><div class="highlight-sqlexample notranslate"><div class="highlight"><pre><span></span><span class="ni">SELECT</span> <span class="p">*</span> <span class="ni">FROM</span> <span class="gi">SNOWFLAKE</span><span class="p">.</span><span class="gi">ACCOUNT_USAGE</span><span class="p">.</span><span class="gi">MASKING_POLICIES</span>
<span class="ni">ORDER</span> <span class="ni">BY</span> <span class="ni">POLICY_NAME</span><span class="p">;</span>
</pre></div>
</div><div data-codeblock-index="29" class="copybutton"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 384 512" class="copybutton-icon icon-copy"><path d="M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 512" class="copybutton-icon icon-copied hidden"><path d="M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg><span>Copy</span></div></div>
</div></blockquote>
</section>
<section id="identify-assignments">
<h3>Identify assignments<a class="headerlink" href="#identify-assignments" title="Link to this heading">¶</a></h3>
<p>Snowflake supports different options to identify masking policy assignments, depending on whether the query needs to target the account
or a specific database.</p>
<ul>
<li><p>Account-level query:</p>
<p>Use the Account Usage <a class="reference internal" href="../sql-reference/account-usage/tag_references"><span class="doc">POLICY_REFERENCES</span></a> view to determine all of the columns
that have a masking policy. For example:</p>
<blockquote>
<div><div class="relative group text-sm"><div class="highlight-sqlexample notranslate"><div class="highlight"><pre><span></span><span class="ni">SELECT</span> <span class="p">*</span> <span class="ni">FROM</span> <span class="gi">SNOWFLAKE</span><span class="p">.</span><span class="gi">ACCOUNT_USAGE</span><span class="p">.</span><span class="nd">POLICY_REFERENCES</span>
<span class="ni">ORDER</span> <span class="ni">BY</span> <span class="ni">POLICY_NAME</span><span class="p">,</span> <span class="gi">REF_COLUMN_NAME</span><span class="p">;</span>
</pre></div>
</div><div data-codeblock-index="30" class="copybutton"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 384 512" class="copybutton-icon icon-copy"><path d="M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 512" class="copybutton-icon icon-copied hidden"><path d="M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg><span>Copy</span></div></div>
</div></blockquote>
</li>
<li><p>Database-level query:</p>
<p>Every Snowflake database includes an <a class="reference internal" href="../sql-reference/info-schema"><span class="doc">Snowflake Information Schema</span></a>. Use the Information Schema table function
<a class="reference internal" href="../sql-reference/functions/policy_references"><span class="doc">POLICY_REFERENCES</span></a> to determine all of the masking policies on columns for a given table:</p>
<blockquote>
<div><div class="relative group text-sm"><div class="highlight-sqlexample notranslate"><div class="highlight"><pre><span></span><span class="ni">SELECT</span> <span class="p">*</span>
<span class="ni">FROM</span> <span class="ni">TABLE</span><span class="p">(</span>
  <span class="gi">my_db</span><span class="p">.</span><span class="ni">INFORMATION_SCHEMA</span><span class="p">.</span><span class="nd">POLICY_REFERENCES</span><span class="p">(</span>
    <span class="nc">'my_table'</span><span class="p">,</span>
    <span class="nc">'table'</span>
  <span class="p">)</span>
<span class="p">);</span>
</pre></div>
</div><div data-codeblock-index="31" class="copybutton"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 384 512" class="copybutton-icon icon-copy"><path d="M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 512" class="copybutton-icon icon-copied hidden"><path d="M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg><span>Copy</span></div></div>
</div></blockquote>
<p>You can also use this function to query by the name of the masking policy to find the objects that are associated with a
given masking policy.</p>
</li>
</ul>
</section>
</section>
<section id="monitor-masking-policies-with-sf-web-interface">
<span id="label-security-column-intro-snowsight"></span><h2>Monitor masking policies with Snowsight<a class="headerlink" href="#monitor-masking-policies-with-sf-web-interface" title="Link to this heading">¶</a></h2>
<p>You can use the Snowsight <span class="ui">Monitoring</span> » <span class="ui">Governance</span> area to monitor and report on the usage of policies and tags with
tables, views, and columns. There are two different interfaces: <span class="ui">Dashboard</span> and <span class="ui">Tagged Objects</span>.</p>
<p>When using the <span class="ui">Dashboard</span> and the <span class="ui">Tagged Objects</span> interface, note the following details.</p>
<ul class="simple">
<li><p>The <span class="ui">Dashboard</span> and <span class="ui">Tagged Objects</span> interfaces require a running warehouse.</p></li>
<li><p>Snowsight updates the <span class="ui">Dashboard</span> every 12 hours.</p></li>
<li><p>The <span class="ui">Tagged Objects</span> information latency can be up to two hours and returns up to 1000 objects.</p></li>
</ul>
<section id="accessing-the-governance-area-in-snowsight">
<h3>Accessing the Governance area in Snowsight<a class="headerlink" href="#accessing-the-governance-area-in-snowsight" title="Link to this heading">¶</a></h3>
<p>To access the <span class="ui">Governance</span> area, your Snowflake account must be <a class="reference internal" href="intro-editions"><span class="doc">Enterprise Edition or higher</span></a>.
Additionally, you must do either of the following:</p>
<ul>
<li><p>Use the ACCOUNTADMIN role.</p></li>
<li><p>Use an account role that is <span class="emph">directly</span> granted the GOVERNANCE_VIEWER <span class="emph">and</span> OBJECT_VIEWER database roles.</p>
<p>You <span class="emph">must</span> use an account role with these database role grants. Currently, Snowsight does not evaluate role hierarchies
and user-defined database roles that have access to tables, views, data access policies, and tags.</p>
<p>To determine if your account role is granted these two database roles, use a <a class="reference internal" href="../sql-reference/sql/show-grants"><span class="doc">SHOW GRANTS</span></a> command:</p>
<blockquote>
<div><div class="relative group text-sm"><div class="highlight-sqlexample notranslate"><div class="highlight"><pre><span></span><span class="ni">SHOW</span> <span class="ni">GRANTS</span> <span class="ni">LIKE</span> <span class="nc">'%VIEWER%'</span> <span class="ni">TO</span> <span class="ni">ROLE</span> <span class="gi">data_engineer</span><span class="p">;</span>
</pre></div>
</div><div data-codeblock-index="32" class="copybutton"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 384 512" class="copybutton-icon icon-copy"><path d="M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 512" class="copybutton-icon icon-copied hidden"><path d="M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg><span>Copy</span></div></div>
<div class="highlight-output notranslate"><div class="highlight"><pre><span></span><span class="go">|-------------------------------+-----------+---------------+-----------------------------+------------+-----------------+--------------+------------|</span>
<span class="go">| created_on                    | privilege | granted_on    | name                        | granted_to | grantee_name    | grant_option | granted_by |</span>
<span class="go">|-------------------------------+-----------+---------------+-----------------------------+------------+-----------------+--------------+------------|</span>
<span class="go">| 2024-01-24 17:12:26.984 +0000 | USAGE     | DATABASE_ROLE | SNOWFLAKE.GOVERNANCE_VIEWER | ROLE       | DATA_ENGINEER   | false        |            |</span>
<span class="go">| 2024-01-24 17:12:47.967 +0000 | USAGE     | DATABASE_ROLE | SNOWFLAKE.OBJECT_VIEWER     | ROLE       | DATA_ENGINEER   | false        |            |</span>
<span class="go">|-------------------------------+-----------+---------------+-----------------------------+------------+-----------------+--------------+------------|</span>
</pre></div>
</div>
</div></blockquote>
<div class="line-block">
<div class="line"><br></div>
</div>
<p>If your account role is not granted either or both of these database roles, use the <a class="reference internal" href="../sql-reference/sql/grant-database-role"><span class="doc">GRANT DATABASE ROLE</span></a> command
and run the SHOW GRANTS command again to confirm the grants:</p>
<blockquote>
<div><div class="relative group text-sm"><div class="highlight-sqlexample notranslate"><div class="highlight"><pre><span></span><span class="ni">USE</span> <span class="ni">ROLE</span> <span class="gi">ACCOUNTADMIN</span><span class="p">;</span>
<span class="ni">GRANT</span> <span class="ni">DATABASE</span> <span class="ni">ROLE</span> <span class="gi">SNOWFLAKE</span><span class="p">.</span><span class="gi">GOVERNANCE_VIEWER</span> <span class="ni">TO</span> <span class="ni">ROLE</span> <span class="gi">data_engineer</span><span class="p">;</span>
<span class="ni">GRANT</span> <span class="ni">DATABASE</span> <span class="ni">ROLE</span> <span class="gi">SNOWFLAKE</span><span class="p">.</span><span class="gi">OBJECT_VIEWER</span> <span class="ni">TO</span> <span class="ni">ROLE</span> <span class="gi">data_engineer</span><span class="p">;</span>
<span class="ni">SHOW</span> <span class="ni">GRANTS</span> <span class="ni">LIKE</span> <span class="nc">'%VIEWER%'</span> <span class="ni">TO</span> <span class="ni">ROLE</span> <span class="gi">data_engineer</span><span class="p">;</span>
</pre></div>
</div><div data-codeblock-index="33" class="copybutton"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 384 512" class="copybutton-icon icon-copy"><path d="M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 512" class="copybutton-icon icon-copied hidden"><path d="M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"></path></svg><span>Copy</span></div></div>
</div></blockquote>
<p>For details about these database roles, see <a class="reference internal" href="../sql-reference/snowflake-db-roles"><span class="doc">SNOWFLAKE database roles</span></a>.</p>
</li>
</ul>
</section>
<section id="dashboard">
<h3>Dashboard<a class="headerlink" href="#dashboard" title="Link to this heading">¶</a></h3>
<p>As a data administrator, you can use the <span class="ui">Dashboard</span> interface to monitor tag and policy usage in the following ways.</p>
<ul class="simple">
<li><p>Coverage: specifies the count and percentage based on whether a table, view, or column has a policy or tag.</p></li>
<li><p>Prevalence: lists and counts the most frequently used policies and tags.</p></li>
</ul>
<p>The coverage and prevalence provide a snapshot as to how well the data is protected and tagged.</p>
<p>When you select a count number, percentage, policy name, or tag name, the <span class="ui">Tagged Objects</span> interface opens. The <span class="ui">Tagged Objects</span>
interface updates the filters automatically based on your selection in the <span class="ui">Dashboard</span>.</p>
<p>The monitoring information is an alternative or complement to running complex and query-intensive operations on multiple Account
Usage views.</p>
<p>These views might include, but are not limited to, the <a class="reference internal" href="../sql-reference/account-usage/columns"><span class="doc">COLUMNS</span></a>,
<a class="reference internal" href="../sql-reference/account-usage/policy_references"><span class="doc">POLICY_REFERENCES</span></a>, <a class="reference internal" href="../sql-reference/account-usage/tables"><span class="doc">TABLES</span></a>,
<a class="reference internal" href="../sql-reference/account-usage/tag_references"><span class="doc">TAG_REFERENCES</span></a>, and <a class="reference internal" href="../sql-reference/account-usage/views"><span class="doc">VIEWS</span></a> views.</p>
</section>
<section id="tagged-objects">
<h3>Tagged Objects<a class="headerlink" href="#tagged-objects" title="Link to this heading">¶</a></h3>
<p>As a data administrator, you can use this table to associate the coverage and prevalence in the <span class="ui">Dashboard</span> to a list of specific
tables, view, or columns quickly. You can also filter the table results manually as follows.</p>
<ul class="simple">
<li><p>Choose <span class="ui">Tables</span> or <span class="ui">Columns</span>.</p></li>
<li><p>For tags, you can filter with tags, without tags, or by a specific tag.</p></li>
<li><p>For policies, you can filter with policies, without policies, or by a specific policy.</p></li>
</ul>
<p>When you select a row in the table, the <span class="ui">Table Details</span> or <span class="ui">Columns</span> tab in <span class="ui">Data</span> » <span class="ui">Databases</span> opens. You can edit
the tag and policy assignments as needed.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>You can use Snowsight to troubleshoot masking policy assignments. In the <span class="ui">Columns</span> tab, the <span class="ui">MASKING POLICY</span> column
shows <span class="ui">Policy Error</span> when there is a conflict with the masking policy assignment on the column. You can select the <span class="ui">Policy
Error</span> for more information.</p>
<p>Additionally, the <span class="ui">Data Preview</span> tab does not render a data preview when there is a error with a masking policy assignment on a
column. Instead, the <span class="ui">Data Preview</span> tab returns the SQL error message. This message corresponds to one of the error values in the
POLICY_STATUS column of the Account Usage POLICY_REFERENCES view and the Information Schema POLICY_REFERENCES table function.</p>
<p>To correct the error, use the SQL error message and the <span class="ui">Policy Error</span> message to modify the tag or policy assignment.</p>
</div>
<p>For additional details, refer to <a class="reference internal" href="tag-based-masking-policies.html#label-tag-based-masking-discovery"><span class="std std-ref">Tag and policy discovery</span></a></p>
</section>
</section>
</section>


</article><footer class="mt-24 mb-12 print:hidden"><div class="mb-8"><div class="flex"><p class="mr-4 text-primary">Was this page helpful?</p><button class="button-primary-bg rounded-md button-primary-text py-1 px-3 text-sm mr-2"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="thumbs-up" class="svg-inline--fa fa-thumbs-up pr-2" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M128 447.1V223.1c0-17.67-14.33-31.1-32-31.1H32c-17.67 0-32 14.33-32 31.1v223.1c0 17.67 14.33 31.1 32 31.1h64C113.7 479.1 128 465.6 128 447.1zM512 224.1c0-26.5-21.48-47.98-48-47.98h-146.5c22.77-37.91 34.52-80.88 34.52-96.02C352 56.52 333.5 32 302.5 32c-63.13 0-26.36 76.15-108.2 141.6L178 186.6C166.2 196.1 160.2 210 160.1 224c-.0234 .0234 0 0 0 0L160 384c0 15.1 7.113 29.33 19.2 38.39l34.14 25.59C241 468.8 274.7 480 309.3 480H368c26.52 0 48-21.47 48-47.98c0-3.635-.4805-7.143-1.246-10.55C434 415.2 448 397.4 448 376c0-9.148-2.697-17.61-7.139-24.88C463.1 347 480 327.5 480 304.1c0-12.5-4.893-23.78-12.72-32.32C492.2 270.1 512 249.5 512 224.1z"></path></svg>Yes<!-- --></button><button class="button-primary-bg rounded-md button-primary-text py-1 px-3 text-sm"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="thumbs-down" class="svg-inline--fa fa-thumbs-down pr-2" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M96 32.04H32c-17.67 0-32 14.32-32 31.1v223.1c0 17.67 14.33 31.1 32 31.1h64c17.67 0 32-14.33 32-31.1V64.03C128 46.36 113.7 32.04 96 32.04zM467.3 240.2C475.1 231.7 480 220.4 480 207.9c0-23.47-16.87-42.92-39.14-47.09C445.3 153.6 448 145.1 448 135.1c0-21.32-14-39.18-33.25-45.43C415.5 87.12 416 83.61 416 79.98C416 53.47 394.5 32 368 32h-58.69c-34.61 0-68.28 11.22-95.97 31.98L179.2 89.57C167.1 98.63 160 112.9 160 127.1l.1074 160c0 0-.0234-.0234 0 0c.0703 13.99 6.123 27.94 17.91 37.36l16.3 13.03C276.2 403.9 239.4 480 302.5 480c30.96 0 49.47-24.52 49.47-48.11c0-15.15-11.76-58.12-34.52-96.02H464c26.52 0 48-21.47 48-47.98C512 262.5 492.2 241.9 467.3 240.2z"></path></svg>No<!-- --></button></div></div><div class="grid md:grid-cols-2 xl:grid-cols-3 grid-auto justify-items-start items-start gap-x-6 gap-y-4 border-t border-b py-8"><div class="flex items-center w-full text-card-description gap-3"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 19 19" fill="none" class="fill-gray-70 dark:fill-gray-55"><path fill-rule="evenodd" clip-rule="evenodd" d="M6.08044 9.85246C6.11896 9.72629 6.13502 9.59631 6.13211 9.46798C6.12767 9.37501 6.11608 9.28222 6.09067 9.18929C6.01427 8.90076 5.83329 8.64297 5.56208 8.48046L1.70485 6.16593C1.16033 5.84021 0.466142 6.03386 0.153636 6.59893C-0.161893 7.16313 0.0242153 7.88369 0.568731 8.21023L2.72417 9.50569L0.568731 10.7976C0.0242153 11.1247 -0.161236 11.8454 0.153636 12.4119C0.466142 12.9754 1.16033 13.1682 1.70485 12.8425L5.56208 10.5264C5.82238 10.3707 5.99903 10.1266 6.08044 9.85246ZM7.12726 12.0214C6.90562 12.0017 6.6752 12.0501 6.46792 12.1756L2.60777 14.4886C2.0647 14.815 1.87925 15.5394 2.19267 16.1046C2.50755 16.6683 3.20108 16.8624 3.74335 16.5344L5.90603 15.2381V17.8285C5.90603 18.4812 6.41412 19.01 7.04293 19.01C7.66872 19.01 8.17841 18.4812 8.17841 17.8285V13.1976C8.17841 12.5758 7.71463 12.0652 7.12726 12.0214ZM11.0804 6.98844C11.3013 7.00744 11.5311 6.95837 11.7384 6.83439L15.5977 4.51919C16.1416 4.19265 16.3261 3.47126 16.0135 2.90459C15.7002 2.34051 15.006 2.14697 14.4629 2.47323L12.3017 3.77112V1.17982C12.3017 0.528953 11.7936 0 11.1648 0C10.536 0 10.0292 0.528953 10.0292 1.17982V5.81081C10.0292 6.43187 10.4917 6.94335 11.0804 6.98844ZM2.60777 4.51919L6.46792 6.83439C6.6752 6.95837 6.90562 7.00744 7.12726 6.98844C7.71463 6.94335 8.17841 6.43187 8.17841 5.81081V1.17982C8.17841 0.528953 7.66872 0 7.04293 0C6.41412 0 5.90603 0.528953 5.90603 1.17982V3.77112L3.74335 2.47323C3.20108 2.14697 2.50755 2.34051 2.19267 2.90459C1.87925 3.47126 2.0647 4.19265 2.60777 4.51919ZM9.86206 9.49596C9.86206 9.42874 9.82287 9.33499 9.7771 9.28524L9.31254 8.80465C9.26677 8.75722 9.17654 8.71787 9.11169 8.71787H9.09367C9.02896 8.71787 8.93888 8.75722 8.89375 8.80465L8.42922 9.28524C8.38267 9.33499 8.34703 9.42874 8.34703 9.49596V9.51486C8.34703 9.58126 8.38267 9.67419 8.42922 9.7226L8.89375 10.2045C8.93952 10.2521 9.02896 10.2913 9.09367 10.2913H9.11169C9.17654 10.2913 9.26677 10.2521 9.31254 10.2045L9.7771 9.7226C9.82287 9.67419 9.86206 9.58126 9.86206 9.51486V9.49596ZM11.1444 9.95821L9.54007 11.6234C9.49416 11.6723 9.40553 11.7124 9.33873 11.7124H9.22231H8.98529H8.86692C8.8021 11.7124 8.71198 11.6723 8.66543 11.6234L7.06187 9.95821C7.01596 9.91134 6.97889 9.81703 6.97889 9.75047V9.62732V9.38104V9.25953C6.97889 9.19145 7.01596 9.09702 7.06187 9.04944L8.66543 7.3844C8.71198 7.33536 8.8021 7.29679 8.86692 7.29679H8.98529H9.22231H9.33873C9.40408 7.29679 9.49416 7.33536 9.54007 7.3844L11.1444 9.04944C11.1902 9.09702 11.2273 9.19145 11.2273 9.25953V9.38104V9.62732V9.75047C11.2273 9.81703 11.1902 9.91134 11.1444 9.95821ZM15.5977 14.4886L11.7384 12.1756C11.5311 12.0501 11.3013 12.0017 11.0804 12.0214C10.4917 12.0652 10.0292 12.5758 10.0292 13.1976V17.8285C10.0292 18.4812 10.536 19.01 11.1648 19.01C11.7936 19.01 12.3017 18.4812 12.3017 17.8285V15.2381L14.4629 16.5344C15.0059 16.8624 15.7002 16.6683 16.0135 16.1046C16.3261 15.5394 16.1416 14.815 15.5977 14.4886ZM17.6383 8.21023L15.4828 9.50569L17.6383 10.7976C18.1828 11.1247 18.3689 11.8454 18.0541 12.4119C17.74 12.9754 17.0452 13.1682 16.5028 12.8425L12.6426 10.5264C12.3852 10.3707 12.2065 10.1266 12.1272 9.85246C12.0894 9.72629 12.0719 9.59631 12.0763 9.46798C12.0785 9.37501 12.0915 9.28222 12.1162 9.18929C12.1935 8.90076 12.3745 8.64308 12.6426 8.48046L16.5028 6.16593C17.0452 5.84021 17.74 6.03386 18.0541 6.59893C18.3689 7.16313 18.1828 7.88369 17.6383 8.21023Z"></path></svg><a href="https://www.snowflake.com" class="mx-1 hover:underline hover:text-primary" target="_blank" rel="noreferrer">Visit Snowflake</a></div><div class="flex items-center w-full text-card-description gap-3"><svg xmlns="http://www.w3.org/2000/svg" width="17" height="16" viewBox="0 0 17 16" fill="none" class="stroke-gray-70 dark:stroke-gray-55"><g clip-path="url(#clip0_2319_2428)"><path d="M8.66666 7.96667H12.4867" stroke-width="1.5" stroke-miterlimit="10"></path><path d="M10.5733 6.06006V9.88006" stroke-width="1.5" stroke-miterlimit="10"></path><path d="M15.6667 6.69999V13.7L13.76 11.7867H8.03332C7.46874 11.7882 6.91974 11.6016 6.47305 11.2563C6.02635 10.911 5.70743 10.4267 5.56666 9.87999C5.51029 9.66234 5.48339 9.43812 5.48666 9.21332V6.69999C5.48666 6.02457 5.75497 5.37681 6.23256 4.89922C6.71015 4.42163 7.35791 4.15332 8.03332 4.15332H13.12C13.7954 4.15332 14.4432 4.42163 14.9208 4.89922C15.3983 5.37681 15.6667 6.02457 15.6667 6.69999Z" stroke-width="1.5" stroke-miterlimit="10"></path><path d="M11.8467 3.51334V4.18001H8.03332C7.35791 4.18001 6.71015 4.44832 6.23256 4.92591C5.75497 5.4035 5.48666 6.05126 5.48666 6.72668V8.63334H3.57332L1.66666 10.5133V3.51334C1.66666 2.83792 1.93497 2.19017 2.41256 1.71258C2.89015 1.23498 3.53791 0.966675 4.21332 0.966675H9.33332C10.0029 0.97544 10.6422 1.24761 11.1126 1.72426C11.583 2.20091 11.8467 2.84366 11.8467 3.51334Z" stroke-width="1.5" stroke-miterlimit="10"></path></g><defs><clipPath id="clip0_2319_2428"><rect width="16" height="16" fill="white" transform="translate(0.666656)"></rect></clipPath></defs></svg><a href="https://community.snowflake.com/s/" class="mx-1 hover:underline hover:text-primary" target="_blank" rel="noreferrer">Join the conversation</a></div><div class="flex items-center w-full text-card-description gap-3"><svg xmlns="http://www.w3.org/2000/svg" width="17" height="16" viewBox="0 0 17 16" fill="none" class="stroke-gray-70 dark:stroke-gray-55"><path d="M6.4267 10.5467L4.51337 8.64002L6.4267 6.72668" stroke-width="1.5" stroke-miterlimit="10"></path><path d="M10.2401 10.5467L12.1534 8.64002L10.2401 6.72668" stroke-width="1.5" stroke-miterlimit="10"></path><path d="M8.96671 6.72668L7.70004 10.5467" stroke-width="1.5" stroke-miterlimit="10"></path><path d="M14.0601 4.18V15H2.60672V1H10.8801L14.0601 4.18Z" stroke-width="1.5" stroke-miterlimit="10"></path><path d="M14.0601 4.18V4.82H10.2401V1H10.8801L14.0601 4.18Z" stroke-width="1.5" stroke-miterlimit="10"></path></svg><a href="https://developers.snowflake.com" class="mx-1 hover:underline hover:text-primary" target="_blank" rel="noreferrer">Develop with Snowflake</a></div><div class="flex items-center w-full text-card-description gap-3"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none" class="stroke-gray-70 dark:stroke-gray-55"><path d="M7.99999 6.09338L8.39332 6.92672L9.27332 7.06672L8.63999 7.71338L8.78665 8.64005L7.99999 8.20005L7.21332 8.64005L7.35999 7.71338L6.72665 7.06672L7.60665 6.92672L7.99999 6.09338Z" fill="#5D6A85"></path><path d="M11.82 6.09338L12.2133 6.92672L13.0933 7.06672L12.4533 7.71338L12.6067 8.64005L11.82 8.20005L11.0333 8.64005L11.18 7.71338L10.5467 7.06672L11.4267 6.92672L11.82 6.09338Z" fill="#5D6A85"></path><path d="M4.18001 6.09338L4.57334 6.92672L5.45334 7.06672L4.82001 7.71338L4.96668 8.64005L4.18001 8.20005L3.39334 8.64005L3.54668 7.71338L2.90668 7.06672L3.78668 6.92672L4.18001 6.09338Z" fill="#5D6A85"></path><path d="M1 5.45339V9.27339C1 9.6111 1.13415 9.93497 1.37295 10.1738C1.61175 10.4126 1.93562 10.5467 2.27333 10.5467H6.72667L8 11.8201L9.27333 10.5467H13.7267C14.0644 10.5467 14.3883 10.4126 14.6271 10.1738C14.8658 9.93497 15 9.6111 15 9.27339V5.45339C15 5.11568 14.8658 4.7918 14.6271 4.553C14.3883 4.31421 14.0644 4.18005 13.7267 4.18005H2.27333C1.93562 4.18005 1.61175 4.31421 1.37295 4.553C1.13415 4.7918 1 5.11568 1 5.45339Z" stroke-width="1.5" stroke-miterlimit="10"></path></svg><a href="/feedback" class="mx-1 hover:underline hover:text-primary">Share your feedback</a></div><div class="flex items-center w-full text-card-description gap-3"><svg xmlns="http://www.w3.org/2000/svg" width="17" height="16" viewBox="0 0 17 16" fill="none" class="stroke-gray-70 dark:stroke-gray-55"><g clip-path="url(#clip0_2319_2368)"><path d="M4.15999 7.3866H13.1067" stroke-width="1.5" stroke-miterlimit="10"></path><path d="M4.15999 12.5066H13.1067" stroke-width="1.5" stroke-miterlimit="10"></path><path d="M4.15999 9.94666H13.1067" stroke-width="1.5" stroke-miterlimit="10"></path><path d="M15.6667 0.993286H1.59999V15.06H15.6667V0.993286Z" stroke-width="1.5" stroke-miterlimit="10"></path><path d="M15.6667 4.83329H11.4867H10.2067H1.59999V0.993286H15.6667V4.83329Z" stroke-width="1.5" stroke-miterlimit="10"></path><path d="M3.51999 2.91333H4.79999" stroke-width="1.5" stroke-miterlimit="10"></path><path d="M6.07332 2.91333H7.35332" stroke-width="1.5" stroke-miterlimit="10"></path><path d="M8.63332 2.91333H9.91332" stroke-width="1.5" stroke-miterlimit="10"></path></g><defs><clipPath id="clip0_2319_2368"><rect width="16" height="16" fill="white" transform="translate(0.666656)"></rect></clipPath></defs></svg><a href="https://www.snowflake.com/blog/" class="mx-1 hover:underline hover:text-primary" target="_blank" rel="noreferrer">Read the latest on our blog</a></div><div class="flex items-center w-full text-card-description gap-3"><svg xmlns="http://www.w3.org/2000/svg" width="17" height="16" viewBox="0 0 17 16" fill="none" class="stroke-gray-70 dark:stroke-gray-55"><g clip-path="url(#clip0_2319_1117)"><path d="M15.3334 0.986694H1.33337V11.1667H15.3334V0.986694Z" stroke-width="1.5" stroke-miterlimit="10"></path><path d="M11.5134 11.1667C12.5664 11.1667 13.4201 10.3131 13.4201 9.26006C13.4201 8.20704 12.5664 7.35339 11.5134 7.35339C10.4604 7.35339 9.60672 8.20704 9.60672 9.26006C9.60672 10.3131 10.4604 11.1667 11.5134 11.1667Z" stroke-width="1.5" stroke-miterlimit="10"></path><path d="M10.2401 11.1666H12.7867V14.3466L11.5134 13.7133L10.2401 14.3466V11.1666Z" stroke-width="1.5" stroke-miterlimit="10"></path><path d="M3.88004 4.16663H12.7867" stroke-width="1.5" stroke-miterlimit="10"></path><path d="M3.88004 7.34668H8.33337" stroke-width="1.5" stroke-miterlimit="10"></path></g><defs><clipPath id="clip0_2319_1117"><rect width="16" height="16" fill="white" transform="translate(0.333374)"></rect></clipPath></defs></svg><a href="https://learn.snowflake.com" class="mx-1 hover:underline hover:text-primary" target="_blank" rel="noreferrer">Get your own certification</a></div></div><div class="pt-8 md:flex justify-between"><div class="flex space-x-4 text-xs mb-4 md:mb-0 text-secondary"><a href="https://www.snowflake.com/privacy-policy/" class="hover:text-primary hover:underline">Privacy Notice</a><a href="https://www.snowflake.com/legal/snowflake-site-terms/" class="hover:text-primary hover:underline">Site Terms</a><span>© <!-- -->2024<!-- --> Snowflake, Inc. <!-- -->All Rights Reserved<!-- -->.<!-- --></span></div></div></footer></div><aside class="w-full xl:w-64 text-sm xl:sticky xl:top-8 xl:pb-16 block xl:pl-8 max-h-[calc(100vh-107px)] overflow-y-auto mb-4 md:mb-0 print:hidden"><div class="mb-4 md:mb-8 onthispage border md:border-0 rounded-md px-3 py-2 md:p-0" role="complementary"><label for="on-this-page-checkbox"><div class="flex items-center"><div class="block md:hidden mr-2"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="caret-right" class="svg-inline--fa fa-caret-right " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 512"><path fill="currentColor" d="M118.6 105.4l128 127.1C252.9 239.6 256 247.8 256 255.1s-3.125 16.38-9.375 22.63l-128 127.1c-9.156 9.156-22.91 11.9-34.88 6.943S64 396.9 64 383.1V128c0-12.94 7.781-24.62 19.75-29.58S109.5 96.23 118.6 105.4z"></path></svg></div><p class="font-semibold text-header">On this page</p></div></label><input type="checkbox" id="on-this-page-checkbox" class="peer hidden"/><ol class="hidden peer-checked:block md:block"><li class="my-3 break-words hover:underline "><a href="#what-is-column-level-security">What is Column-level Security?</a></li><li class="my-3 break-words hover:underline "><a href="#choosing-dynamic-data-masking-or-external-tokenization">Choosing Dynamic Data Masking or External Tokenization</a></li><li class="my-3 break-words hover:underline "><a href="#using-column-level-security-on-tables-and-views">Using Column-level Security on tables and views</a></li><li class="my-3 break-words hover:underline "><a href="#managing-column-level-security">Managing Column-level Security</a></li><li class="my-3 break-words hover:underline "><a href="#monitor-masking-policies-with-sql">Monitor masking policies with SQL</a></li><li class="my-3 break-words hover:underline "><a href="#monitor-masking-policies-with-sf-web-interface">Monitor masking policies with Snowsight</a></li></ol></div><div class="mb-8 border md:border-0 rounded-md px-3 py-2 md:p-0"><label for="related-topics-checkbox"><div class="flex items-center"><div class="block md:hidden mr-2"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="caret-right" class="svg-inline--fa fa-caret-right " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 512"><path fill="currentColor" d="M118.6 105.4l128 127.1C252.9 239.6 256 247.8 256 255.1s-3.125 16.38-9.375 22.63l-128 127.1c-9.156 9.156-22.91 11.9-34.88 6.943S64 396.9 64 383.1V128c0-12.94 7.781-24.62 19.75-29.58S109.5 96.23 118.6 105.4z"></path></svg></div><p class="font-semibold text-header">Related content</p></div></label><input type="checkbox" id="related-topics-checkbox" class="peer hidden"/><ol class="hidden peer-checked:block md:block"><li class="my-2 hover:underline"><a href="https://quickstarts.snowflake.com/guide/getting_started_with_pii/" target="_blank" rel="noreferrer"><span>Process PII data using Snowflake RBAC, DAC, Row Access Policies, and Column Level Security (Snowflake Quickstart)</span><span class="opacity-60 ml-2"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="arrow-up-right-from-square" class="svg-inline--fa fa-arrow-up-right-from-square " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M256 64C256 46.33 270.3 32 288 32H415.1C415.1 32 415.1 32 415.1 32C420.3 32 424.5 32.86 428.2 34.43C431.1 35.98 435.5 38.27 438.6 41.3C438.6 41.35 438.6 41.4 438.7 41.44C444.9 47.66 447.1 55.78 448 63.9C448 63.94 448 63.97 448 64V192C448 209.7 433.7 224 416 224C398.3 224 384 209.7 384 192V141.3L214.6 310.6C202.1 323.1 181.9 323.1 169.4 310.6C156.9 298.1 156.9 277.9 169.4 265.4L338.7 96H288C270.3 96 256 81.67 256 64V64zM0 128C0 92.65 28.65 64 64 64H160C177.7 64 192 78.33 192 96C192 113.7 177.7 128 160 128H64V416H352V320C352 302.3 366.3 288 384 288C401.7 288 416 302.3 416 320V416C416 451.3 387.3 480 352 480H64C28.65 480 0 451.3 0 416V128z"></path></svg></span></a></li><li class="my-2 hover:underline"><a href="/user-guide/security-column-ddm-intro">Understanding Dynamic Data Masking</a></li><li class="my-2 hover:underline"><a href="/user-guide/security-column-ext-token-intro">Understanding External Tokenization</a></li><li class="my-2 hover:underline"><a href="/user-guide/tag-based-masking-policies">Tag-based masking policies</a></li><li class="my-2 hover:underline"><a href="/user-guide/tag-based-masking-policies#label-tag-based-masking-replace-masking-policy">Replace a masking policy on a tag</a></li></ol></div></aside></div></div></main><div id="overlay-root" class="lg:hidden"></div></div><div id="popup-root"></div></div><div class="bottom-10 right-10 z-90 fixed print:hidden" id="language-picker"><div class="text-xs relative group"><div class="cursor-pointer bg-level-3 px-4 py-3 rounded-md">Language<!-- -->: <!-- --><strong>English</strong></div><ul class="list-group"><div class="z-50 px-4 py-1 w-28 rounded-lg bg-level-2 drop-shadow-xl group-hover:flex hidden flex flex-wrap-reverse absolute right-0 bottom-10 animate-fade-in-up"><li class="my-2 w-full text-right text-link"><a href="/en/user-guide/security-column-intro" class="hover:text-link">English</a></li><li class="my-2 w-full text-right "><a href="/fr/user-guide/security-column-intro" class="hover:text-link">Français</a></li><li class="my-2 w-full text-right "><a href="/de/user-guide/security-column-intro" class="hover:text-link">Deutsch</a></li><li class="my-2 w-full text-right "><a href="/ja/user-guide/security-column-intro" class="hover:text-link">日本語</a></li><li class="my-2 w-full text-right "><a href="/ko/user-guide/security-column-intro" class="hover:text-link">한국어</a></li><li class="my-2 w-full text-right "><a href="/pt/user-guide/security-column-intro" class="hover:text-link">Português</a></li></div></ul></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"content":"\n\n\n  \n  \u003csection id=\"understanding-column-level-security\"\u003e\n\u003ch1\u003eUnderstanding Column-level Security\u003ca class=\"headerlink\" href=\"#understanding-column-level-security\" title=\"Link to this heading\"\u003e¶\u003c/a\u003e\u003c/h1\u003e\n\u003caside class=\"sfedition sidebar\"\u003e\n\u003cp class=\"sidebar-title\"\u003e\u003ca class=\"image-small reference internal\" href=\"../_images/logo-snowflake-black.png\"\u003e\u003cimg alt=\"Snowflake logo in black (no text)\" class=\"image-small\" src=\"../_images/logo-snowflake-black.png\" style=\"width: 15px; height: 15px;\"\u003e\u003c/a\u003e \u003ca class=\"reference internal\" href=\"intro-editions\"\u003e\u003cspan class=\"doc\"\u003eEnterprise Edition Feature\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eThis feature requires Enterprise Edition (or higher). To inquire about upgrading, please contact \u003ca class=\"reference external\" href=\"https://community.snowflake.com/s/article/How-To-Submit-a-Support-Case-in-Snowflake-Lodge\"\u003eSnowflake Support\u003c/a\u003e.\u003c/p\u003e\n\u003c/aside\u003e\n\n\u003cp\u003eThis topic provides a general overview of Column-level Security and describes the features and support that are common to both Dynamic Data\nMasking and External Tokenization.\u003c/p\u003e\n\u003cp\u003eTo learn more about using a masking policy with a tag, see \u003ca class=\"reference internal\" href=\"tag-based-masking-policies\"\u003e\u003cspan class=\"doc\"\u003eTag-based masking policies\u003c/span\u003e\u003c/a\u003e.\u003c/p\u003e\n\n\u003csection id=\"what-is-column-level-security\"\u003e\n\u003ch2\u003eWhat is Column-level Security?\u003ca class=\"headerlink\" href=\"#what-is-column-level-security\" title=\"Link to this heading\"\u003e¶\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eColumn-level Security in Snowflake allows the application of a masking policy to a column within a table or view. Currently, Column-level Security includes two features:\u003c/p\u003e\n\u003col class=\"arabic simple\"\u003e\n\u003cli\u003e\u003cp\u003e\u003ca class=\"reference internal\" href=\"security-column-ddm-intro\"\u003e\u003cspan class=\"doc\"\u003eDynamic Data Masking\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e\u003ca class=\"reference internal\" href=\"security-column-ext-token-intro\"\u003e\u003cspan class=\"doc\"\u003eExternal Tokenization\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eDynamic Data Masking is a Column-level Security feature that uses masking policies to selectively mask plain-text data in table and view columns at query time.\u003c/p\u003e\n\u003cp\u003eExternal Tokenization enables accounts to tokenize data before loading it into Snowflake and detokenize the data at query runtime. Tokenization is the process of removing sensitive data by replacing it with an undecipherable token. External Tokenization makes use of masking policies with \u003ca class=\"reference internal\" href=\"../sql-reference/external-functions\"\u003e\u003cspan class=\"doc\"\u003eexternal functions\u003c/span\u003e\u003c/a\u003e.\u003c/p\u003e\n\u003csection id=\"what-are-masking-policies\"\u003e\n\u003ch3\u003eWhat are masking policies?\u003ca class=\"headerlink\" href=\"#what-are-masking-policies\" title=\"Link to this heading\"\u003e¶\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eSnowflake supports masking policies as a schema-level object to protect sensitive data from unauthorized access while allowing authorized users to access sensitive data at query runtime. This means that sensitive data in Snowflake is not modified in an existing table (i.e. no static masking). Rather, when users execute a query in which a masking policy applies, the masking policy conditions determine whether unauthorized users see masked, partially masked, obfuscated, or tokenized data. Masking policies as a schema-level object also provide flexibility in choosing a centralized, decentralized, or hybrid management approach. For more information, see \u003ca class=\"reference internal\" href=\"#managing-column-level-security\"\u003eManaging Column-level Security\u003c/a\u003e (in this topic).\u003c/p\u003e\n\u003cp\u003eMasking policies can include conditions and functions to transform the data at query runtime when those conditions are met. The policy-driven approach supports segregation of duties to allow security teams to define policies that can limit sensitive data exposure, even to the owner of an object (i.e. the role with the OWNERSHIP privilege on the object, such as a table or view) who normally have full access to the underlying data.\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cdiv\u003e\u003cfigure class=\"align-default\"\u003e\n\u003ca class=\"reference internal image-reference\" href=\"../_images/security-column-intro-admin-apply-policies.png\"\u003e\u003cimg alt=\"The masking policy admin can apply masking policies to tables and views.\" src=\"../_images/security-column-intro-admin-apply-policies.png\" style=\"width: 656.0px; height: 441.6px;\"\u003e\u003c/a\u003e\n\u003c/figure\u003e\n\u003c/div\u003e\u003c/blockquote\u003e\n\u003cp\u003eFor example, masking policy administrators can implement a masking policy such that analysts (i.e. users with the custom ANALYST role) can only view the last four digits of a phone number and none of the social security number, while customer support representatives (i.e. users with the custom SUPPORT role) can view the entire phone number and social security number for customer verification use cases.\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cdiv\u003e\u003cfigure class=\"align-default\"\u003e\n\u003ca class=\"reference internal image-reference\" href=\"../_images/security-column-intro-authz-phone-ssn.png\"\u003e\u003cimg alt=\"Masking policy results for authorized and unauthorized roles.\" src=\"../_images/security-column-intro-authz-phone-ssn.png\" style=\"width: 1090.0px; height: 320.0px;\"\u003e\u003c/a\u003e\n\u003c/figure\u003e\n\u003c/div\u003e\u003c/blockquote\u003e\n\u003cp\u003eA masking policy consists of a single \u003ca class=\"reference internal\" href=\"../sql-reference-data-types\"\u003e\u003cspan class=\"doc\"\u003edata type\u003c/span\u003e\u003c/a\u003e, one or more conditions, and one or more masking\nfunctions.\u003c/p\u003e\n\u003cul class=\"simple\"\u003e\n\u003cli\u003e\u003cp\u003eYou can apply the masking policy to one or more table/view columns with the matching data type. For example, you can define a policy for an email address once and apply it to 1000s of email columns across databases and schemas.\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eMasking policy conditions can be expressed using \u003ca class=\"reference internal\" href=\"../sql-reference/expressions-conditional\"\u003e\u003cspan class=\"doc\"\u003eConditional Expression Functions\u003c/span\u003e\u003c/a\u003e and \u003ca class=\"reference internal\" href=\"../sql-reference/functions-context\"\u003e\u003cspan class=\"doc\"\u003eContext Functions\u003c/span\u003e\u003c/a\u003e or by querying a custom entitlement table. You can use the context functions \u003ca class=\"reference internal\" href=\"../sql-reference/functions/invoker_role\"\u003e\u003cspan class=\"doc\"\u003eINVOKER_ROLE\u003c/span\u003e\u003c/a\u003e and \u003ca class=\"reference internal\" href=\"../sql-reference/functions/invoker_share\"\u003e\u003cspan class=\"doc\"\u003eINVOKER_SHARE\u003c/span\u003e\u003c/a\u003e for use with views and shares, respectively.\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eMasking functions can be any of the built-in functions (e.g. \u003ca class=\"reference internal\" href=\"../sql-reference/functions/regexp_replace\"\u003e\u003cspan class=\"doc\"\u003eREGEXP_REPLACE\u003c/span\u003e\u003c/a\u003e, \u003ca class=\"reference internal\" href=\"../sql-reference/functions/sha2\"\u003e\u003cspan class=\"doc\"\u003eSHA2 , SHA2_HEX\u003c/span\u003e\u003c/a\u003e), \u003ca class=\"reference internal\" href=\"../developer-guide/udf/udf-overview\"\u003e\u003cspan class=\"doc\"\u003eUser-Defined Functions Overview\u003c/span\u003e\u003c/a\u003e, or \u003ca class=\"reference internal\" href=\"../sql-reference/external-functions\"\u003e\u003cspan class=\"doc\"\u003eWriting External Functions\u003c/span\u003e\u003c/a\u003e (for de-tokenization using an external tokenization provider).\u003c/p\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eWhile Snowflake offers \u003ca class=\"reference internal\" href=\"views-secure\"\u003e\u003cspan class=\"doc\"\u003esecure views\u003c/span\u003e\u003c/a\u003e to restrict access to sensitive data, secure views present management challenges due to large numbers of views and derived business intelligence (BI) dashboards from each view. Masking policies solve this management challenge by avoiding an explosion of views and dashboards to manage.\u003c/p\u003e\n\u003cp\u003eMasking policies support segregation of duties (SoD) through the role separation of policy administrators from object owners. Secure views do not have SoD, which is a profound limitation to their utility. This role separation leads to the following default settings:\u003c/p\u003e\n\u003cul class=\"simple\"\u003e\n\u003cli\u003e\u003cp\u003eObject owners (i.e. the role that has the OWNERSHIP privilege on the object) do not have the privilege to unset masking policies.\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eObject owners cannot view column data in which a masking policy applies.\u003c/p\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eFor more information on managing roles and privileges, see \u003ca class=\"reference internal\" href=\"#managing-column-level-security\"\u003eManaging Column-level Security\u003c/a\u003e (in this topic) and \u003ca class=\"reference internal\" href=\"security-access-control-privileges\"\u003e\u003cspan class=\"doc\"\u003eAccess control privileges\u003c/span\u003e\u003c/a\u003e.\u003c/p\u003e\n\u003csection id=\"how-does-a-masking-policy-work\"\u003e\n\u003ch4\u003eHow does a masking policy work?\u003ca class=\"headerlink\" href=\"#how-does-a-masking-policy-work\" title=\"Link to this heading\"\u003e¶\u003c/a\u003e\u003c/h4\u003e\n\u003cp\u003eMasking policies for Dynamic Data Masking and External Tokenization adopt the same structure and format with one notable exception: masking policies for External Tokenization require using \u003ca class=\"reference internal\" href=\"../sql-reference/external-functions\"\u003e\u003cspan class=\"doc\"\u003eWriting External Functions\u003c/span\u003e\u003c/a\u003e in the masking policy body.\u003c/p\u003e\n\u003cp\u003eThe reason for this exception is that External Tokenization requires a third-party tokenization provider to tokenize data before loading data into Snowflake. At query runtime, Snowflake uses the external function to make a REST API call to the tokenization provider, which then evaluates a tokenization policy (that is created outside of Snowflake) to return either tokenized or detokenized data based on the masking policy conditions. Note that role mapping must exist in Snowflake and the tokenization provider to ensure that the correct data can be returned from a given query.\u003c/p\u003e\n\u003cp\u003eSnowflake supports creating masking policies using \u003ca class=\"reference internal\" href=\"../sql-reference/sql/create-masking-policy\"\u003e\u003cspan class=\"doc\"\u003eCREATE MASKING POLICY\u003c/span\u003e\u003c/a\u003e. For example:\u003c/p\u003e\n\u003cdiv class=\"relative group text-sm\"\u003e\u003cdiv class=\"highlight-sqlexample notranslate\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan class=\"py\"\u003e-- Dynamic Data Masking\u003c/span\u003e\n\n\u003cspan class=\"ni\"\u003eCREATE\u003c/span\u003e \u003cspan class=\"ni\"\u003eMASKING POLICY\u003c/span\u003e \u003cspan class=\"gi\"\u003eemployee_ssn_mask\u003c/span\u003e \u003cspan class=\"ni\"\u003eAS\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"gi\"\u003eval\u003c/span\u003e \u003cspan class=\"ni\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"ni\"\u003eRETURNS\u003c/span\u003e \u003cspan class=\"ni\"\u003estring\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"ni\"\u003eCASE\u003c/span\u003e\n    \u003cspan class=\"ni\"\u003eWHEN\u003c/span\u003e \u003cspan class=\"nd\"\u003eCURRENT_ROLE\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"ni\"\u003eIN\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nc\"\u003e'PAYROLL'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"ni\"\u003eTHEN\u003c/span\u003e \u003cspan class=\"gi\"\u003eval\u003c/span\u003e\n    \u003cspan class=\"ni\"\u003eELSE\u003c/span\u003e \u003cspan class=\"nc\"\u003e'******'\u003c/span\u003e\n  \u003cspan class=\"ni\"\u003eEND\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"py\"\u003e-- External Tokenization\u003c/span\u003e\n\n  \u003cspan class=\"ni\"\u003eCREATE\u003c/span\u003e \u003cspan class=\"ni\"\u003eMASKING POLICY\u003c/span\u003e \u003cspan class=\"gi\"\u003eemployee_ssn_detokenize\u003c/span\u003e \u003cspan class=\"ni\"\u003eAS\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"gi\"\u003eval\u003c/span\u003e \u003cspan class=\"ni\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"ni\"\u003eRETURNS\u003c/span\u003e \u003cspan class=\"ni\"\u003estring\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"ni\"\u003eCASE\u003c/span\u003e\n    \u003cspan class=\"ni\"\u003eWHEN\u003c/span\u003e \u003cspan class=\"nd\"\u003eCURRENT_ROLE\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"ni\"\u003eIN\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nc\"\u003e'PAYROLL'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"ni\"\u003eTHEN\u003c/span\u003e \u003cspan class=\"gi\"\u003essn_unprotect\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"gi\"\u003eVAL\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"ni\"\u003eELSE\u003c/span\u003e \u003cspan class=\"gi\"\u003eval\u003c/span\u003e \u003cspan class=\"py\"\u003e-- sees tokenized data\u003c/span\u003e\n  \u003cspan class=\"ni\"\u003eEND\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\u003cdiv data-codeblock-index=\"0\" class=\"copybutton\"\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 384 512\" class=\"copybutton-icon icon-copy\"\u003e\u003cpath d=\"M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 512 512\" class=\"copybutton-icon icon-copied hidden\"\u003e\u003cpath d=\"M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003cspan\u003eCopy\u003c/span\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp\u003eWhere:\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cdiv\u003e\u003cdl\u003e\n\u003cdt\u003e\u003ccode class=\"code docutils literal notranslate\"\u003e\u003cspan class=\"pre\"\u003eemployee_ssn_mask\u003c/span\u003e\u003c/code\u003e\u003c/dt\u003e\u003cdd\u003e\u003cp\u003eThe name of the Dynamic Data Masking policy.\u003c/p\u003e\n\u003c/dd\u003e\n\u003cdt\u003e\u003ccode class=\"code docutils literal notranslate\"\u003e\u003cspan class=\"pre\"\u003eemployee_ssn_detokenize\u003c/span\u003e\u003c/code\u003e\u003c/dt\u003e\u003cdd\u003e\u003cp\u003eThe name of the External Tokenization policy.\u003c/p\u003e\n\u003c/dd\u003e\n\u003cdt\u003e\u003ccode class=\"code docutils literal notranslate\"\u003e\u003cspan class=\"pre\"\u003eAS\u003c/span\u003e \u003cspan class=\"pre\"\u003e(val\u003c/span\u003e \u003cspan class=\"pre\"\u003estring)\u003c/span\u003e \u003cspan class=\"pre\"\u003eRETURNS\u003c/span\u003e \u003cspan class=\"pre\"\u003estring\u003c/span\u003e\u003c/code\u003e\u003c/dt\u003e\u003cdd\u003e\u003cp\u003eSpecifies the input and output data types. The data types must match.\u003c/p\u003e\n\u003c/dd\u003e\n\u003cdt\u003e\u003ccode class=\"code docutils literal notranslate\"\u003e\u003cspan class=\"pre\"\u003e-\u0026gt;\u003c/span\u003e\u003c/code\u003e\u003c/dt\u003e\u003cdd\u003e\u003cp\u003eSeparates the policy signature from its body.\u003c/p\u003e\n\u003c/dd\u003e\n\u003cdt\u003e\u003ccode class=\"code docutils literal notranslate\"\u003e\u003cspan class=\"pre\"\u003ecase\u003c/span\u003e \u003cspan class=\"pre\"\u003e...\u003c/span\u003e \u003cspan class=\"pre\"\u003eend;\u003c/span\u003e\u003c/code\u003e\u003c/dt\u003e\u003cdd\u003e\u003cp\u003eSpecifies the masking policy body (i.e. SQL expression) conditions.\u003c/p\u003e\n\u003cp\u003eIn these two examples, if the query operator is using the PAYROLL custom role in the current session, the operator sees the unmasked/detokenized value. Otherwise, a fixed masked/tokenized value is seen.\u003c/p\u003e\n\u003c/dd\u003e\n\u003cdt\u003e\u003ccode class=\"code docutils literal notranslate\"\u003e\u003cspan class=\"pre\"\u003essn_unprotect\u003c/span\u003e\u003c/code\u003e\u003c/dt\u003e\u003cdd\u003e\u003cp\u003eThe external function to operate on the tokenized data.\u003c/p\u003e\n\u003c/dd\u003e\n\u003c/dl\u003e\n\u003c/div\u003e\u003c/blockquote\u003e\n\u003cdiv class=\"admonition tip\"\u003e\n\u003cp class=\"admonition-title\"\u003eTip\u003c/p\u003e\n\u003cp\u003eIf you want to update an existing masking policy and need to see the current definition of the policy, call the \u003ca class=\"reference internal\" href=\"../sql-reference/functions/get_ddl\"\u003e\u003cspan class=\"doc\"\u003eGET_DDL\u003c/span\u003e\u003c/a\u003e function or run the \u003ca class=\"reference internal\" href=\"../sql-reference/sql/desc-masking-policy\"\u003e\u003cspan class=\"doc\"\u003eDESCRIBE MASKING POLICY\u003c/span\u003e\u003c/a\u003e command.\u003c/p\u003e\n\u003cp\u003eThe masking policy definition can then be updated with the \u003ca class=\"reference internal\" href=\"../sql-reference/sql/alter-masking-policy\"\u003e\u003cspan class=\"doc\"\u003eALTER MASKING POLICY\u003c/span\u003e\u003c/a\u003e command. This command does not\nrequire unsetting a masking policy from a column, if the masking policy is set on a column. So, a column that is protected by a policy\nremains protected while the policy definition is being updated.\u003c/p\u003e\n\u003c/div\u003e\n\u003cp\u003eFor more details on using masking policies, see:\u003c/p\u003e\n\u003cul class=\"simple\"\u003e\n\u003cli\u003e\u003cp\u003e\u003ca class=\"reference internal\" href=\"#using-column-level-security-on-tables-and-views\"\u003eUsing Column-level Security on Tables and Views\u003c/a\u003e (in this topic)\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e\u003ca class=\"reference internal\" href=\"security-column-ddm-intro\"\u003e\u003cspan class=\"doc\"\u003eDynamic Data Masking\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e\u003ca class=\"reference internal\" href=\"security-column-ext-token-intro\"\u003e\u003cspan class=\"doc\"\u003eExternal Tokenization\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e\u003ca class=\"reference internal\" href=\"security-column-advanced\"\u003e\u003cspan class=\"doc\"\u003eAdvanced Column-level Security topics\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e\u003ca class=\"reference internal\" href=\"../sql-reference/functions/is_role_in_session\"\u003e\u003cspan class=\"doc\"\u003eIS_ROLE_IN_SESSION\u003c/span\u003e\u003c/a\u003e (for policy examples when role hierarchy and role activation is important)\u003c/p\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/section\u003e\n\u003csection id=\"use-conditional-columns\"\u003e\n\u003cspan id=\"label-security-column-intro-cond-cols\"\u003e\u003c/span\u003e\u003ch4\u003eUse conditional columns\u003ca class=\"headerlink\" href=\"#use-conditional-columns\" title=\"Link to this heading\"\u003e¶\u003c/a\u003e\u003c/h4\u003e\n\u003cp\u003eConditional masking uses a masking policy to selectively protect the column data in a table or view based on the values in one or more\ndifferent columns.\u003c/p\u003e\n\u003cp\u003eUsing a different column to determine whether data in a given column should be protected offers policy administrators\n(i.e. users with the \u003ccode class=\"docutils literal notranslate\"\u003e\u003cspan class=\"pre\"\u003ePOLICY_ADMIN\u003c/span\u003e\u003c/code\u003e custom role) more freedom to create policy conditions.\u003c/p\u003e\n\u003cp\u003eNote the difference between the two representative policy examples:\u003c/p\u003e\n\u003cdl class=\"field-list\"\u003e\n\u003cdt class=\"field-odd\"\u003eMasking policy\u003cspan class=\"colon\"\u003e:\u003c/span\u003e\u003c/dt\u003e\n\u003cdd class=\"field-odd\"\u003e\u003cp\u003eThis policy can be used for dynamic data masking.\u003c/p\u003e\n\u003cdiv class=\"relative group text-sm\"\u003e\u003cdiv class=\"highlight-sqlexample notranslate\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan class=\"ni\"\u003eCREATE\u003c/span\u003e \u003cspan class=\"ni\"\u003eMASKING POLICY\u003c/span\u003e \u003cspan class=\"gi\"\u003eemail_mask\u003c/span\u003e \u003cspan class=\"ni\"\u003eAS\u003c/span\u003e\n\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"gi\"\u003eval\u003c/span\u003e \u003cspan class=\"ni\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"ni\"\u003eRETURNS\u003c/span\u003e \u003cspan class=\"ni\"\u003estring\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"ni\"\u003eCASE\u003c/span\u003e\n    \u003cspan class=\"ni\"\u003eWHEN\u003c/span\u003e \u003cspan class=\"nd\"\u003eCURRENT_ROLE\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"ni\"\u003eIN\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nc\"\u003e'PAYROLL'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"ni\"\u003eTHEN\u003c/span\u003e \u003cspan class=\"gi\"\u003eval\u003c/span\u003e\n    \u003cspan class=\"ni\"\u003eELSE\u003c/span\u003e \u003cspan class=\"nc\"\u003e'******'\u003c/span\u003e\n  \u003cspan class=\"ni\"\u003eEND\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\u003cdiv data-codeblock-index=\"1\" class=\"copybutton\"\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 384 512\" class=\"copybutton-icon icon-copy\"\u003e\u003cpath d=\"M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 512 512\" class=\"copybutton-icon icon-copied hidden\"\u003e\u003cpath d=\"M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003cspan\u003eCopy\u003c/span\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp\u003eThis policy specifies only one argument, \u003ccode class=\"docutils literal notranslate\"\u003e\u003cspan class=\"pre\"\u003eval\u003c/span\u003e\u003c/code\u003e, which represents any column that contains string data. This policy can be created\nonce and applied to any column containing string data. Only users whose \u003ca class=\"reference internal\" href=\"../sql-reference/functions/current_role\"\u003e\u003cspan class=\"doc\"\u003eCURRENT_ROLE\u003c/span\u003e\u003c/a\u003e is the \u003ccode class=\"docutils literal notranslate\"\u003e\u003cspan class=\"pre\"\u003ePAYROLL\u003c/span\u003e\u003c/code\u003e\ncustom role can see the column data. Otherwise, Snowflake returns a fixed masked value in the query result.\u003c/p\u003e\n\u003cp\u003eFor more information, see \u003ca class=\"reference internal\" href=\"../sql-reference/sql/create-masking-policy\"\u003e\u003cspan class=\"doc\"\u003eCREATE MASKING POLICY\u003c/span\u003e\u003c/a\u003e.\u003c/p\u003e\n\u003c/dd\u003e\n\u003cdt class=\"field-even\"\u003eConditional masking policy\u003cspan class=\"colon\"\u003e:\u003c/span\u003e\u003c/dt\u003e\n\u003cdd class=\"field-even\"\u003e\u003cp\u003eNote the arguments, \u003ccode class=\"docutils literal notranslate\"\u003e\u003cspan class=\"pre\"\u003e(email\u003c/span\u003e \u003cspan class=\"pre\"\u003evarchar,\u003c/span\u003e \u003cspan class=\"pre\"\u003evisibility\u003c/span\u003e \u003cspan class=\"pre\"\u003estring)\u003c/span\u003e\u003c/code\u003e, in this example.\u003c/p\u003e\n\u003cdiv class=\"relative group text-sm\"\u003e\u003cdiv class=\"highlight-sqlexample notranslate\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan class=\"ni\"\u003eCREATE\u003c/span\u003e \u003cspan class=\"ni\"\u003eMASKING POLICY\u003c/span\u003e \u003cspan class=\"gi\"\u003eemail_visibility\u003c/span\u003e \u003cspan class=\"ni\"\u003eAS\u003c/span\u003e\n\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"ni\"\u003eemail\u003c/span\u003e \u003cspan class=\"ni\"\u003evarchar\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"gi\"\u003evisibility\u003c/span\u003e \u003cspan class=\"ni\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"ni\"\u003eRETURNS\u003c/span\u003e \u003cspan class=\"ni\"\u003evarchar\u003c/span\u003e \u003cspan class=\"p\"\u003e-\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"ni\"\u003eCASE\u003c/span\u003e\n    \u003cspan class=\"ni\"\u003eWHEN\u003c/span\u003e \u003cspan class=\"nd\"\u003eCURRENT_ROLE\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"nc\"\u003e'ADMIN'\u003c/span\u003e \u003cspan class=\"ni\"\u003eTHEN\u003c/span\u003e \u003cspan class=\"ni\"\u003eemail\u003c/span\u003e\n    \u003cspan class=\"ni\"\u003eWHEN\u003c/span\u003e \u003cspan class=\"gi\"\u003eVISIBILITY\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"nc\"\u003e'PUBLIC'\u003c/span\u003e \u003cspan class=\"ni\"\u003eTHEN\u003c/span\u003e \u003cspan class=\"ni\"\u003eemail\u003c/span\u003e\n    \u003cspan class=\"ni\"\u003eELSE\u003c/span\u003e \u003cspan class=\"nc\"\u003e'***MASKED***'\u003c/span\u003e\n  \u003cspan class=\"ni\"\u003eEND\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\u003cdiv data-codeblock-index=\"2\" class=\"copybutton\"\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 384 512\" class=\"copybutton-icon icon-copy\"\u003e\u003cpath d=\"M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 512 512\" class=\"copybutton-icon icon-copied hidden\"\u003e\u003cpath d=\"M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003cspan\u003eCopy\u003c/span\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp\u003eThis policy specifies two arguments, \u003ccode class=\"docutils literal notranslate\"\u003e\u003cspan class=\"pre\"\u003eemail\u003c/span\u003e\u003c/code\u003e and \u003ccode class=\"docutils literal notranslate\"\u003e\u003cspan class=\"pre\"\u003evisibility\u003c/span\u003e\u003c/code\u003e, and these arguments are column names. The first column \u003cspan class=\"emph\"\u003ealways\u003c/span\u003e\nspecifies the column to mask. The second column is a conditional column to evaluate whether the first column should be masked. Multiple\nconditional columns can be specified. In this policy, users whose CURRENT_ROLE is the \u003ccode class=\"docutils literal notranslate\"\u003e\u003cspan class=\"pre\"\u003eADMIN\u003c/span\u003e\u003c/code\u003e custom role can view the email address.\nIf the email address also has a visibility column value of \u003ccode class=\"docutils literal notranslate\"\u003e\u003cspan class=\"pre\"\u003ePublic\u003c/span\u003e\u003c/code\u003e, then the email address is visible in the query result.\nOtherwise, Snowflake returns a query result with a fixed masked value for the email column.\u003c/p\u003e\n\u003cp\u003eThis policy can be used on multiple tables and views provided that column structure in the table or view matches the columns specified in\nthe policy. For more information, see \u003ca class=\"reference internal\" href=\"../sql-reference/sql/create-masking-policy\"\u003e\u003cspan class=\"doc\"\u003eCREATE MASKING POLICY\u003c/span\u003e\u003c/a\u003e.\u003c/p\u003e\n\u003c/dd\u003e\n\u003c/dl\u003e\n\u003cp\u003eSince the same object type is used for each representative example, the overall behavior of the policies should be similar, including, but not limited to:\u003c/p\u003e\n\u003cul class=\"simple\"\u003e\n\u003cli\u003e\u003cp\u003eQuery runtime evaluation.\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eUtility (e.g. protecting sensitive data, using \u003ca class=\"reference internal\" href=\"../sql-reference/functions-context\"\u003e\u003cspan class=\"doc\"\u003eContext Functions\u003c/span\u003e\u003c/a\u003e).\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003ePrivilege structure.\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eUsage with different management approaches to support segregation of duties (SoD).\u003c/p\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdl class=\"field-list simple\"\u003e\n\u003cdt class=\"field-odd\"\u003eLimitations\u003cspan class=\"colon\"\u003e:\u003c/span\u003e\u003c/dt\u003e\n\u003cdd class=\"field-odd\"\u003e\u003cp\u003eIn addition to the existing \u003ca class=\"reference internal\" href=\"#label-security-column-limitations\"\u003e\u003cspan class=\"std std-ref\"\u003emasking policy limitations\u003c/span\u003e\u003c/a\u003e, conditional masking policies have\nthe following limitations:\u003c/p\u003e\n\u003cul class=\"simple\"\u003e\n\u003cli\u003e\u003cp\u003eRow access policies. For details, see \u003ca class=\"reference internal\" href=\"#row-access-policies\"\u003eRow Access Policies\u003c/a\u003e (in this topic).\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eExternal tables. For details, see: \u003ca class=\"reference internal\" href=\"#label-security-column-intro-ext-table\"\u003e\u003cspan class=\"std std-ref\"\u003eExternal tables\u003c/span\u003e\u003c/a\u003e (in this topic).\u003c/p\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/dd\u003e\n\u003cdt class=\"field-even\"\u003eConsiderations\u003cspan class=\"colon\"\u003e:\u003c/span\u003e\u003c/dt\u003e\n\u003cdd class=\"field-even\"\u003e\u003cp\u003eIn addition to the existing normal \u003ca class=\"reference internal\" href=\"#label-security-column-considerations\"\u003e\u003cspan class=\"std std-ref\"\u003emasking policy considerations\u003c/span\u003e\u003c/a\u003e, evaluate the following\npoints prior to using conditional masking policies:\u003c/p\u003e\n\u003cul class=\"simple\"\u003e\n\u003cli\u003e\u003cp\u003eEnsure all columns specified in the CREATE MASKING POLICY statement reside in the same table or view.\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eMinimize the number of column arguments in the policy definition. Snowflake must evaluate each column at query runtime. Specifying\nfewer columns leads to faster performance overall.\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eTrack conditional column usage in a masking policy by calling the Information Schema table function\n\u003ca class=\"reference internal\" href=\"../sql-reference/functions/policy_references\"\u003e\u003cspan class=\"doc\"\u003ePOLICY_REFERENCES\u003c/span\u003e\u003c/a\u003e.\u003c/p\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/dd\u003e\n\u003c/dl\u003e\n\u003cp\u003eFor more details on setting masking policies with conditional columns, see\n\u003ca class=\"reference internal\" href=\"#label-security-column-intro-apply-cond-cols\"\u003e\u003cspan class=\"std std-ref\"\u003eApply a conditional masking policy on a column\u003c/span\u003e\u003c/a\u003e (in this topic).\u003c/p\u003e\n\u003c/section\u003e\n\u003csection id=\"masking-policies-at-query-runtime\"\u003e\n\u003cspan id=\"label-security-column-query-runtime\"\u003e\u003c/span\u003e\u003ch4\u003eMasking policies at query runtime\u003ca class=\"headerlink\" href=\"#masking-policies-at-query-runtime\" title=\"Link to this heading\"\u003e¶\u003c/a\u003e\u003c/h4\u003e\n\u003cp\u003eAt runtime, Snowflake rewrites the query to apply the masking policy expression to the columns specified in the masking policy. The masking\npolicy is applied to the column regardless of where in a SQL expression the column is referenced, including:\u003c/p\u003e\n\u003cul class=\"simple\"\u003e\n\u003cli\u003e\u003cp\u003eProjections.\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eJOIN predicates.\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eWHERE clause predicates.\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eORDER BY and GROUP BY clauses.\u003c/p\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"admonition important\"\u003e\n\u003cp class=\"admonition-title\"\u003eImportant\u003c/p\u003e\n\u003cp\u003eA masking policy is deliberately applied wherever the relevant column is referenced by a SQL construct to prevent the de-anonymization of\ndata through creative queries to include masked column data.\u003c/p\u003e\n\u003cp\u003eTherefore, if executing a query results in masked data in one or more columns, the query output may not provide the anticipated value\nbecause the masked data prevents evaluating all of the query output data in the desired context.\u003c/p\u003e\n\u003c/div\u003e\n\u003cp\u003e\u003cstrong\u003eMasking policies with nested objects:\u003c/strong\u003e\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cdiv\u003e\u003cp\u003eSnowflake supports nested masking policies, such as a masking policy on a table and a masking policy on a view for the same table. At\nquery runtime, Snowflake evaluates all masking policies that are relevant to a given query in the following sequence:\u003c/p\u003e\n\u003col class=\"arabic simple\"\u003e\n\u003cli\u003e\u003cp\u003eThe masking policy that is applicable to the table is always executed first.\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eThe policy for the view is executed after evaluating the policy for the table.\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eIf nested views exist (e.g. \u003ccode class=\"docutils literal notranslate\"\u003e\u003cspan class=\"pre\"\u003etable_1\u003c/span\u003e\u003c/code\u003e » \u003ccode class=\"docutils literal notranslate\"\u003e\u003cspan class=\"pre\"\u003eview_1\u003c/span\u003e\u003c/code\u003e » \u003ccode class=\"docutils literal notranslate\"\u003e\u003cspan class=\"pre\"\u003eview_2\u003c/span\u003e\u003c/code\u003e » … \u003ccode class=\"docutils literal notranslate\"\u003e\u003cspan class=\"pre\"\u003eview_n\u003c/span\u003e\u003c/code\u003e), the policies are applied in sequential\norder from left to right.\u003c/p\u003e\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eThis pattern continues for however many masking policies exist with respect to the data in the query. The following diagram illustrates\nthe relationship between a query performer, tables, views, and policies.\u003c/p\u003e\n\u003cfigure class=\"align-default\"\u003e\n\u003ca class=\"reference internal image-reference\" href=\"../_images/security-column-row-intro-policy-table-view.png\"\u003e\u003cimg alt=\"Masking policies with tables and views.\" src=\"../_images/security-column-row-intro-policy-table-view.png\" style=\"width: 1064.0px; height: 445.2px;\"\u003e\u003c/a\u003e\n\u003c/figure\u003e\n\u003c/div\u003e\u003c/blockquote\u003e\n\u003cp\u003e\u003cstrong\u003eUser queries:\u003c/strong\u003e\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cdiv\u003e\u003cp\u003eThe following example shows a user-submitted query followed by the Snowflake runtime query rewrite in which the masking policy\n(i.e. \u003ccode class=\"docutils literal notranslate\"\u003e\u003cspan class=\"pre\"\u003esql_expression\u003c/span\u003e\u003c/code\u003e) applies to the \u003cspan class=\"ui\"\u003eemail\u003c/span\u003e column only.\u003c/p\u003e\n\u003cdiv class=\"relative group text-sm\"\u003e\u003cdiv class=\"highlight-sqlexample notranslate\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan class=\"ni\"\u003eSELECT\u003c/span\u003e \u003cspan class=\"ni\"\u003eemail\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"gi\"\u003ecity\u003c/span\u003e\n\u003cspan class=\"ni\"\u003eFROM\u003c/span\u003e \u003cspan class=\"gi\"\u003ecustomers\u003c/span\u003e\n\u003cspan class=\"ni\"\u003eWHERE\u003c/span\u003e \u003cspan class=\"gi\"\u003ecity\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"nc\"\u003e'San Mateo'\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"ni\"\u003eSELECT\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"gi\"\u003eSQL_expression\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;(\u003c/span\u003e\u003cspan class=\"ni\"\u003eemail\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e \u003cspan class=\"gi\"\u003ecity\u003c/span\u003e\n\u003cspan class=\"ni\"\u003eFROM\u003c/span\u003e \u003cspan class=\"gi\"\u003ecustomers\u003c/span\u003e\n\u003cspan class=\"ni\"\u003eWHERE\u003c/span\u003e \u003cspan class=\"gi\"\u003ecity\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"nc\"\u003e'San Mateo'\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\u003cdiv data-codeblock-index=\"3\" class=\"copybutton\"\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 384 512\" class=\"copybutton-icon icon-copy\"\u003e\u003cpath d=\"M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 512 512\" class=\"copybutton-icon icon-copied hidden\"\u003e\u003cpath d=\"M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003cspan\u003eCopy\u003c/span\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/div\u003e\u003c/blockquote\u003e\n\u003cp\u003e\u003cstrong\u003eQuery with a protected column in the WHERE clause predicate (anti-pattern):\u003c/strong\u003e\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cdiv\u003e\u003cp\u003eThe following examples show a user-submitted query followed by the Snowflake runtime query rewrite in which the masking policy\n(i.e. \u003ccode class=\"docutils literal notranslate\"\u003e\u003cspan class=\"pre\"\u003esql_expression\u003c/span\u003e\u003c/code\u003e) applies to only one side of a comparison (e.g. the email column but not the string to which the email column\nis compared). The results of the query are \u003cspan class=\"emph\"\u003enot\u003c/span\u003e what the user intended. Masking only one side of a comparison is a common\nanti-pattern.\u003c/p\u003e\n\u003cdiv class=\"relative group text-sm\"\u003e\u003cdiv class=\"highlight-sqlexample-lower notranslate\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan class=\"ni\"\u003eSELECT\u003c/span\u003e \u003cspan class=\"ni\"\u003eemail\u003c/span\u003e\n\u003cspan class=\"ni\"\u003eFROM\u003c/span\u003e \u003cspan class=\"gi\"\u003ecustomers\u003c/span\u003e\n\u003cspan class=\"ni\"\u003eWHERE\u003c/span\u003e \u003cspan class=\"ni\"\u003eemail\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"nc\"\u003e'user@example.com'\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"ni\"\u003eSELECT\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"gi\"\u003eSQL_expression\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;(\u003c/span\u003e\u003cspan class=\"ni\"\u003eemail\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"ni\"\u003eFROM\u003c/span\u003e \u003cspan class=\"gi\"\u003ecustomers\u003c/span\u003e\n\u003cspan class=\"ni\"\u003eWHERE\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"gi\"\u003eSQL_expression\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;(\u003c/span\u003e\u003cspan class=\"ni\"\u003eemail\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"nc\"\u003e'user@example.com'\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\u003cdiv data-codeblock-index=\"4\" class=\"copybutton\"\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 384 512\" class=\"copybutton-icon icon-copy\"\u003e\u003cpath d=\"M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 512 512\" class=\"copybutton-icon icon-copied hidden\"\u003e\u003cpath d=\"M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003cspan\u003eCopy\u003c/span\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/div\u003e\u003c/blockquote\u003e\n\u003cp\u003e\u003cstrong\u003eQuery with a protected column in the JOIN predicate (anti-pattern):\u003c/strong\u003e\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cdiv\u003e\u003cdiv class=\"relative group text-sm\"\u003e\u003cdiv class=\"highlight-sqlexample notranslate\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan class=\"ni\"\u003eSELECT\u003c/span\u003e \u003cspan class=\"nf\"\u003eb\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"ni\"\u003eemail\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"ni\"\u003ed\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"gi\"\u003ecity\u003c/span\u003e\n\u003cspan class=\"ni\"\u003eFROM\u003c/span\u003e\n  \u003cspan class=\"gi\"\u003esf_tuts\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"ni\"\u003epublic\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"gi\"\u003eemp_basic\u003c/span\u003e \u003cspan class=\"ni\"\u003eAS\u003c/span\u003e \u003cspan class=\"nf\"\u003eb\u003c/span\u003e\n  \u003cspan class=\"ni\"\u003eJOIN\u003c/span\u003e \u003cspan class=\"gi\"\u003esf_tuts\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"ni\"\u003epublic\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"gi\"\u003eemp_details\u003c/span\u003e \u003cspan class=\"ni\"\u003eAS\u003c/span\u003e \u003cspan class=\"ni\"\u003ed\u003c/span\u003e \u003cspan class=\"ni\"\u003eON\u003c/span\u003e \u003cspan class=\"nf\"\u003eb\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"ni\"\u003eemail\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"ni\"\u003ed\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"ni\"\u003eemail\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"ni\"\u003eSELECT\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"gi\"\u003eSQL_expression\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;(\u003c/span\u003e\u003cspan class=\"nf\"\u003eb\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"ni\"\u003eemail\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n  \u003cspan class=\"ni\"\u003ed\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"gi\"\u003ecity\u003c/span\u003e\n\u003cspan class=\"ni\"\u003eFROM\u003c/span\u003e\n  \u003cspan class=\"gi\"\u003esf_tuts\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"ni\"\u003epublic\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"gi\"\u003eemp_basic\u003c/span\u003e \u003cspan class=\"ni\"\u003eAS\u003c/span\u003e \u003cspan class=\"nf\"\u003eb\u003c/span\u003e\n  \u003cspan class=\"ni\"\u003eJOIN\u003c/span\u003e \u003cspan class=\"gi\"\u003esf_tuts\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"ni\"\u003epublic\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"gi\"\u003eemp_details\u003c/span\u003e \u003cspan class=\"ni\"\u003eAS\u003c/span\u003e \u003cspan class=\"ni\"\u003ed\u003c/span\u003e \u003cspan class=\"ni\"\u003eON\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"gi\"\u003eSQL_expression\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;(\u003c/span\u003e\u003cspan class=\"nf\"\u003eb\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"ni\"\u003eemail\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"gi\"\u003eSQL_expression\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;(\u003c/span\u003e\u003cspan class=\"ni\"\u003ed\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"ni\"\u003eemail\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\u003cdiv data-codeblock-index=\"5\" class=\"copybutton\"\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 384 512\" class=\"copybutton-icon icon-copy\"\u003e\u003cpath d=\"M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 512 512\" class=\"copybutton-icon icon-copied hidden\"\u003e\u003cpath d=\"M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003cspan\u003eCopy\u003c/span\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/div\u003e\u003c/blockquote\u003e\n\u003c/section\u003e\n\u003csection id=\"query-runtime-considerations\"\u003e\n\u003cspan id=\"label-security-column-query-runtime-considerations\"\u003e\u003c/span\u003e\u003ch4\u003eQuery runtime considerations\u003ca class=\"headerlink\" href=\"#query-runtime-considerations\" title=\"Link to this heading\"\u003e¶\u003c/a\u003e\u003c/h4\u003e\n\u003cp\u003eSnowflake recommends considering the following factors when trying to predict the effect of applying a masking policy to a column and whether the query operator sees masked data:\u003c/p\u003e\n\u003cdl class=\"field-list simple\"\u003e\n\u003cdt class=\"field-odd\"\u003eThe current session\u003cspan class=\"colon\"\u003e:\u003c/span\u003e\u003c/dt\u003e\n\u003cdd class=\"field-odd\"\u003e\u003cp\u003eMasking policy conditions using \u003ca class=\"reference internal\" href=\"../sql-reference/functions/current_role\"\u003e\u003cspan class=\"doc\"\u003eCURRENT_ROLE\u003c/span\u003e\u003c/a\u003e.\u003c/p\u003e\n\u003c/dd\u003e\n\u003cdt class=\"field-even\"\u003eThe executing role\u003cspan class=\"colon\"\u003e:\u003c/span\u003e\u003c/dt\u003e\n\u003cdd class=\"field-even\"\u003e\u003cp\u003eMasking policy conditions using \u003ca class=\"reference internal\" href=\"../sql-reference/functions/invoker_role\"\u003e\u003cspan class=\"doc\"\u003eINVOKER_ROLE\u003c/span\u003e\u003c/a\u003e.\u003c/p\u003e\n\u003c/dd\u003e\n\u003cdt class=\"field-odd\"\u003eRole hierarchy\u003cspan class=\"colon\"\u003e:\u003c/span\u003e\u003c/dt\u003e\n\u003cdd class=\"field-odd\"\u003e\u003cp\u003eMasking policy conditions using \u003ca class=\"reference internal\" href=\"../sql-reference/functions/is_role_in_session\"\u003e\u003cspan class=\"doc\"\u003eIS_ROLE_IN_SESSION\u003c/span\u003e\u003c/a\u003e or \u003ca class=\"reference internal\" href=\"../sql-reference/functions/is_granted_to_invoker_role\"\u003e\u003cspan class=\"doc\"\u003eIS_GRANTED_TO_INVOKER_ROLE\u003c/span\u003e\u003c/a\u003e.\u003c/p\u003e\n\u003c/dd\u003e\n\u003cdt class=\"field-even\"\u003eData sharing\u003cspan class=\"colon\"\u003e:\u003c/span\u003e\u003c/dt\u003e\n\u003cdd class=\"field-even\"\u003e\u003cp\u003eWhether the data is shared using \u003ca class=\"reference internal\" href=\"data-sharing-gs\"\u003e\u003cspan class=\"doc\"\u003eSecure Data Sharing\u003c/span\u003e\u003c/a\u003e. For details, see\n\u003ca class=\"reference internal\" href=\"#label-security-column-intro-data-sharing\"\u003e\u003cspan class=\"std std-ref\"\u003eData Sharing\u003c/span\u003e\u003c/a\u003e (in this topic).\u003c/p\u003e\n\u003c/dd\u003e\n\u003cdt class=\"field-odd\"\u003eReplication\u003cspan class=\"colon\"\u003e:\u003c/span\u003e\u003c/dt\u003e\n\u003cdd class=\"field-odd\"\u003e\u003cp\u003eSee \u003ca class=\"reference internal\" href=\"#label-security-column-replication\"\u003e\u003cspan class=\"std std-ref\"\u003eReplication\u003c/span\u003e\u003c/a\u003e (in this topic).\u003c/p\u003e\n\u003c/dd\u003e\n\u003cdt class=\"field-even\"\u003eSubqueries\u003cspan class=\"colon\"\u003e:\u003c/span\u003e\u003c/dt\u003e\n\u003cdd class=\"field-even\"\u003e\u003cp\u003eA masking policy can reference a subquery in the policy definition, however, there are limits to subquery support in Snowflake. For more information, see \u003ca class=\"reference internal\" href=\"querying-subqueries\"\u003e\u003cspan class=\"doc\"\u003eWorking with Subqueries\u003c/span\u003e\u003c/a\u003e.\u003c/p\u003e\n\u003c/dd\u003e\n\u003cdt class=\"field-odd\"\u003eUDFs in a masking policy\u003cspan class=\"colon\"\u003e:\u003c/span\u003e\u003c/dt\u003e\n\u003cdd class=\"field-odd\"\u003e\u003cp\u003eEnsure the data type of the column, UDF, and masking policy match. For more information, see\n\u003ca class=\"reference internal\" href=\"#label-security-column-intro-udf-policy\"\u003e\u003cspan class=\"std std-ref\"\u003eUser-defined functions in a masking policy\u003c/span\u003e\u003c/a\u003e (in this topic).\u003c/p\u003e\n\u003c/dd\u003e\n\u003c/dl\u003e\n\u003cdl class=\"field-list\"\u003e\n\u003cdt class=\"field-odd\"\u003eSearch optimization service\u003cspan class=\"colon\"\u003e:\u003c/span\u003e\u003c/dt\u003e\n\u003cdd class=\"field-odd\"\u003e\u003cp\u003eThe search optimization service can improve the query performance on a table that uses a masking or row access policy.\u003c/p\u003e\n\u003cp\u003eFor details, see\n\u003ca class=\"reference internal\" href=\"search-optimization/working-with-tables.html#label-search-optimization-service-masking-row-access\"\u003e\u003cspan class=\"std std-ref\"\u003eSupport for Tables With Masking Policies and Row Access Policies in the Search Optimization Service\u003c/span\u003e\u003c/a\u003e.\u003c/p\u003e\n\u003c/dd\u003e\n\u003c/dl\u003e\n\u003cp\u003eThe first three items are explained in greater detail in \u003ca class=\"reference internal\" href=\"security-column-advanced\"\u003e\u003cspan class=\"doc\"\u003eAdvanced Column-level Security topics\u003c/span\u003e\u003c/a\u003e. Data sharing only applies to Dynamic Data Masking because external functions cannot be invoked in the context of a share.\u003c/p\u003e\n\u003cp\u003eUltimately, the specific use case determines whether Dynamic Data Masking or External Tokenization is the best fit.\u003c/p\u003e\n\u003c/section\u003e\n\u003c/section\u003e\n\u003c/section\u003e\n\u003csection id=\"choosing-dynamic-data-masking-or-external-tokenization\"\u003e\n\u003ch2\u003eChoosing Dynamic Data Masking or External Tokenization\u003ca class=\"headerlink\" href=\"#choosing-dynamic-data-masking-or-external-tokenization\" title=\"Link to this heading\"\u003e¶\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eTo choose the correct feature that best meets the need of your organization, evaluate the major use cases for your data along with relevant considerations and limitations. The following two sections summarize the benefits and limitations between the two features.\u003c/p\u003e\n\u003csection id=\"benefits\"\u003e\n\u003cspan id=\"label-security-column-benefits\"\u003e\u003c/span\u003e\u003ch3\u003eBenefits\u003ca class=\"headerlink\" href=\"#benefits\" title=\"Link to this heading\"\u003e¶\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eThe following table compares the benefits of Dynamic Data Masking and External Tokenization.\u003c/p\u003e\n\u003ctable class=\"docutils align-default\"\u003e\n\u003cthead\u003e\n\u003ctr class=\"row-odd\"\u003e\u003cth class=\"head\"\u003e\u003cp\u003eFactor\u003c/p\u003e\u003c/th\u003e\n\u003cth class=\"head\"\u003e\u003cp\u003eDynamic Data Masking\u003c/p\u003e\u003c/th\u003e\n\u003cth class=\"head\"\u003e\u003cp\u003eExternal Tokenization\u003c/p\u003e\u003c/th\u003e\n\u003cth class=\"head\"\u003e\u003cp\u003eNotes\u003c/p\u003e\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr class=\"row-even\"\u003e\u003ctd\u003e\u003cp\u003ePreserve analytical value after de-identification.\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp\u003e✔\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp\u003eSince tokenization provides a unique value for a given set of characters, it is possible to group records by a tokenized value\nwithout revealing the sensitive information.\u003c/p\u003e\n\u003cp\u003eFor example, group medical records by diagnosis code with the patient diagnosis code\ntokenized. Data analysts can then query a view on the diagnosis code to obtain a count of the number of patients with a unique\ndiagnosis code.\u003c/p\u003e\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr class=\"row-odd\"\u003e\u003ctd\u003e\u003cp\u003ePre-load tokenized Data.\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp\u003e✔\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp\u003eUnauthorized users never see the real data value. Requires third-party tokenization provider.\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr class=\"row-even\"\u003e\u003ctd\u003e\u003cp\u003ePre-load unmasked data.\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp\u003e✔\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp\u003eOnly need built-in Snowflake functionality, no third-parties required.\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr class=\"row-odd\"\u003e\u003ctd\u003e\u003cp\u003eData Sharing.\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp\u003e✔\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp\u003eFor details, see \u003ca class=\"reference internal\" href=\"#label-security-column-intro-data-sharing\"\u003e\u003cspan class=\"std std-ref\"\u003eData Sharing\u003c/span\u003e\u003c/a\u003e (in this topic).\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr class=\"row-even\"\u003e\u003ctd\u003e\u003cp\u003eEase of use and Change management.\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp\u003e✔\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp\u003e✔\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp\u003eWrite a policy once and have it apply to thousands of columns across databases and schemas.\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr class=\"row-odd\"\u003e\u003ctd\u003e\u003cp\u003eData administration and SoD.\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp\u003e✔\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp\u003e✔\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp\u003eA security or privacy officer decides which columns to protect, not the object owner.\u003c/p\u003e\n\u003cp\u003eMasking policies are easy to manage and support centralized and decentralized administration models.\u003c/p\u003e\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr class=\"row-even\"\u003e\u003ctd\u003e\u003cp\u003eData authorization and governance.\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp\u003e✔\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp\u003e✔\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr class=\"row-odd\"\u003e\u003ctd\u003e\u003cp\u003eContextual data access by role or custom entitlements.\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp\u003e✔\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp\u003e✔\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp\u003eSupports data governance as implemented by security or privacy officers and can prohibit privileged users with the ACCOUNTADMIN\nor SECURITYADMIN system roles from unnecessarily viewing data.\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr class=\"row-even\"\u003e\u003ctd\u003e\u003cp\u003eDatabase replication and account object replication.\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp\u003e✔\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp\u003e✔\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp\u003eSee: \u003ca class=\"reference internal\" href=\"#label-security-column-replication\"\u003e\u003cspan class=\"std std-ref\"\u003eReplication\u003c/span\u003e\u003c/a\u003e (in this topic).\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003c/section\u003e\n\u003csection id=\"limitations\"\u003e\n\u003cspan id=\"label-security-column-limitations\"\u003e\u003c/span\u003e\u003ch3\u003eLimitations\u003ca class=\"headerlink\" href=\"#limitations\" title=\"Link to this heading\"\u003e¶\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eThe following table describes the current limitations for Column-level Security. A checkmark (i.e. ✔) indicates a limitation or lack of current support for the feature.\u003c/p\u003e\n\u003ctable class=\"docutils align-default\"\u003e\n\u003cthead\u003e\n\u003ctr class=\"row-odd\"\u003e\u003cth class=\"head\"\u003e\u003cp\u003eLimitation\u003c/p\u003e\u003c/th\u003e\n\u003cth class=\"head\"\u003e\u003cp\u003eDynamic Data Masking\u003c/p\u003e\u003c/th\u003e\n\u003cth class=\"head\"\u003e\u003cp\u003eExternal Tokenization\u003c/p\u003e\u003c/th\u003e\n\u003cth class=\"head\"\u003e\u003cp\u003eNotes\u003c/p\u003e\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr class=\"row-even\"\u003e\u003ctd\u003e\u003cp\u003eMaterialized views (MV).\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp\u003e✔\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp\u003e✔\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp\u003eFor a complete summary, see \u003ca class=\"reference internal\" href=\"#label-security-column-intro-mv\"\u003e\u003cspan class=\"std std-ref\"\u003eMaterialized views\u003c/span\u003e\u003c/a\u003e (in this topic).\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr class=\"row-odd\"\u003e\u003ctd\u003e\u003cp\u003e\u003ca class=\"reference internal\" href=\"../sql-reference/sql/drop-masking-policy\"\u003e\u003cspan class=\"doc\"\u003eDROP MASKING POLICY\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp\u003e✔\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp\u003e✔\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp\u003ePrior to dropping a policy, unset the policy from the table or view column using\n\u003ca class=\"reference internal\" href=\"../sql-reference/sql/alter-table-column\"\u003e\u003cspan class=\"doc\"\u003eALTER TABLE … ALTER COLUMN\u003c/span\u003e\u003c/a\u003e or \u003ca class=\"reference internal\" href=\"../sql-reference/sql/alter-view\"\u003e\u003cspan class=\"doc\"\u003eALTER VIEW\u003c/span\u003e\u003c/a\u003e.\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr class=\"row-even\"\u003e\u003ctd\u003e\u003cp\u003e\u003ca class=\"reference internal\" href=\"../sql-reference/sql/drop-database\"\u003e\u003cspan class=\"doc\"\u003eDROP DATABASE\u003c/span\u003e\u003c/a\u003e and \u003ca class=\"reference internal\" href=\"../sql-reference/sql/drop-schema\"\u003e\u003cspan class=\"doc\"\u003eDROP SCHEMA\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp\u003e✔\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp\u003e✔\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp\u003eDropping a database or schema requires the masking policy and its mappings to be self-contained within the database or schema.\u003c/p\u003e\n\u003cp\u003eFor example, \u003ccode class=\"docutils literal notranslate\"\u003e\u003cspan class=\"pre\"\u003edatabase_1\u003c/span\u003e\u003c/code\u003e contains \u003ccode class=\"docutils literal notranslate\"\u003e\u003cspan class=\"pre\"\u003epolicy_1\u003c/span\u003e\u003c/code\u003e and \u003ccode class=\"docutils literal notranslate\"\u003e\u003cspan class=\"pre\"\u003epolicy_1\u003c/span\u003e\u003c/code\u003e is only used in \u003ccode class=\"docutils literal notranslate\"\u003e\u003cspan class=\"pre\"\u003edatabase_1\u003c/span\u003e\u003c/code\u003e.\u003c/p\u003e\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr class=\"row-odd\"\u003e\u003ctd\u003e\u003cp\u003eExternal tables.\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp\u003e✔\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp\u003e✔\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp\u003eAn external table cannot be referenced as a lookup table (i.e. in a subquery) to determine whether column values should be masked.\nFor more information, see \u003ca class=\"reference internal\" href=\"#external-tables\"\u003eExternal Tables\u003c/a\u003e (in this topic)\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr class=\"row-even\"\u003e\u003ctd\u003e\u003cp\u003eDifferent data types in the input and output of a policy definition.\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp\u003e✔\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp\u003e✔\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp\u003eA masking policy definition must have the same data type for the input and output. In other words, as a representative example,\nyou cannot define the input datatype as a timestamp and return a string.\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr class=\"row-odd\"\u003e\u003ctd\u003e\u003cp\u003eMasking policy change management.\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp\u003e✔\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp\u003e✔\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp\u003eYou can optionally store and track masking policy changes in a version control system of your choice.\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr class=\"row-even\"\u003e\u003ctd\u003e\u003cp\u003e\u003ca class=\"reference internal\" href=\"../sql-reference/sql/grant-privilege.html#label-grant-privilege-role-limitations\"\u003e\u003cspan class=\"std std-ref\"\u003eFuture grants\u003c/span\u003e\u003c/a\u003e.\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp\u003e✔\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp\u003e✔\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp\u003e\u003ca class=\"reference internal\" href=\"../sql-reference/sql/grant-privilege.html#label-grant-privilege-schema-future-grants\"\u003e\u003cspan class=\"std std-ref\"\u003eFuture grants\u003c/span\u003e\u003c/a\u003e of privileges on masking policies are not supported.\u003c/p\u003e\n\u003cp\u003eAs a workaround, grant the \u003ca class=\"reference internal\" href=\"#label-security-column-privileges-masking-policies\"\u003e\u003cspan class=\"std std-ref\"\u003eAPPLY MASKING POLICY\u003c/span\u003e\u003c/a\u003e privilege to a custom\nrole to allow that role to apply masking policies on table or view columns.\u003c/p\u003e\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003c/section\u003e\n\u003csection id=\"considerations\"\u003e\n\u003cspan id=\"label-security-column-considerations\"\u003e\u003c/span\u003e\u003ch3\u003eConsiderations\u003ca class=\"headerlink\" href=\"#considerations\" title=\"Link to this heading\"\u003e¶\u003c/a\u003e\u003c/h3\u003e\n\u003cul class=\"simple\"\u003e\n\u003cli\u003e\u003cp\u003eUse caution when inserting values from a source column that has a masking policy on the source column to a target column without a masking policy on the target column. Since a masking policy is set on the source column, a role that views unmasked column data can insert unmasked data into another column, where any role with sufficient privileges on the table or view can see the value.\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eIf a role that sees masked data in the source column inserts those values into a target column, the inserted values remain masked. If a masking policy is not set on the target column, then users with sufficient privileges on the table or view may see a combination of masked and unmasked values in the target column. Therefore, as a best practice:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cp\u003eExercise caution when applying masking policies to columns.\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eVerify queries using columns that have masking policies before making tables and views available to users.\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eDetermine additional tables and views (i.e. target columns) where the data in the source column may appear.\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eFor more information, see \u003ca class=\"reference internal\" href=\"#obtain-columns-with-a-masking-policy\"\u003eObtain Columns with a Masking Policy\u003c/a\u003e (in this topic).\u003c/p\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eUse caution when creating the setup script for a Snowflake Native App when the masking policy exists in a versioned schema. For details, see\n\u003ca class=\"reference internal\" href=\"../developer-guide/native-apps/creating-setup-script.html#label-setup-script-versioned-schema-failures\"\u003e\u003cspan class=\"std std-ref\"\u003eversion schema considerations\u003c/span\u003e\u003c/a\u003e.\u003c/p\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/section\u003e\n\u003c/section\u003e\n\u003csection id=\"using-column-level-security-on-tables-and-views\"\u003e\n\u003cspan id=\"label-security-column-intro-tables-views\"\u003e\u003c/span\u003e\u003ch2\u003eUsing Column-level Security on tables and views\u003ca class=\"headerlink\" href=\"#using-column-level-security-on-tables-and-views\" title=\"Link to this heading\"\u003e¶\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eSnowflake supports masking policies with tables and views. The following describes how masking policies affect tables and views in\nSnowflake.\u003c/p\u003e\n\u003cdiv class=\"admonition tip\"\u003e\n\u003cp class=\"admonition-title\"\u003eTip\u003c/p\u003e\n\u003cp\u003eCall the \u003ca class=\"reference internal\" href=\"../sql-reference/functions/policy_context\"\u003e\u003cspan class=\"doc\"\u003ePOLICY_CONTEXT\u003c/span\u003e\u003c/a\u003e function to simulate a query on a column that is protected by a masking policy,\na table or view protected by a row access policy, or both types of policies.\u003c/p\u003e\n\u003c/div\u003e\n\u003csection id=\"active-role-hierarchy-mapping-tables\"\u003e\n\u003ch3\u003eActive role hierarchy \u0026amp; mapping tables\u003ca class=\"headerlink\" href=\"#active-role-hierarchy-mapping-tables\" title=\"Link to this heading\"\u003e¶\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eThe policy conditions can evaluate the user’s active primary and secondary roles in a session directly, look up active roles in a mapping\ntable, or do both depending on how the policy administrator wants to write the policy. If the policy contains a mapping table lookup,\ncreate a centralized mapping table and store the mapping table in the same database as the protected table. This is particularly important\nif the policy calls the \u003ca class=\"reference internal\" href=\"../sql-reference/functions/is_database_role_in_session\"\u003e\u003cspan class=\"doc\"\u003eIS_DATABASE_ROLE_IN_SESSION\u003c/span\u003e\u003c/a\u003e function. For details, see the function\n\u003ca class=\"reference internal\" href=\"../sql-reference/functions/is_database_role_in_session.html#label-is-db-role-in-session-notes\"\u003e\u003cspan class=\"std std-ref\"\u003eusage notes\u003c/span\u003e\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eFor these use cases, Snowflake recommends writing the policy conditions to call the \u003ca class=\"reference internal\" href=\"../sql-reference/functions/is_role_in_session\"\u003e\u003cspan class=\"doc\"\u003eIS_ROLE_IN_SESSION\u003c/span\u003e\u003c/a\u003e or\nthe \u003ca class=\"reference internal\" href=\"../sql-reference/functions/is_database_role_in_session\"\u003e\u003cspan class=\"doc\"\u003eIS_DATABASE_ROLE_IN_SESSION\u003c/span\u003e\u003c/a\u003e function depending on whether you want to specify an account role or\ndatabase role. For examples, see:\u003c/p\u003e\n\u003cul class=\"simple\"\u003e\n\u003cli\u003e\u003cp\u003e\u003ca class=\"reference internal\" href=\"../sql-reference/functions/is_role_in_session.html#label-is-role-in-session-examples\"\u003e\u003cspan class=\"std std-ref\"\u003eExamples\u003c/span\u003e\u003c/a\u003e section in the IS_ROLE_IN_SESSION function.\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eIS_DATABASE_ROLE_IN_SESSION\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e\u003ca class=\"reference internal\" href=\"data-sharing-policy-protected-data\"\u003e\u003cspan class=\"doc\"\u003eShare data protected by a policy\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eFor additional examples using context functions and masking policies, see \u003ca class=\"reference internal\" href=\"security-column-advanced\"\u003e\u003cspan class=\"doc\"\u003eAdvanced Column-level Security topics\u003c/span\u003e\u003c/a\u003e.\u003c/p\u003e\n\u003c/section\u003e\n\u003csection id=\"apply-masking-policies-to-columns\"\u003e\n\u003cspan id=\"label-security-column-intro-apply-to-column\"\u003e\u003c/span\u003e\u003ch3\u003eApply masking policies to columns\u003ca class=\"headerlink\" href=\"#apply-masking-policies-to-columns\" title=\"Link to this heading\"\u003e¶\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eWhen a column is not protected by a masking policy, there are two options to apply a masking policy to a column in a table or view:\u003c/p\u003e\n\u003col class=\"arabic simple\"\u003e\n\u003cli\u003e\u003cp\u003eWith a \u003cspan class=\"emph\"\u003enew\u003c/span\u003e table or view, apply the policy to a table column with a \u003ca class=\"reference internal\" href=\"../sql-reference/sql/create-table\"\u003e\u003cspan class=\"doc\"\u003eCREATE TABLE\u003c/span\u003e\u003c/a\u003e statement or a view\ncolumn with a \u003ca class=\"reference internal\" href=\"../sql-reference/sql/create-view\"\u003e\u003cspan class=\"doc\"\u003eCREATE VIEW\u003c/span\u003e\u003c/a\u003e statement.\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eWith an \u003cspan class=\"emph\"\u003eexisting\u003c/span\u003e table or view, apply the policy to a table column with an \u003ca class=\"reference internal\" href=\"../sql-reference/sql/alter-table-column\"\u003e\u003cspan class=\"doc\"\u003eALTER TABLE … ALTER COLUMN\u003c/span\u003e\u003c/a\u003e\nstatement or a view column with an \u003ca class=\"reference internal\" href=\"../sql-reference/sql/alter-view\"\u003e\u003cspan class=\"doc\"\u003eALTER VIEW\u003c/span\u003e\u003c/a\u003e statement.\u003c/p\u003e\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eFor a \u003cspan class=\"emph\"\u003enew\u003c/span\u003e table or view, execute the following statements:\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cdiv\u003e\u003cdiv class=\"relative group text-sm\"\u003e\u003cdiv class=\"highlight-sqlexample notranslate\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan class=\"py\"\u003e-- table\u003c/span\u003e\n\u003cspan class=\"ni\"\u003eCREATE\u003c/span\u003e \u003cspan class=\"ni\"\u003eOR\u003c/span\u003e \u003cspan class=\"ni\"\u003eREPLACE\u003c/span\u003e \u003cspan class=\"ni\"\u003eTABLE\u003c/span\u003e \u003cspan class=\"gi\"\u003euser_info\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"gi\"\u003essn\u003c/span\u003e \u003cspan class=\"ni\"\u003estring\u003c/span\u003e \u003cspan class=\"ni\"\u003emasking policy\u003c/span\u003e \u003cspan class=\"gi\"\u003essn_mask\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n\u003cspan class=\"py\"\u003e-- view\u003c/span\u003e\n\u003cspan class=\"ni\"\u003eCREATE\u003c/span\u003e \u003cspan class=\"ni\"\u003eOR\u003c/span\u003e \u003cspan class=\"ni\"\u003eREPLACE\u003c/span\u003e \u003cspan class=\"ni\"\u003eVIEW\u003c/span\u003e \u003cspan class=\"gi\"\u003euser_info_v\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"gi\"\u003essn\u003c/span\u003e \u003cspan class=\"ni\"\u003emasking policy\u003c/span\u003e \u003cspan class=\"gi\"\u003essn_mask_v\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"ni\"\u003eAS\u003c/span\u003e \u003cspan class=\"ni\"\u003eSELECT\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"ni\"\u003eFROM\u003c/span\u003e \u003cspan class=\"gi\"\u003euser_info\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\u003cdiv data-codeblock-index=\"6\" class=\"copybutton\"\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 384 512\" class=\"copybutton-icon icon-copy\"\u003e\u003cpath d=\"M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 512 512\" class=\"copybutton-icon icon-copied hidden\"\u003e\u003cpath d=\"M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003cspan\u003eCopy\u003c/span\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/div\u003e\u003c/blockquote\u003e\n\u003cp\u003eFor an \u003cspan class=\"emph\"\u003eexisting\u003c/span\u003e table or view, execute the following statements:\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cdiv\u003e\u003cdiv class=\"relative group text-sm\"\u003e\u003cdiv class=\"highlight-sqlexample notranslate\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan class=\"py\"\u003e-- table\u003c/span\u003e\n\u003cspan class=\"ni\"\u003eALTER\u003c/span\u003e \u003cspan class=\"ni\"\u003eTABLE\u003c/span\u003e \u003cspan class=\"ni\"\u003eIF\u003c/span\u003e \u003cspan class=\"ni\"\u003eEXISTS\u003c/span\u003e \u003cspan class=\"gi\"\u003euser_info\u003c/span\u003e \u003cspan class=\"ni\"\u003eMODIFY\u003c/span\u003e \u003cspan class=\"ni\"\u003eCOLUMN\u003c/span\u003e \u003cspan class=\"gi\"\u003essn_number\u003c/span\u003e \u003cspan class=\"ni\"\u003eSET\u003c/span\u003e \u003cspan class=\"ni\"\u003eMASKING POLICY\u003c/span\u003e \u003cspan class=\"gi\"\u003essn_mask\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"py\"\u003e-- view\u003c/span\u003e\n\u003cspan class=\"ni\"\u003eALTER\u003c/span\u003e \u003cspan class=\"ni\"\u003eVIEW\u003c/span\u003e \u003cspan class=\"gi\"\u003euser_info_v\u003c/span\u003e \u003cspan class=\"ni\"\u003eMODIFY\u003c/span\u003e \u003cspan class=\"ni\"\u003eCOLUMN\u003c/span\u003e \u003cspan class=\"gi\"\u003essn_number\u003c/span\u003e \u003cspan class=\"ni\"\u003eSET\u003c/span\u003e \u003cspan class=\"ni\"\u003eMASKING POLICY\u003c/span\u003e \u003cspan class=\"gi\"\u003essn_mask_v\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\u003cdiv data-codeblock-index=\"7\" class=\"copybutton\"\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 384 512\" class=\"copybutton-icon icon-copy\"\u003e\u003cpath d=\"M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 512 512\" class=\"copybutton-icon icon-copied hidden\"\u003e\u003cpath d=\"M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003cspan\u003eCopy\u003c/span\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/div\u003e\u003c/blockquote\u003e\n\u003cp\u003eFor more information on syntax and usage, see \u003ca class=\"reference internal\" href=\"../sql-reference/sql/alter-table-column\"\u003e\u003cspan class=\"doc\"\u003eALTER TABLE … ALTER COLUMN\u003c/span\u003e\u003c/a\u003e and \u003ca class=\"reference internal\" href=\"../sql-reference/sql/alter-view\"\u003e\u003cspan class=\"doc\"\u003eALTER VIEW\u003c/span\u003e\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eIf the masking policy uses a UDF, see \u003ca class=\"reference internal\" href=\"#label-security-column-intro-udf-policy\"\u003e\u003cspan class=\"std std-ref\"\u003eUser-defined functions in a masking policy\u003c/span\u003e\u003c/a\u003e (in this topic).\u003c/p\u003e\n\u003c/section\u003e\n\u003csection id=\"apply-a-conditional-masking-policy-on-a-column\"\u003e\n\u003cspan id=\"label-security-column-intro-apply-cond-cols\"\u003e\u003c/span\u003e\u003ch3\u003eApply a conditional masking policy on a column\u003ca class=\"headerlink\" href=\"#apply-a-conditional-masking-policy-on-a-column\" title=\"Link to this heading\"\u003e¶\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eAfter \u003ca class=\"reference internal\" href=\"../sql-reference/sql/create-masking-policy\"\u003e\u003cspan class=\"doc\"\u003ecreating\u003c/span\u003e\u003c/a\u003e a masking policy using\n\u003ca class=\"reference internal\" href=\"#label-security-column-intro-cond-cols\"\u003e\u003cspan class=\"std std-ref\"\u003econditional columns\u003c/span\u003e\u003c/a\u003e, there are two options to set a conditional masking policy on a column\nwhen the column is not already protected by a masking policy:\u003c/p\u003e\n\u003col class=\"arabic\"\u003e\n\u003cli\u003e\u003cp\u003eFor a \u003cspan class=\"emph\"\u003enew\u003c/span\u003e table or view, apply the policy to a table or view column with the corresponding CREATE statement.\u003c/p\u003e\n\u003cp\u003eFor more information on syntax and usage, see:\u003c/p\u003e\n\u003cul class=\"simple\"\u003e\n\u003cli\u003e\u003cp\u003e\u003ca class=\"reference internal\" href=\"../sql-reference/sql/create-table\"\u003e\u003cspan class=\"doc\"\u003eCREATE TABLE\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e\u003ca class=\"reference internal\" href=\"../sql-reference/sql/create-view\"\u003e\u003cspan class=\"doc\"\u003eCREATE VIEW\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e\u003ca class=\"reference internal\" href=\"../sql-reference/sql/create-materialized-view\"\u003e\u003cspan class=\"doc\"\u003eCREATE MATERIALIZED VIEW\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eFor a \u003cspan class=\"emph\"\u003enew\u003c/span\u003e table or view, execute the following statements:\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cdiv\u003e\u003cdiv class=\"relative group text-sm\"\u003e\u003cdiv class=\"highlight-sqlexample notranslate\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan class=\"py\"\u003e-- table\u003c/span\u003e\n\u003cspan class=\"ni\"\u003eCREATE\u003c/span\u003e \u003cspan class=\"ni\"\u003eOR\u003c/span\u003e \u003cspan class=\"ni\"\u003eREPLACE\u003c/span\u003e \u003cspan class=\"ni\"\u003eTABLE\u003c/span\u003e \u003cspan class=\"gi\"\u003euser_info\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"ni\"\u003eemail\u003c/span\u003e \u003cspan class=\"ni\"\u003estring\u003c/span\u003e \u003cspan class=\"ni\"\u003emasking policy\u003c/span\u003e \u003cspan class=\"gi\"\u003eemail_visibility\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"ni\"\u003eUSING\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"ni\"\u003eemail\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"gi\"\u003evisibility\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n\u003cspan class=\"py\"\u003e--view\u003c/span\u003e\n\u003cspan class=\"ni\"\u003eCREATE\u003c/span\u003e \u003cspan class=\"ni\"\u003eOR\u003c/span\u003e \u003cspan class=\"ni\"\u003eREPLACE\u003c/span\u003e \u003cspan class=\"ni\"\u003eVIEW\u003c/span\u003e \u003cspan class=\"gi\"\u003euser_info_v\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"ni\"\u003eemail\u003c/span\u003e \u003cspan class=\"ni\"\u003emasking policy\u003c/span\u003e \u003cspan class=\"gi\"\u003eemail_visibility\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"ni\"\u003eUSING\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"ni\"\u003eemail\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"gi\"\u003evisibility\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"ni\"\u003eAS\u003c/span\u003e \u003cspan class=\"ni\"\u003eSELECT\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"ni\"\u003eFROM\u003c/span\u003e \u003cspan class=\"gi\"\u003euser_info\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\u003cdiv data-codeblock-index=\"8\" class=\"copybutton\"\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 384 512\" class=\"copybutton-icon icon-copy\"\u003e\u003cpath d=\"M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 512 512\" class=\"copybutton-icon icon-copied hidden\"\u003e\u003cpath d=\"M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003cspan\u003eCopy\u003c/span\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/div\u003e\u003c/blockquote\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eFor an \u003cspan class=\"emph\"\u003eexisting\u003c/span\u003e table or view, set the policy on a table or view column with the corresponding ALTER statement.\u003c/p\u003e\n\u003cp\u003eFor more information on syntax and usage, see:\u003c/p\u003e\n\u003cul class=\"simple\"\u003e\n\u003cli\u003e\u003cp\u003e\u003ca class=\"reference internal\" href=\"../sql-reference/sql/alter-table\"\u003e\u003cspan class=\"doc\"\u003eALTER TABLE\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e\u003ca class=\"reference internal\" href=\"../sql-reference/sql/alter-table-column\"\u003e\u003cspan class=\"doc\"\u003eALTER TABLE … ALTER COLUMN\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e\u003ca class=\"reference internal\" href=\"../sql-reference/sql/alter-view\"\u003e\u003cspan class=\"doc\"\u003eALTER VIEW\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e\u003ca class=\"reference internal\" href=\"../sql-reference/sql/alter-materialized-view\"\u003e\u003cspan class=\"doc\"\u003eALTER MATERIALIZED VIEW\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eFor an \u003cspan class=\"emph\"\u003eexisting\u003c/span\u003e table or view, execute the following statements:\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cdiv\u003e\u003cdiv class=\"relative group text-sm\"\u003e\u003cdiv class=\"highlight-sqlexample notranslate\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan class=\"py\"\u003e-- table\u003c/span\u003e\n\u003cspan class=\"ni\"\u003eALTER\u003c/span\u003e \u003cspan class=\"ni\"\u003eTABLE\u003c/span\u003e \u003cspan class=\"ni\"\u003eIF\u003c/span\u003e \u003cspan class=\"ni\"\u003eEXISTS\u003c/span\u003e \u003cspan class=\"gi\"\u003euser_info\u003c/span\u003e \u003cspan class=\"ni\"\u003eMODIFY\u003c/span\u003e \u003cspan class=\"ni\"\u003eCOLUMN\u003c/span\u003e \u003cspan class=\"ni\"\u003eemail\u003c/span\u003e\n\u003cspan class=\"ni\"\u003eSET\u003c/span\u003e \u003cspan class=\"ni\"\u003eMASKING POLICY\u003c/span\u003e \u003cspan class=\"gi\"\u003eemail_visibility\u003c/span\u003e \u003cspan class=\"ni\"\u003eUSING\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"ni\"\u003eEMAIL\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"gi\"\u003eVISIBILITY\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n\u003cspan class=\"py\"\u003e-- VIEW\u003c/span\u003e\n\u003cspan class=\"ni\"\u003eALTER\u003c/span\u003e \u003cspan class=\"ni\"\u003eVIEW\u003c/span\u003e \u003cspan class=\"gi\"\u003euser_info_v\u003c/span\u003e \u003cspan class=\"ni\"\u003eMODIFY\u003c/span\u003e \u003cspan class=\"ni\"\u003eCOLUMN\u003c/span\u003e \u003cspan class=\"ni\"\u003eemail\u003c/span\u003e\n\u003cspan class=\"ni\"\u003eSET\u003c/span\u003e \u003cspan class=\"ni\"\u003eMASKING POLICY\u003c/span\u003e \u003cspan class=\"gi\"\u003eemail_visibility\u003c/span\u003e \u003cspan class=\"ni\"\u003eUSING\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"ni\"\u003eemail\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"gi\"\u003evisibility\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\u003cdiv data-codeblock-index=\"9\" class=\"copybutton\"\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 384 512\" class=\"copybutton-icon icon-copy\"\u003e\u003cpath d=\"M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 512 512\" class=\"copybutton-icon icon-copied hidden\"\u003e\u003cpath d=\"M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003cspan\u003eCopy\u003c/span\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/div\u003e\u003c/blockquote\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/section\u003e\n\u003csection id=\"replace-a-masking-policy-on-a-column\"\u003e\n\u003cspan id=\"label-security-column-intro-replace-policy\"\u003e\u003c/span\u003e\u003ch3\u003eReplace a masking policy on a column\u003ca class=\"headerlink\" href=\"#replace-a-masking-policy-on-a-column\" title=\"Link to this heading\"\u003e¶\u003c/a\u003e\u003c/h3\u003e\n\n\u003cp\u003eOnce a masking policy is set on a column, there are two different pathways to replace the masking policy on the column with a different\nmasking policy without having to replace the entire table or view.\u003c/p\u003e\n\u003cp\u003eThese examples use \u003ca class=\"reference internal\" href=\"../sql-reference/sql/alter-table\"\u003e\u003cspan class=\"doc\"\u003eALTER TABLE\u003c/span\u003e\u003c/a\u003e commands. The same approach applies to views with the\n\u003ca class=\"reference internal\" href=\"../sql-reference/sql/alter-view\"\u003e\u003cspan class=\"doc\"\u003eALTER VIEW\u003c/span\u003e\u003c/a\u003e command:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cp\u003eUnset the policy from a table column in one statement and then set a new policy on the column in a different statement:\u003c/p\u003e\n\u003cdiv class=\"relative group text-sm\"\u003e\u003cdiv class=\"highlight-sqlexample notranslate\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan class=\"ni\"\u003eALTER\u003c/span\u003e \u003cspan class=\"ni\"\u003eTABLE\u003c/span\u003e \u003cspan class=\"gi\"\u003et1\u003c/span\u003e \u003cspan class=\"ni\"\u003eMODIFY\u003c/span\u003e \u003cspan class=\"ni\"\u003eCOLUMN\u003c/span\u003e \u003cspan class=\"gi\"\u003ec1\u003c/span\u003e \u003cspan class=\"ni\"\u003eUNSET\u003c/span\u003e \u003cspan class=\"ni\"\u003eMASKING POLICY\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"ni\"\u003eALTER\u003c/span\u003e \u003cspan class=\"ni\"\u003eTABLE\u003c/span\u003e \u003cspan class=\"gi\"\u003et1\u003c/span\u003e \u003cspan class=\"ni\"\u003eMODIFY\u003c/span\u003e \u003cspan class=\"ni\"\u003eCOLUMN\u003c/span\u003e \u003cspan class=\"gi\"\u003ec1\u003c/span\u003e \u003cspan class=\"ni\"\u003eSET\u003c/span\u003e \u003cspan class=\"ni\"\u003eMASKING POLICY\u003c/span\u003e \u003cspan class=\"gi\"\u003ep2\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\u003cdiv data-codeblock-index=\"10\" class=\"copybutton\"\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 384 512\" class=\"copybutton-icon icon-copy\"\u003e\u003cpath d=\"M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 512 512\" class=\"copybutton-icon icon-copied hidden\"\u003e\u003cpath d=\"M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003cspan\u003eCopy\u003c/span\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eUse the \u003ccode class=\"code docutils literal notranslate\"\u003e\u003cspan class=\"pre\"\u003eFORCE\u003c/span\u003e\u003c/code\u003e keyword to replace the policy in a single statement:\u003c/p\u003e\n\u003cdiv class=\"relative group text-sm\"\u003e\u003cdiv class=\"highlight-sqlexample notranslate\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan class=\"ni\"\u003eALTER\u003c/span\u003e \u003cspan class=\"ni\"\u003eTABLE\u003c/span\u003e \u003cspan class=\"gi\"\u003et1\u003c/span\u003e \u003cspan class=\"ni\"\u003eMODIFY\u003c/span\u003e \u003cspan class=\"ni\"\u003eCOLUMN\u003c/span\u003e \u003cspan class=\"gi\"\u003ec1\u003c/span\u003e \u003cspan class=\"ni\"\u003eSET\u003c/span\u003e \u003cspan class=\"ni\"\u003eMASKING POLICY\u003c/span\u003e \u003cspan class=\"gi\"\u003ep2\u003c/span\u003e \u003cspan class=\"ni\"\u003eFORCE\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\u003cdiv data-codeblock-index=\"11\" class=\"copybutton\"\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 384 512\" class=\"copybutton-icon icon-copy\"\u003e\u003cpath d=\"M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 512 512\" class=\"copybutton-icon icon-copied hidden\"\u003e\u003cpath d=\"M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003cspan\u003eCopy\u003c/span\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp\u003eNote:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cp\u003eThe \u003ccode class=\"code docutils literal notranslate\"\u003e\u003cspan class=\"pre\"\u003eFORCE\u003c/span\u003e\u003c/code\u003e keyword requires the \u003ca class=\"reference internal\" href=\"../sql-reference-data-types\"\u003e\u003cspan class=\"doc\"\u003edata type\u003c/span\u003e\u003c/a\u003e of the policy in the ALTER TABLE statement\n(i.e. STRING) to match the data type of the masking policy currently set on the column (i.e. STRING).\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eThe \u003ccode class=\"code docutils literal notranslate\"\u003e\u003cspan class=\"pre\"\u003eFORCE\u003c/span\u003e\u003c/code\u003e keyword can be combined with the \u003ccode class=\"samp docutils literal notranslate\"\u003e\u003cspan class=\"pre\"\u003eUSING\u003c/span\u003e\u003c/code\u003e clause to set a conditional masking policy on column:\u003c/p\u003e\n\u003cdiv class=\"relative group text-sm\"\u003e\u003cdiv class=\"highlight-sqlexample notranslate\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan class=\"ni\"\u003eALTER\u003c/span\u003e \u003cspan class=\"ni\"\u003eTABLE\u003c/span\u003e \u003cspan class=\"gi\"\u003et1\u003c/span\u003e \u003cspan class=\"ni\"\u003eMODIFY\u003c/span\u003e \u003cspan class=\"ni\"\u003eCOLUMN\u003c/span\u003e \u003cspan class=\"gi\"\u003ec1\u003c/span\u003e \u003cspan class=\"ni\"\u003eSET\u003c/span\u003e \u003cspan class=\"ni\"\u003eMASKING POLICY\u003c/span\u003e \u003cspan class=\"gi\"\u003epolicy1\u003c/span\u003e \u003cspan class=\"ni\"\u003eUSING\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"gi\"\u003ec1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"gi\"\u003ec3\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"gi\"\u003ec4\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"ni\"\u003eFORCE\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\u003cdiv data-codeblock-index=\"12\" class=\"copybutton\"\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 384 512\" class=\"copybutton-icon icon-copy\"\u003e\u003cpath d=\"M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 512 512\" class=\"copybutton-icon icon-copied hidden\"\u003e\u003cpath d=\"M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003cspan\u003eCopy\u003c/span\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"admonition important\"\u003e\n\u003cp class=\"admonition-title\"\u003eImportant\u003c/p\u003e\n\u003cp\u003eExercise caution when replacing a masking policy on a column.\u003c/p\u003e\n\u003cp\u003eDepending on the timing of the replacement and the query on the column, choosing to replace the policy in two separate statements could\nlead to a data leak because the column data is unprotected in the time interval between the UNSET and SET operations.\u003c/p\u003e\n\u003cp\u003eHowever, if the policy conditions are different in the replacement policy, specifying the \u003ccode class=\"code docutils literal notranslate\"\u003e\u003cspan class=\"pre\"\u003eFORCE\u003c/span\u003e\u003c/code\u003e keyword could lead to a lack of\naccess because (previously) users could access data and the replacement no longer allows access.\u003c/p\u003e\n\u003cp\u003ePrior to replacing a policy, consult your internal data administrators to coordinate the best approach to protect data with masking\npolicies and replace masking policies as needed.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/section\u003e\n\u003csection id=\"row-access-policies\"\u003e\n\u003ch3\u003eRow access policies\u003ca class=\"headerlink\" href=\"#row-access-policies\" title=\"Link to this heading\"\u003e¶\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eA given table or view column can be specified in either a masking policy signature or a row access policy signature. In other words, the\nsame column cannot be specified in both a masking policy signature and a row access policy signature at the same time.\u003c/p\u003e\n\u003cp\u003eThis behavior also applies to column used as conditional columns in a masking policy.\u003c/p\u003e\n\u003cp\u003eFor more information, see \u003ca class=\"reference internal\" href=\"../sql-reference/sql/create-masking-policy\"\u003e\u003cspan class=\"doc\"\u003eCREATE MASKING POLICY\u003c/span\u003e\u003c/a\u003e and \u003ca class=\"reference internal\" href=\"../sql-reference/sql/create-row-access-policy\"\u003e\u003cspan class=\"doc\"\u003eCREATE ROW ACCESS POLICY\u003c/span\u003e\u003c/a\u003e.\u003c/p\u003e\n\u003c/section\u003e\n\u003csection id=\"simulate-how-a-policy-will-work\"\u003e\n\u003ch3\u003eSimulate how a policy will work\u003ca class=\"headerlink\" href=\"#simulate-how-a-policy-will-work\" title=\"Link to this heading\"\u003e¶\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eCall the \u003ca class=\"reference internal\" href=\"../sql-reference/functions/policy_context\"\u003e\u003cspan class=\"doc\"\u003ePOLICY_CONTEXT\u003c/span\u003e\u003c/a\u003e function to simulate a query on a column that is protected by a masking policy,\na table or view protected by a row access policy, or both types of policies.\u003c/p\u003e\n\u003c/section\u003e\n\u003csection id=\"materialized-views\"\u003e\n\u003cspan id=\"label-security-column-intro-mv\"\u003e\u003c/span\u003e\u003ch3\u003eMaterialized views\u003ca class=\"headerlink\" href=\"#materialized-views\" title=\"Link to this heading\"\u003e¶\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eSnowflake allows setting a masking policy on a materialized view column. At query runtime, the query plan executes any masking policy that\nis present prior to creating the materialized view rewrite. Once the materialized view rewrite occurs, masking policies cannot be set on\nany materialized view columns.\u003c/p\u003e\n\u003cp\u003eThere are two options to set a masking policy on a materialized view column:\u003c/p\u003e\n\u003col class=\"arabic simple\"\u003e\n\u003cli\u003e\u003cp\u003eFor a \u003cspan class=\"emph\"\u003enew\u003c/span\u003e materialized view, execute a \u003ca class=\"reference internal\" href=\"../sql-reference/sql/create-materialized-view\"\u003e\u003cspan class=\"doc\"\u003eCREATE MATERIALIZED VIEW\u003c/span\u003e\u003c/a\u003e statement.\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eFor an \u003cspan class=\"emph\"\u003eexisting\u003c/span\u003e materialized view, execute an\n\u003ca class=\"reference internal\" href=\"../sql-reference/sql/alter-view\"\u003e\u003cspan class=\"doc\"\u003eALTER VIEW … MODIFY COLUMN\u003c/span\u003e\u003c/a\u003e statement on the materialized view.\u003c/p\u003e\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eFor a \u003cspan class=\"emph\"\u003enew\u003c/span\u003e materialized view, execute the following statement:\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cdiv\u003e\u003cdiv class=\"relative group text-sm\"\u003e\u003cdiv class=\"highlight-sqlexample notranslate\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan class=\"ni\"\u003eCREATE\u003c/span\u003e \u003cspan class=\"ni\"\u003eOR\u003c/span\u003e \u003cspan class=\"ni\"\u003eREPLACE\u003c/span\u003e \u003cspan class=\"ni\"\u003eMATERIALIZED\u003c/span\u003e \u003cspan class=\"ni\"\u003eVIEW\u003c/span\u003e \u003cspan class=\"gi\"\u003euser_info_mv\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"gi\"\u003essn_number\u003c/span\u003e \u003cspan class=\"ni\"\u003emasking policy\u003c/span\u003e \u003cspan class=\"gi\"\u003essn_mask\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"ni\"\u003eAS\u003c/span\u003e \u003cspan class=\"ni\"\u003eSELECT\u003c/span\u003e \u003cspan class=\"gi\"\u003essn_number\u003c/span\u003e \u003cspan class=\"ni\"\u003eFROM\u003c/span\u003e \u003cspan class=\"gi\"\u003euser_info\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\u003cdiv data-codeblock-index=\"13\" class=\"copybutton\"\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 384 512\" class=\"copybutton-icon icon-copy\"\u003e\u003cpath d=\"M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 512 512\" class=\"copybutton-icon icon-copied hidden\"\u003e\u003cpath d=\"M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003cspan\u003eCopy\u003c/span\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/div\u003e\u003c/blockquote\u003e\n\u003cp\u003eFor an \u003cspan class=\"emph\"\u003eexisting\u003c/span\u003e materialized view, see the view example in the \u003ca class=\"reference internal\" href=\"#apply-masking-policies-to-columns\"\u003eApply Masking Policies to Columns\u003c/a\u003e section (in this topic).\u003c/p\u003e\n\u003cp\u003eAdditionally, the following two limitations exist regarding masking policies and materialized views:\u003c/p\u003e\n\u003col class=\"arabic\"\u003e\n\u003cli\u003e\u003cp\u003eA masking policy cannot be set on a table column if a materialized view is already created from the underlying table. Snowflake returns\nthe following error message when this attempt is made:\u003c/p\u003e\n\u003cdiv class=\"relative group text-sm\"\u003e\u003cdiv class=\"highlight-none notranslate\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003eSQL execution error: One or more materialized views exist on the table. number of mvs=\u0026lt;number\u0026gt;, table name=\u0026lt;table_name\u0026gt;.\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\u003cdiv data-codeblock-index=\"14\" class=\"copybutton\"\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 384 512\" class=\"copybutton-icon icon-copy\"\u003e\u003cpath d=\"M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 512 512\" class=\"copybutton-icon icon-copied hidden\"\u003e\u003cpath d=\"M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003cspan\u003eCopy\u003c/span\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eIf a masking policy is set on an underlying table column and a materialized view is created from that table, the\nmaterialized view only contains columns that are not protected by a masking policy. Snowflake also returns the following error message\nif the attempting to include one or more columns protected by a masking policy:\u003c/p\u003e\n\u003cdiv class=\"relative group text-sm\"\u003e\u003cdiv class=\"highlight-none notranslate\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003eUnsupported feature 'CREATE ON MASKING POLICY COLUMN'.\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\u003cdiv data-codeblock-index=\"15\" class=\"copybutton\"\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 384 512\" class=\"copybutton-icon icon-copy\"\u003e\u003cpath d=\"M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 512 512\" class=\"copybutton-icon icon-copied hidden\"\u003e\u003cpath d=\"M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003cspan\u003eCopy\u003c/span\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/section\u003e\n\u003csection id=\"obtain-columns-with-a-masking-policy\"\u003e\n\u003cspan id=\"label-security-column-intro-obtain-columns\"\u003e\u003c/span\u003e\u003ch3\u003eObtain columns with a masking policy\u003ca class=\"headerlink\" href=\"#obtain-columns-with-a-masking-policy\" title=\"Link to this heading\"\u003e¶\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eTo obtain a list of columns with masking policies, execute the following statement. For more information, see \u003ca class=\"reference internal\" href=\"../sql-reference/functions/policy_references\"\u003e\u003cspan class=\"doc\"\u003ePOLICY_REFERENCES\u003c/span\u003e\u003c/a\u003e.\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cdiv\u003e\u003cdiv class=\"relative group text-sm\"\u003e\u003cdiv class=\"highlight-sqlexample notranslate\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan class=\"ni\"\u003eSELECT\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"ni\"\u003efrom\u003c/span\u003e \u003cspan class=\"ni\"\u003etable\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n  \u003cspan class=\"ni\"\u003eINFORMATION_SCHEMA\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nd\"\u003ePOLICY_REFERENCES\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n    \u003cspan class=\"ni\"\u003epolicy_name\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u0026gt;\u003c/span\u003e\u003cspan class=\"nc\"\u003e'\u0026lt;policy_name\u0026gt;'\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\u003cdiv data-codeblock-index=\"16\" class=\"copybutton\"\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 384 512\" class=\"copybutton-icon icon-copy\"\u003e\u003cpath d=\"M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 512 512\" class=\"copybutton-icon icon-copied hidden\"\u003e\u003cpath d=\"M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003cspan\u003eCopy\u003c/span\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/div\u003e\u003c/blockquote\u003e\n\u003cp\u003eExecute a \u003ca class=\"reference internal\" href=\"../sql-reference/sql/desc-table\"\u003e\u003cspan class=\"doc\"\u003eDESCRIBE TABLE\u003c/span\u003e\u003c/a\u003e or \u003ca class=\"reference internal\" href=\"../sql-reference/sql/desc-view\"\u003e\u003cspan class=\"doc\"\u003eDESCRIBE VIEW\u003c/span\u003e\u003c/a\u003e statement to view the masking policy on column in a table or view.\u003c/p\u003e\n\u003c/section\u003e\n\u003csection id=\"object-tagging-and-masking-policies\"\u003e\n\u003ch3\u003eObject Tagging and masking policies\u003ca class=\"headerlink\" href=\"#object-tagging-and-masking-policies\" title=\"Link to this heading\"\u003e¶\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eFor details, see \u003ca class=\"reference internal\" href=\"tag-based-masking-policies\"\u003e\u003cspan class=\"doc\"\u003eTag-based masking policies\u003c/span\u003e\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eNote that a masking policy that is directly assigned to a column takes precedence over a tag-based masking policy.\u003c/p\u003e\n\u003c/section\u003e\n\u003csection id=\"hashing-cryptographic-and-encryption-functions-in-masking-policies\"\u003e\n\u003cspan id=\"label-security-column-intro-hashing-encrypt-functions\"\u003e\u003c/span\u003e\u003ch3\u003eHashing, cryptographic, and encryption functions in masking policies\u003ca class=\"headerlink\" href=\"#hashing-cryptographic-and-encryption-functions-in-masking-policies\" title=\"Link to this heading\"\u003e¶\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003e\u003ca class=\"reference internal\" href=\"../sql-reference/functions-hash-scalar\"\u003e\u003cspan class=\"doc\"\u003eHashing\u003c/span\u003e\u003c/a\u003e and \u003ca class=\"reference internal\" href=\"../sql-reference/functions-string\"\u003e\u003cspan class=\"doc\"\u003ecryptographic/checksum\u003c/span\u003e\u003c/a\u003e can be used in masking policies to mask sensitive data.\u003c/p\u003e\n\u003cp\u003eFor a more information, see \u003ca class=\"reference internal\" href=\"security-column-advanced\"\u003e\u003cspan class=\"doc\"\u003eAdvanced Column-level Security topics\u003c/span\u003e\u003c/a\u003e.\u003c/p\u003e\n\u003c/section\u003e\n\u003csection id=\"external-tables\"\u003e\n\u003cspan id=\"label-security-column-intro-ext-table\"\u003e\u003c/span\u003e\u003ch3\u003eExternal tables\u003ca class=\"headerlink\" href=\"#external-tables\" title=\"Link to this heading\"\u003e¶\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eYou cannot assign a masking policy to the external table \u003cspan class=\"ui\"\u003eVALUE\u003c/span\u003e column when \u003cspan class=\"emph\"\u003ecreating\u003c/span\u003e the external table with a\n\u003ca class=\"reference internal\" href=\"../sql-reference/sql/create-external-table\"\u003e\u003cspan class=\"doc\"\u003eCREATE EXTERNAL TABLE\u003c/span\u003e\u003c/a\u003e statement because this column is automatically created by default.\u003c/p\u003e\n\u003cp\u003eYou can assign the masking policy to the external table \u003cspan class=\"ui\"\u003eVALUE\u003c/span\u003e column by executing an \u003ca class=\"reference internal\" href=\"../sql-reference/sql/alter-table-column\"\u003e\u003cspan class=\"doc\"\u003eALTER TABLE … ALTER COLUMN\u003c/span\u003e\u003c/a\u003e\nstatement on the external table. The data type of the masking policy that protects the VALUE column must be VARIANT.\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cdiv\u003e\u003cdiv class=\"relative group text-sm\"\u003e\u003cdiv class=\"highlight-sqlexample notranslate\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan class=\"ni\"\u003eALTER\u003c/span\u003e \u003cspan class=\"ni\"\u003eTABLE\u003c/span\u003e \u003cspan class=\"gi\"\u003et1\u003c/span\u003e \u003cspan class=\"ni\"\u003eMODIFY\u003c/span\u003e \u003cspan class=\"ni\"\u003eCOLUMN\u003c/span\u003e \u003cspan class=\"ni\"\u003eVALUE\u003c/span\u003e \u003cspan class=\"ni\"\u003eSET\u003c/span\u003e \u003cspan class=\"ni\"\u003eMASKING POLICY\u003c/span\u003e \u003cspan class=\"gi\"\u003ep1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\u003cdiv data-codeblock-index=\"17\" class=\"copybutton\"\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 384 512\" class=\"copybutton-icon icon-copy\"\u003e\u003cpath d=\"M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 512 512\" class=\"copybutton-icon icon-copied hidden\"\u003e\u003cpath d=\"M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003cspan\u003eCopy\u003c/span\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/div\u003e\u003c/blockquote\u003e\n\u003cp\u003eYou can assign a masking policy to a virtual column in an external table as follows:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cp\u003eSet the \u003ccode class=\"docutils literal notranslate\"\u003e\u003cspan class=\"pre\"\u003eEXEMPT_OTHER_POLICIES\u003c/span\u003e\u003c/code\u003e masking policy property to \u003ccode class=\"docutils literal notranslate\"\u003e\u003cspan class=\"pre\"\u003eTRUE\u003c/span\u003e\u003c/code\u003e in the masking policy that protects VALUE column in the external\ntable.\u003c/p\u003e\n\u003cp\u003eIf this property is not already set, execute a CREATE OR REPLACE statement on the masking policy the protects the VALUE column and\nspecify the \u003ccode class=\"docutils literal notranslate\"\u003e\u003cspan class=\"pre\"\u003eEXEMPT_OTHER_POLICIES\u003c/span\u003e\u003c/code\u003e property. The virtual column inherits the policy that protects the VALUE column, and this property\nallows the policy on the virtual column to override the inherited policy. For details, see\n\u003ca class=\"reference internal\" href=\"../sql-reference/sql/create-masking-policy\"\u003e\u003cspan class=\"doc\"\u003eCREATE MASKING POLICY\u003c/span\u003e\u003c/a\u003e.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eAssign a different masking policy to the virtual column using an ALTER TABLE command. This policy can be less strict than the policy for\nthe VALUE column because the virtual column is less sensitive. The virtual column contains a lesser amount of data than the VALUE\ncolumn; the VALUE column contains all of the data for each row in the external table.\u003c/p\u003e\n\u003cp\u003eThe data type in the policy that protects the virtual column depends on the data type of the virtual column.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eRegarding conditional columns in a masking policy, a virtual column can be listed as an conditional column argument to determine whether\nthe first column argument should be masked or tokenized. However, a virtual column cannot be specified as the first column to mask or\ntokenize.\u003c/p\u003e\n\u003cp\u003eFor more information, see \u003ca class=\"reference internal\" href=\"../sql-reference/sql/create-masking-policy\"\u003e\u003cspan class=\"doc\"\u003eCREATE MASKING POLICY\u003c/span\u003e\u003c/a\u003e.\u003c/p\u003e\n\u003cdiv class=\"admonition important\"\u003e\n\u003cp class=\"admonition-title\"\u003eImportant\u003c/p\u003e\n\u003cp\u003eSnowflake does not support using an external table as a lookup table (i.e. in a subquery) in a masking policy. While cloning a database,\nSnowflake clones the masking policy, but not the external table. Therefore, the policy in the cloned database refers to a table that\nis not present in the cloned database.\u003c/p\u003e\n\u003cp\u003eIf the data in the external table is necessary for the policy, consider moving the external table data to a dedicated schema\nwithin the database in which the masking policy exists prior to completing a clone operation. Update the masking policy to\nreference the fully qualified table name to ensure the policy refers to a table in the cloned database.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/section\u003e\n\u003csection id=\"streams\"\u003e\n\u003cspan id=\"label-security-column-intro-streams\"\u003e\u003c/span\u003e\u003ch3\u003eStreams\u003ca class=\"headerlink\" href=\"#streams\" title=\"Link to this heading\"\u003e¶\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eMasking policies on columns in a table carry over to a stream on the same table.\u003c/p\u003e\n\u003cp\u003eThe result is that unauthorized users see masked data; streams created by authorized users see the data as defined by the masking policy.\u003c/p\u003e\n\u003c/section\u003e\n\u003csection id=\"cloned-objects\"\u003e\n\u003cspan id=\"label-security-column-intro-cloned-objects\"\u003e\u003c/span\u003e\u003ch3\u003eCloned objects\u003ca class=\"headerlink\" href=\"#cloned-objects\" title=\"Link to this heading\"\u003e¶\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eThe following approach helps to safeguard data from users with the SELECT privilege on the table or view when accessing a cloned object:\u003c/p\u003e\n\u003cul class=\"simple\"\u003e\n\u003cli\u003e\u003cp\u003eCloning an individual policy object is not supported.\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eCloning a schema results in the cloning of all policies within the schema.\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eA cloned table maps to the same policies as the source table. In other words, if a policy is set on the base table or its columns, the\npolicy is attached to the cloned table or its columns.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cp\u003eWhen a table is cloned in the context of its parent schema cloning, if the source table has a reference to a policy in the same\nparent schema (i.e. a local reference), the cloned table will have a reference to the cloned policy.\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eIf the source table refers to a policy in a different schema (i.e. a foreign reference), then the cloned table retains the\nforeign reference.\u003c/p\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eFor more information, see \u003ca class=\"reference internal\" href=\"../sql-reference/sql/create-clone\"\u003e\u003cspan class=\"doc\"\u003eCREATE \u0026lt;object\u0026gt; … CLONE\u003c/span\u003e\u003c/a\u003e.\u003c/p\u003e\n\u003c/section\u003e\n\u003csection id=\"create-table-as-select-ctas-statements\"\u003e\n\u003cspan id=\"label-security-column-intro-ctas\"\u003e\u003c/span\u003e\u003ch3\u003eCREATE TABLE … AS SELECT (CTAS) statements\u003ca class=\"headerlink\" href=\"#create-table-as-select-ctas-statements\" title=\"Link to this heading\"\u003e¶\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eExecuting a CREATE TABLE … AS SELECT (CTAS) statement applies any masking policies on columns included in the statement \u003cspan class=\"emph\"\u003ebefore\u003c/span\u003e the data is populated in the new table (i.e. the applicable column data is masked in the new table). This flow is adhered to because a table created using a CTAS statement may have a different set of columns than the source objects, and Snowflake cannot apply masking policies to the new table columns implicitly.\u003c/p\u003e\n\u003cp\u003eIf there is a need to copy unmasked data, use a role authorized for protected data to run the CTAS statement. After creating the new table, transfer ownership of the new table to another role and ask the masking policy administrator to apply the masking policies to the columns of the new table.\u003c/p\u003e\n\u003cp\u003eFor more information, see \u003ca class=\"reference internal\" href=\"../sql-reference/sql/create-table\"\u003e\u003cspan class=\"doc\"\u003eCREATE TABLE\u003c/span\u003e\u003c/a\u003e.\u003c/p\u003e\n\u003c/section\u003e\n\u003csection id=\"queries-using-aggregate-functions-and-masked-columns\"\u003e\n\u003cspan id=\"label-security-column-intro-agg-functions\"\u003e\u003c/span\u003e\u003ch3\u003eQueries using aggregate functions and masked columns\u003ca class=\"headerlink\" href=\"#queries-using-aggregate-functions-and-masked-columns\" title=\"Link to this heading\"\u003e¶\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eIt is possible to use \u003ca class=\"reference internal\" href=\"../sql-reference/functions-aggregation\"\u003e\u003cspan class=\"doc\"\u003eAggregate Functions\u003c/span\u003e\u003c/a\u003e on columns with masked data.\u003c/p\u003e\n\u003cp\u003eA representative use case is that a data analyst wants to obtain the \u003ca class=\"reference internal\" href=\"../sql-reference/functions/count\"\u003e\u003cspan class=\"doc\"\u003eCOUNT\u003c/span\u003e\u003c/a\u003e for a column of social security numbers without needing to see the actual data. However, if the data analyst runs a query using \u003ca class=\"reference internal\" href=\"../sql-reference/sql/select\"\u003e\u003cspan class=\"doc\"\u003eSELECT\u003c/span\u003e\u003c/a\u003e on a masked table column, the query returns a fixed masked value. Users with the PAYROLL custom role in the current session see the unmasked data and everyone else sees masked data.\u003c/p\u003e\n\u003cp\u003eTo achieve this outcome:\u003c/p\u003e\n\u003col class=\"arabic\"\u003e\n\u003cli\u003e\u003cp\u003eThe table owner creates a view on the column that contains the aggregate function.\u003c/p\u003e\n\u003cdiv class=\"relative group text-sm\"\u003e\u003cdiv class=\"highlight-sqlexample notranslate\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan class=\"ni\"\u003eCREATE\u003c/span\u003e \u003cspan class=\"ni\"\u003eVIEW\u003c/span\u003e \u003cspan class=\"gi\"\u003essn_count\u003c/span\u003e \u003cspan class=\"ni\"\u003eAS\u003c/span\u003e \u003cspan class=\"ni\"\u003eSELECT\u003c/span\u003e \u003cspan class=\"ni\"\u003eDISTINCT\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"gi\"\u003essn\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"ni\"\u003eFROM\u003c/span\u003e \u003cspan class=\"gi\"\u003etable1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\u003cdiv data-codeblock-index=\"18\" class=\"copybutton\"\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 384 512\" class=\"copybutton-icon icon-copy\"\u003e\u003cpath d=\"M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 512 512\" class=\"copybutton-icon icon-copied hidden\"\u003e\u003cpath d=\"M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003cspan\u003eCopy\u003c/span\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eGrant the ANALYST role full privileges on the view. Do not grant the analyst any privileges on the table.\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eApply a masking policy to the table column. Note that the table policy is always applied before the view policy, if there is a policy on a view column.\u003c/p\u003e\n\u003cdiv class=\"relative group text-sm\"\u003e\u003cdiv class=\"highlight-sqlexample notranslate\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan class=\"ni\"\u003eCASE\u003c/span\u003e\n  \u003cspan class=\"ni\"\u003eWHEN\u003c/span\u003e \u003cspan class=\"nd\"\u003eCURRENT_ROLE\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"ni\"\u003eIN\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nc\"\u003e'PAYROLL'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"ni\"\u003eTHEN\u003c/span\u003e \u003cspan class=\"gi\"\u003eval\u003c/span\u003e\n  \u003cspan class=\"ni\"\u003eELSE\u003c/span\u003e \u003cspan class=\"nc\"\u003e'***MASKED***'\u003c/span\u003e\n\u003cspan class=\"ni\"\u003eEND\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\u003cdiv data-codeblock-index=\"19\" class=\"copybutton\"\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 384 512\" class=\"copybutton-icon icon-copy\"\u003e\u003cpath d=\"M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 512 512\" class=\"copybutton-icon icon-copied hidden\"\u003e\u003cpath d=\"M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003cspan\u003eCopy\u003c/span\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eExecute a query on the view column.\u003c/p\u003e\n\u003cdiv class=\"relative group text-sm\"\u003e\u003cdiv class=\"highlight-sqlexample notranslate\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan class=\"ni\"\u003eUSE\u003c/span\u003e \u003cspan class=\"ni\"\u003eROLE\u003c/span\u003e \u003cspan class=\"gi\"\u003eanalyst\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"ni\"\u003eSELECT\u003c/span\u003e \u003cspan class=\"ni\"\u003eCOUNT\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"ni\"\u003eDISTINCT\u003c/span\u003e \u003cspan class=\"gi\"\u003essn\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"ni\"\u003eFROM\u003c/span\u003e \u003cspan class=\"gi\"\u003ev1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\u003cdiv data-codeblock-index=\"20\" class=\"copybutton\"\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 384 512\" class=\"copybutton-icon icon-copy\"\u003e\u003cpath d=\"M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 512 512\" class=\"copybutton-icon icon-copied hidden\"\u003e\u003cpath d=\"M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003cspan\u003eCopy\u003c/span\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/section\u003e\n\u003csection id=\"user-defined-functions-in-a-masking-policy\"\u003e\n\u003cspan id=\"label-security-column-intro-udf-policy\"\u003e\u003c/span\u003e\u003ch3\u003eUser-defined functions in a masking policy\u003ca class=\"headerlink\" href=\"#user-defined-functions-in-a-masking-policy\" title=\"Link to this heading\"\u003e¶\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eA \u003ca class=\"reference internal\" href=\"../developer-guide/udf/udf-overview\"\u003e\u003cspan class=\"doc\"\u003eUDF\u003c/span\u003e\u003c/a\u003e can be passed into the masking policy conditions.\u003c/p\u003e\n\u003cp\u003eIt is important to ensure that the data type for the table or view column, the UDF, and the masking policy match. If the data\ntypes are different, such as having a table column and UDF with data type VARIANT and the masking policy (with this UDF in the policy\nconditions) returns VARCHAR data type, Snowflake returns an error when making a query on the table column when this masking policy is set\non the table column.\u003c/p\u003e\n\u003cp\u003eFor a representative example of matching the data type for a table column, UDF, and masking policy, see the \u003cem\u003eUsing JavaScript\nUDFs on JSON (Variant)\u003c/em\u003e example in \u003ca class=\"reference internal\" href=\"../sql-reference/sql/create-masking-policy\"\u003e\u003cspan class=\"doc\"\u003eCREATE MASKING POLICY\u003c/span\u003e\u003c/a\u003e.\u003c/p\u003e\n\u003c/section\u003e\n\u003csection id=\"data-sharing\"\u003e\n\u003cspan id=\"label-security-column-intro-data-sharing\"\u003e\u003c/span\u003e\u003ch3\u003eData Sharing\u003ca class=\"headerlink\" href=\"#data-sharing\" title=\"Link to this heading\"\u003e¶\u003c/a\u003e\u003c/h3\u003e\n\u003cdl class=\"field-list\"\u003e\n\u003cdt class=\"field-odd\"\u003eUsage\u003cspan class=\"colon\"\u003e:\u003c/span\u003e\u003c/dt\u003e\n\u003cdd class=\"field-odd\"\u003e\u003cul\u003e\n\u003cli\u003e\u003cp\u003eIf the provider assigns a policy to a shared table or view and the policy conditions call the\n\u003ca class=\"reference internal\" href=\"../sql-reference/functions/current_role\"\u003e\u003cspan class=\"doc\"\u003eCURRENT_ROLE\u003c/span\u003e\u003c/a\u003e or \u003ca class=\"reference internal\" href=\"../sql-reference/functions/current_user\"\u003e\u003cspan class=\"doc\"\u003eCURRENT_USER\u003c/span\u003e\u003c/a\u003e function, or the policy conditions call a \u003ca class=\"reference internal\" href=\"../developer-guide/secure-udf-procedure\"\u003e\u003cspan class=\"doc\"\u003esecure UDF\u003c/span\u003e\u003c/a\u003e, Snowflake returns a NULL value for the function or the UDF in the consumer account.\u003c/p\u003e\n\u003cp\u003eThe reason is that the owner of the data being shared does not typically control the users or roles in the account in which the table\nor view is being shared. As a workaround, use the \u003ca class=\"reference internal\" href=\"../sql-reference/functions/current_account\"\u003e\u003cspan class=\"doc\"\u003eCURRENT_ACCOUNT\u003c/span\u003e\u003c/a\u003e function in the policy conditions.\u003c/p\u003e\n\u003cp\u003eAlternatively, as a provider, write the policy conditions to call the \u003ca class=\"reference internal\" href=\"../sql-reference/functions/is_database_role_in_session\"\u003e\u003cspan class=\"doc\"\u003eIS_DATABASE_ROLE_IN_SESSION\u003c/span\u003e\u003c/a\u003e\nfunction and share the database role. As a consumer, grant the shared database role to an account role. For details, see\n\u003ca class=\"reference internal\" href=\"data-sharing-policy-protected-data\"\u003e\u003cspan class=\"doc\"\u003eShare data protected by a policy\u003c/span\u003e\u003c/a\u003e.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/dd\u003e\n\u003cdt class=\"field-even\"\u003eLimitations\u003cspan class=\"colon\"\u003e:\u003c/span\u003e\u003c/dt\u003e\n\u003cdd class=\"field-even\"\u003e\u003cul\u003e\n\u003cli\u003e\u003cp\u003eA data sharing provider cannot create a policy in a \u003ca class=\"reference internal\" href=\"data-sharing-reader-create\"\u003e\u003cspan class=\"doc\"\u003ereader account\u003c/span\u003e\u003c/a\u003e.\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eData sharing consumers cannot apply a policy to a shared table or view. As a workaround, import the shared database and create a local\nview from the shared table or view.\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eData sharing consumers cannot query a shared table or view that references two different providers. For example:\u003c/p\u003e\n\u003cul class=\"simple\"\u003e\n\u003cli\u003e\u003cp\u003e\u003ccode class=\"docutils literal notranslate\"\u003e\u003cspan class=\"pre\"\u003erap1\u003c/span\u003e\u003c/code\u003e is a row access policy that protects the table named \u003ccode class=\"docutils literal notranslate\"\u003e\u003cspan class=\"pre\"\u003et1\u003c/span\u003e\u003c/code\u003e, where \u003ccode class=\"docutils literal notranslate\"\u003e\u003cspan class=\"pre\"\u003et1\u003c/span\u003e\u003c/code\u003e is in the share named \u003ccode class=\"docutils literal notranslate\"\u003e\u003cspan class=\"pre\"\u003eshare1\u003c/span\u003e\u003c/code\u003e from a provider.\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eThe \u003ccode class=\"docutils literal notranslate\"\u003e\u003cspan class=\"pre\"\u003erap1\u003c/span\u003e\u003c/code\u003e policy conditions reference a mapping table named \u003ccode class=\"docutils literal notranslate\"\u003e\u003cspan class=\"pre\"\u003et2\u003c/span\u003e\u003c/code\u003e, where \u003ccode class=\"docutils literal notranslate\"\u003e\u003cspan class=\"pre\"\u003et2\u003c/span\u003e\u003c/code\u003e comes from \u003ccode class=\"docutils literal notranslate\"\u003e\u003cspan class=\"pre\"\u003eshare2\u003c/span\u003e\u003c/code\u003e and a different provider.\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eThe consumer query on \u003ccode class=\"docutils literal notranslate\"\u003e\u003cspan class=\"pre\"\u003et1\u003c/span\u003e\u003c/code\u003e fails.\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eThe provider for \u003ccode class=\"docutils literal notranslate\"\u003e\u003cspan class=\"pre\"\u003et1\u003c/span\u003e\u003c/code\u003e can query \u003ccode class=\"docutils literal notranslate\"\u003e\u003cspan class=\"pre\"\u003et1\u003c/span\u003e\u003c/code\u003e.\u003c/p\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eExternal functions:\u003c/p\u003e\n\u003cp\u003eSnowflake returns an error if:\u003c/p\u003e\n\u003cul class=\"simple\"\u003e\n\u003cli\u003e\u003cp\u003eThe policy assigned to a shared table or view is updated to call an external function.\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eThe policy calls an external function and you attempt to assign the policy to a shared table or view.\u003c/p\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/dd\u003e\n\u003c/dl\u003e\n\u003cdiv class=\"admonition note\"\u003e\n\u003cp class=\"admonition-title\"\u003eNote\u003c/p\u003e\n\u003cp\u003eFor External Tokenization, \u003ca class=\"reference internal\" href=\"data-sharing-intro\"\u003e\u003cspan class=\"doc\"\u003eSecure Data Sharing\u003c/span\u003e\u003c/a\u003e is not applicable because external functions\ncannot be invoked in the context of a share.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/section\u003e\n\u003csection id=\"replication\"\u003e\n\u003cspan id=\"label-security-column-replication\"\u003e\u003c/span\u003e\u003ch3\u003eReplication\u003ca class=\"headerlink\" href=\"#replication\" title=\"Link to this heading\"\u003e¶\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eMasking policies and their assignments can be replicated using database replication and replication groups.\u003c/p\u003e\n\u003cp\u003eFor \u003ca class=\"reference internal\" href=\"database-replication-considerations\"\u003e\u003cspan class=\"doc\"\u003edatabase replication\u003c/span\u003e\u003c/a\u003e, the replication operation fails if either of the\nfollowing conditions is true:\u003c/p\u003e\n\u003cul class=\"simple\"\u003e\n\u003cli\u003e\u003cp\u003eThe primary database is in an Enterprise (or higher) account and contains a policy but one or more of the accounts approved for\nreplication are on lower editions.\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eA table or view contained in the primary database has a \u003ca class=\"reference internal\" href=\"database-replication-considerations.html#label-database-replication-dangling-references\"\u003e\u003cspan class=\"std std-ref\"\u003edangling reference\u003c/span\u003e\u003c/a\u003e to a\nmasking policy in another database.\u003c/p\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eThe dangling reference behavior for database replication can be avoided when replicating multiple databases in a\n\u003ca class=\"reference internal\" href=\"account-replication-intro.html#label-replication-and-failover-groups\"\u003e\u003cspan class=\"std std-ref\"\u003ereplication group\u003c/span\u003e\u003c/a\u003e.\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cdiv\u003e\u003cdiv class=\"admonition note\"\u003e\n\u003cp class=\"admonition-title\"\u003eNote\u003c/p\u003e\n\u003cp\u003eIf using failover or failback actions, the Snowflake account must be Business Critical Edition or higher.\u003c/p\u003e\n\u003cp\u003eFor more information, see \u003ca class=\"reference internal\" href=\"account-replication-intro\"\u003e\u003cspan class=\"doc\"\u003eIntroduction to replication and failover across multiple accounts\u003c/span\u003e\u003c/a\u003e.\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\u003c/blockquote\u003e\n\u003c/section\u003e\n\u003csection id=\"query-profile\"\u003e\n\u003cspan id=\"label-security-column-intro-query-profile\"\u003e\u003c/span\u003e\u003ch3\u003eQuery profile\u003ca class=\"headerlink\" href=\"#query-profile\" title=\"Link to this heading\"\u003e¶\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eWhen used on a column with a masking policy, the \u003ca class=\"reference internal\" href=\"../sql-reference/sql/explain\"\u003e\u003cspan class=\"doc\"\u003eEXPLAIN\u003c/span\u003e\u003c/a\u003e command output includes the masked data, not the masking policy body.\u003c/p\u003e\n\u003cp\u003eThe following example generates the EXPLAIN plan for a query on a table of employee identification numbers and social security numbers. The command in this example generates the example in JSON format.\u003c/p\u003e\n\u003cp\u003eThe column containing the social security numbers has a masking policy.\u003c/p\u003e\n\u003cdiv class=\"relative group text-sm\"\u003e\u003cdiv class=\"highlight-sqlexample notranslate\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan class=\"ni\"\u003eEXPLAIN\u003c/span\u003e \u003cspan class=\"ni\"\u003eUSING\u003c/span\u003e \u003cspan class=\"ni\"\u003eJSON\u003c/span\u003e \u003cspan class=\"ni\"\u003eSELECT\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"ni\"\u003eFROM\u003c/span\u003e \u003cspan class=\"gi\"\u003emydb\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"ni\"\u003epublic\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"gi\"\u003essn_record\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\u003cdiv data-codeblock-index=\"21\" class=\"copybutton\"\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 384 512\" class=\"copybutton-icon icon-copy\"\u003e\u003cpath d=\"M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 512 512\" class=\"copybutton-icon icon-copied hidden\"\u003e\u003cpath d=\"M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003cspan\u003eCopy\u003c/span\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cdiv class=\"relative group text-sm\"\u003e\u003cdiv class=\"highlight-sqljson notranslate\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan class=\"kt\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"vg\"\u003e\"GlobalStats\":\u003c/span\u003e \u003cspan class=\"kt\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"vg\"\u003e\"partitionsTotal\":\u003c/span\u003e 0,\n    \u003cspan class=\"vg\"\u003e\"partitionsAssigned\":\u003c/span\u003e 0,\n    \u003cspan class=\"vg\"\u003e\"bytesAssigned\":\u003c/span\u003e 0\n  \u003cspan class=\"kt\"\u003e}\u003c/span\u003e,\n  \u003cspan class=\"vg\"\u003e\"Operations\":\u003c/span\u003e \u003cspan class=\"kr\"\u003e[\u003c/span\u003e\n    \u003cspan class=\"kr\"\u003e[\u003c/span\u003e\n      \u003cspan class=\"kt\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"vg\"\u003e\"id\":\u003c/span\u003e 0,\n        \u003cspan class=\"vg\"\u003e\"operation\":\u003c/span\u003e \u003cspan class=\"nv\"\u003e\"Result\"\u003c/span\u003e,\n        \u003cspan class=\"vg\"\u003e\"expressions\":\u003c/span\u003e \u003cspan class=\"kr\"\u003e[\u003c/span\u003e\n          \u003cspan class=\"n\"\u003e\"1\"\u003c/span\u003e,\n          \"'**MASKED**'\"\n        \u003cspan class=\"kr\"\u003e]\u003c/span\u003e\n      \u003cspan class=\"kt\"\u003e}\u003c/span\u003e,\n      \u003cspan class=\"kt\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"vg\"\u003e\"id\":\u003c/span\u003e 1,\n        \u003cspan class=\"vg\"\u003e\"parent\":\u003c/span\u003e 0,\n        \u003cspan class=\"vg\"\u003e\"operation\":\u003c/span\u003e \u003cspan class=\"nv\"\u003e\"Generator\"\u003c/span\u003e,\n        \u003cspan class=\"vg\"\u003e\"expressions\":\u003c/span\u003e \u003cspan class=\"kr\"\u003e[\u003c/span\u003e\n          \u003cspan class=\"n\"\u003e\"1\"\u003c/span\u003e\n        \u003cspan class=\"kr\"\u003e]\u003c/span\u003e\n      \u003cspan class=\"kt\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"kr\"\u003e]\u003c/span\u003e\n  \u003cspan class=\"kr\"\u003e]\u003c/span\u003e\n\u003cspan class=\"kt\"\u003e}\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\u003cdiv data-codeblock-index=\"22\" class=\"copybutton\"\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 384 512\" class=\"copybutton-icon icon-copy\"\u003e\u003cpath d=\"M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 512 512\" class=\"copybutton-icon icon-copied hidden\"\u003e\u003cpath d=\"M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003cspan\u003eCopy\u003c/span\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/section\u003e\n\u003csection id=\"unload-data\"\u003e\n\u003cspan id=\"label-security-column-intro-unload-data\"\u003e\u003c/span\u003e\u003ch3\u003eUnload data\u003ca class=\"headerlink\" href=\"#unload-data\" title=\"Link to this heading\"\u003e¶\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eUsing the \u003ca class=\"reference internal\" href=\"../sql-reference/sql/copy-into-location\"\u003e\u003cspan class=\"doc\"\u003eCOPY INTO \u0026lt;location\u0026gt;\u003c/span\u003e\u003c/a\u003e command on a column that has a masking policy results in the masking policy being applied to the data. Therefore, unauthorized users see masked data after executing the command.\u003c/p\u003e\n\u003c/section\u003e\n\u003csection id=\"naf\"\u003e\n\u003ch3\u003eSnowflake Native App Framework\u003ca class=\"headerlink\" href=\"#naf\" title=\"Link to this heading\"\u003e¶\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eFor details about using masking policies with a Snowflake Native App, see:\u003c/p\u003e\n\u003cul class=\"simple\"\u003e\n\u003cli\u003e\u003cp\u003e\u003ca class=\"reference internal\" href=\"../developer-guide/native-apps/preparing-data-content.html#label-native-apps-share-policy-protected-data\"\u003e\u003cspan class=\"std std-ref\"\u003eRestrictions on sharing data content that contains policies\u003c/span\u003e\u003c/a\u003e.\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e\u003ca class=\"reference internal\" href=\"../developer-guide/native-apps/preparing-data-content.html#label-native-apps-policies-proxy-views\"\u003e\u003cspan class=\"std std-ref\"\u003eDefine policies on proxy views\u003c/span\u003e\u003c/a\u003e.\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e\u003ca class=\"reference internal\" href=\"../developer-guide/native-apps/redacted-content.html#label-native-apps-context-function-limitations\"\u003e\u003cspan class=\"std std-ref\"\u003eBlocked context functions\u003c/span\u003e\u003c/a\u003e.\u003c/p\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/section\u003e\n\u003c/section\u003e\n\u003csection id=\"managing-column-level-security\"\u003e\n\u003cspan id=\"label-security-column-manage\"\u003e\u003c/span\u003e\u003ch2\u003eManaging Column-level Security\u003ca class=\"headerlink\" href=\"#managing-column-level-security\" title=\"Link to this heading\"\u003e¶\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eThis section provides information useful for determining your overall management approach to masking policies, describes the privileges required to manage Column-level Security, and lists supported DDL commands.\u003c/p\u003e\n\u003csection id=\"choosing-a-centralized-hybrid-or-decentralized-approach\"\u003e\n\u003cspan id=\"label-security-column-mgmt-approach\"\u003e\u003c/span\u003e\u003ch3\u003eChoosing a centralized, hybrid, or decentralized approach\u003ca class=\"headerlink\" href=\"#choosing-a-centralized-hybrid-or-decentralized-approach\" title=\"Link to this heading\"\u003e¶\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eTo manage Dynamic Data Masking and External Tokenization policies effectively, it is helpful to consider whether your approach to masking data in columns should follow a centralized security approach, a decentralized approach, or a hybrid of each of these two approaches.\u003c/p\u003e\n\u003cp\u003eThe following table summarizes some of the considerations with each of these two approaches.\u003c/p\u003e\n\u003ctable class=\"docutils align-default\"\u003e\n\u003cthead\u003e\n\u003ctr class=\"row-odd\"\u003e\u003cth class=\"head\"\u003e\u003cp\u003ePolicy\nAction\u003c/p\u003e\u003c/th\u003e\n\u003cth class=\"head\"\u003e\u003cp\u003eCentralized\nManagement\u003c/p\u003e\u003c/th\u003e\n\u003cth class=\"head\"\u003e\u003cp\u003eHybrid\nManagement\u003c/p\u003e\u003c/th\u003e\n\u003cth class=\"head\"\u003e\u003cp\u003eDecentralized\nManagement\u003c/p\u003e\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr class=\"row-even\"\u003e\u003ctd\u003e\u003cp\u003eCreate policies\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp\u003eSecurity officer\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp\u003eSecurity officer\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp\u003eIndividual teams\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr class=\"row-odd\"\u003e\u003ctd\u003e\u003cp\u003eApply policies to columns\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp\u003eSecurity officer\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp\u003eIndividual teams\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp\u003eIndividual teams\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003cp\u003eAs a best practice, Snowflake recommends that your organization gathers all relevant stakeholders to determine the best management approach for implementing Column-level Security in your environment.\u003c/p\u003e\n\u003c/section\u003e\n\u003csection id=\"masking-policy-privileges\"\u003e\n\u003cspan id=\"label-security-column-privileges-masking-policies\"\u003e\u003c/span\u003e\u003ch3\u003eMasking policy privileges\u003ca class=\"headerlink\" href=\"#masking-policy-privileges\" title=\"Link to this heading\"\u003e¶\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eThis section describes the Column-level Security masking policy privileges and how they apply to a centralized, decentralized, or hybrid management approach.\u003c/p\u003e\n\u003cp\u003eSnowflake provides the following privileges for Column-level Security masking policies.\u003c/p\u003e\n\u003cp\u003eNote that operating on any object in a schema also requires the USAGE privilege on the parent database and schema.\u003c/p\u003e\n\u003ctable class=\"docutils align-default\"\u003e\n\u003cthead\u003e\n\u003ctr class=\"row-odd\"\u003e\u003cth class=\"head\"\u003e\u003cp\u003ePrivilege\u003c/p\u003e\u003c/th\u003e\n\u003cth class=\"head\"\u003e\u003cp\u003eUsage\u003c/p\u003e\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr class=\"row-even\"\u003e\u003ctd\u003e\u003cp\u003eCREATE\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp\u003eEnables creating a new masking policy in a schema.\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr class=\"row-odd\"\u003e\u003ctd\u003e\u003cp\u003eAPPLY\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp\u003eEnables executing the unset and set operations for a \u003ca class=\"reference internal\" href=\"#\"\u003e\u003cspan class=\"doc\"\u003emasking policy\u003c/span\u003e\u003c/a\u003e on a column.\u003c/p\u003e\n\u003cp\u003eNote that granting the global APPLY MASKING POLICY privilege (i.e. APPLY MASKING POLICY on ACCOUNT) enables executing the DESCRIBE\noperation on tables and views.\u003c/p\u003e\n\u003cp\u003eFor syntax examples, see \u003ca class=\"reference internal\" href=\"#label-security-column-privileges-masking-policies\"\u003e\u003cspan class=\"std std-ref\"\u003eMasking policy privileges\u003c/span\u003e\u003c/a\u003e.\u003c/p\u003e\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr class=\"row-even\"\u003e\u003ctd\u003e\u003cp\u003eOWNERSHIP\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp\u003eGrants full control over the masking policy. Required to alter most properties of a masking policy. Only a single role can hold this\nprivilege on a specific object at a time.\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003cdiv class=\"admonition note\"\u003e\n\u003cp class=\"admonition-title\"\u003eNote\u003c/p\u003e\n\u003cp\u003eOperating on a masking policy also requires the USAGE privilege on the parent database and schema.\u003c/p\u003e\n\u003c/div\u003e\n\u003cp\u003eThe following examples show how granting privileges apply to different management approaches. After granting the APPLY privilege to a role, the masking policy can be set on a table column using an \u003ca class=\"reference internal\" href=\"../sql-reference/sql/alter-table-column\"\u003e\u003cspan class=\"doc\"\u003eALTER TABLE … ALTER COLUMN\u003c/span\u003e\u003c/a\u003e statement or set on a view column using an \u003ca class=\"reference internal\" href=\"../sql-reference/sql/alter-view\"\u003e\u003cspan class=\"doc\"\u003eALTER VIEW\u003c/span\u003e\u003c/a\u003e statement (by a member of the role with the APPLY privilege on the masking policy).\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eCentralized Management\u003c/strong\u003e\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cdiv\u003e\u003cp\u003eIn a centralized management approach, only the security officer custom role (e.g. \u003ccode class=\"docutils literal notranslate\"\u003e\u003cspan class=\"pre\"\u003esecurity_officer\u003c/span\u003e\u003c/code\u003e) creates and applies masking policies to columns in tables or views. This approach can provide the most consistency in terms of masking policy management and masking sensitive data.\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cdiv\u003e\u003cdiv class=\"relative group text-sm\"\u003e\u003cdiv class=\"highlight-sqlexample notranslate\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan class=\"py\"\u003e-- create a security_officer custom role\u003c/span\u003e\n\n\u003cspan class=\"ni\"\u003eUSE\u003c/span\u003e \u003cspan class=\"ni\"\u003eROLE\u003c/span\u003e \u003cspan class=\"gi\"\u003eACCOUNTADMIN\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"ni\"\u003eCREATE\u003c/span\u003e \u003cspan class=\"ni\"\u003eROLE\u003c/span\u003e \u003cspan class=\"gi\"\u003esecurity_officer\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"py\"\u003e-- grant CREATE AND APPLY masking policy privileges to the SECURITY_OFFICER custom role.\u003c/span\u003e\n\n\u003cspan class=\"ni\"\u003eGRANT\u003c/span\u003e \u003cspan class=\"ni\"\u003eCREATE\u003c/span\u003e \u003cspan class=\"ni\"\u003eMASKING POLICY\u003c/span\u003e \u003cspan class=\"ni\"\u003eON\u003c/span\u003e \u003cspan class=\"ni\"\u003eSCHEMA\u003c/span\u003e \u003cspan class=\"gi\"\u003emydb\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"gi\"\u003emysch\u003c/span\u003e \u003cspan class=\"ni\"\u003eTO\u003c/span\u003e \u003cspan class=\"ni\"\u003eROLE\u003c/span\u003e \u003cspan class=\"gi\"\u003esecurity_officer\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"ni\"\u003eGRANT\u003c/span\u003e \u003cspan class=\"ni\"\u003eAPPLY\u003c/span\u003e \u003cspan class=\"ni\"\u003eMASKING POLICY\u003c/span\u003e \u003cspan class=\"ni\"\u003eON\u003c/span\u003e \u003cspan class=\"ni\"\u003eACCOUNT\u003c/span\u003e \u003cspan class=\"ni\"\u003eTO\u003c/span\u003e \u003cspan class=\"ni\"\u003eROLE\u003c/span\u003e \u003cspan class=\"gi\"\u003esecurity_officer\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\u003cdiv data-codeblock-index=\"23\" class=\"copybutton\"\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 384 512\" class=\"copybutton-icon icon-copy\"\u003e\u003cpath d=\"M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 512 512\" class=\"copybutton-icon icon-copied hidden\"\u003e\u003cpath d=\"M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003cspan\u003eCopy\u003c/span\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp\u003eWhere:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cdl\u003e\n\u003cdt\u003e\u003ccode class=\"samp docutils literal notranslate\"\u003e\u003cem\u003e\u003cspan class=\"pre\"\u003eschema_name\u003c/span\u003e\u003c/em\u003e\u003c/code\u003e\u003c/dt\u003e\u003cdd\u003e\u003cp\u003eSpecifies the identifier for the schema; must be unique for the database in which the schema is created.\u003c/p\u003e\n\u003cp\u003eIn addition, the identifier must start with an alphabetic character and cannot contain spaces or special characters unless the entire identifier string is enclosed in double quotes (e.g. “My object”). Identifiers enclosed in double quotes are also case-sensitive.\u003c/p\u003e\n\u003cp\u003eFor more details, see \u003ca class=\"reference internal\" href=\"../sql-reference/identifiers-syntax\"\u003e\u003cspan class=\"doc\"\u003eIdentifier requirements\u003c/span\u003e\u003c/a\u003e.\u003c/p\u003e\n\u003c/dd\u003e\n\u003c/dl\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\u003c/blockquote\u003e\n\u003c/div\u003e\u003c/blockquote\u003e\n\u003cp\u003e\u003cstrong\u003eHybrid Management\u003c/strong\u003e\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cdiv\u003e\u003cp\u003eIn a hybrid management approach, the security officer custom role (e.g. \u003ccode class=\"docutils literal notranslate\"\u003e\u003cspan class=\"pre\"\u003esecurity_officer\u003c/span\u003e\u003c/code\u003e) creates masking policies and individual teams (e.g. finance, payroll, human resources) apply the masking policies to columns in tables or views owned by the teams. This approach can lead to consistent policy creation and maintenance but requires individual teams to have the increased responsibility to mask sensitive data.\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cdiv\u003e\u003cdiv class=\"relative group text-sm\"\u003e\u003cdiv class=\"highlight-sqlexample notranslate\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan class=\"ni\"\u003eUSE\u003c/span\u003e \u003cspan class=\"ni\"\u003eROLE\u003c/span\u003e \u003cspan class=\"gi\"\u003eACCOUNTADMIN\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"ni\"\u003eCREATE\u003c/span\u003e \u003cspan class=\"ni\"\u003eROLE\u003c/span\u003e \u003cspan class=\"gi\"\u003esecurity_officer\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"ni\"\u003eGRANT\u003c/span\u003e \u003cspan class=\"ni\"\u003eCREATE\u003c/span\u003e \u003cspan class=\"ni\"\u003eMASKING POLICY\u003c/span\u003e \u003cspan class=\"ni\"\u003eON\u003c/span\u003e \u003cspan class=\"ni\"\u003eSCHEMA\u003c/span\u003e \u003cspan class=\"gi\"\u003emydb\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"gi\"\u003emysch\u003c/span\u003e \u003cspan class=\"ni\"\u003eTO\u003c/span\u003e \u003cspan class=\"ni\"\u003eROLE\u003c/span\u003e \u003cspan class=\"gi\"\u003esecurity_officer\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\u003cdiv data-codeblock-index=\"24\" class=\"copybutton\"\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 384 512\" class=\"copybutton-icon icon-copy\"\u003e\u003cpath d=\"M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 512 512\" class=\"copybutton-icon icon-copied hidden\"\u003e\u003cpath d=\"M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003cspan\u003eCopy\u003c/span\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/div\u003e\u003c/blockquote\u003e\n\u003cp\u003eThe SECURITY_OFFICER custom role grants the APPLY privilege to the human resources team (i.e. users with the HUMAN_RESOURCES custom role) to mask social security numbers (e.g. masking policy: \u003ccode class=\"code docutils literal notranslate\"\u003e\u003cspan class=\"pre\"\u003essn_mask\u003c/span\u003e\u003c/code\u003e) in columns for objects owned by the HUMAN_RESOURCES custom role.\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cdiv\u003e\u003cdiv class=\"relative group text-sm\"\u003e\u003cdiv class=\"highlight-sqlexample notranslate\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan class=\"ni\"\u003eUSE\u003c/span\u003e \u003cspan class=\"ni\"\u003eROLE\u003c/span\u003e \u003cspan class=\"gi\"\u003esecurity_officer\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"ni\"\u003eGRANT\u003c/span\u003e \u003cspan class=\"ni\"\u003eAPPLY\u003c/span\u003e \u003cspan class=\"ni\"\u003eON\u003c/span\u003e \u003cspan class=\"ni\"\u003eMASKING POLICY\u003c/span\u003e \u003cspan class=\"gi\"\u003essn_mask\u003c/span\u003e \u003cspan class=\"ni\"\u003eTO\u003c/span\u003e \u003cspan class=\"ni\"\u003eROLE\u003c/span\u003e \u003cspan class=\"gi\"\u003ehuman_resources\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\u003cdiv data-codeblock-index=\"25\" class=\"copybutton\"\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 384 512\" class=\"copybutton-icon icon-copy\"\u003e\u003cpath d=\"M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 512 512\" class=\"copybutton-icon icon-copied hidden\"\u003e\u003cpath d=\"M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003cspan\u003eCopy\u003c/span\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp\u003eWhere:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cdl\u003e\n\u003cdt\u003e\u003ccode class=\"samp docutils literal notranslate\"\u003e\u003cspan class=\"pre\"\u003egrant\u003c/span\u003e \u003cspan class=\"pre\"\u003eapply\u003c/span\u003e \u003cspan class=\"pre\"\u003eon\u003c/span\u003e \u003cspan class=\"pre\"\u003emasking\u003c/span\u003e \u003cspan class=\"pre\"\u003epolicy\u003c/span\u003e \u003cem\u003e\u003cspan class=\"pre\"\u003epolicy_name\u003c/span\u003e\u003c/em\u003e \u003cspan class=\"pre\"\u003eto\u003c/span\u003e \u003cspan class=\"pre\"\u003erole\u003c/span\u003e \u003cem\u003e\u003cspan class=\"pre\"\u003erole_name\u003c/span\u003e\u003c/em\u003e\u003cspan class=\"pre\"\u003e;\u003c/span\u003e\u003c/code\u003e\u003c/dt\u003e\u003cdd\u003e\u003cp\u003eUsed by a policy owner to decentralize the unset and set operations of a given masking policy on columns to the object owners.\u003c/p\u003e\n\u003cp\u003eThis privilege supports \u003ca class=\"reference internal\" href=\"security-access-control-overview\"\u003e\u003cspan class=\"doc\"\u003ediscretionary access control\u003c/span\u003e\u003c/a\u003e where object owners are also considered data stewards.\u003c/p\u003e\n\u003c/dd\u003e\n\u003c/dl\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\u003c/blockquote\u003e\n\u003c/div\u003e\u003c/blockquote\u003e\n\u003cp\u003e\u003cstrong\u003eDecentralized Approach\u003c/strong\u003e\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cdiv\u003e\u003cp\u003eIn a decentralized management approach, individual teams create and apply masking policies to columns in tables or views. This approach can lead to inconsistent policy management, with the possibility of sensitive data not being masked properly, since individual teams assume all responsibility for managing masking policies and masking sensitive data.\u003c/p\u003e\n\u003cp\u003eIn this representative example, the support team (i.e. users with the custom role SUPPORT) and the finance team (i.e. users with the custom role FINANCE) can create masking policies. Note that these custom roles may not include the SECURITY_OFFICER custom role.\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cdiv\u003e\u003cdiv class=\"relative group text-sm\"\u003e\u003cdiv class=\"highlight-sqlexample notranslate\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan class=\"ni\"\u003eUSE\u003c/span\u003e \u003cspan class=\"ni\"\u003eROLE\u003c/span\u003e \u003cspan class=\"gi\"\u003eACCOUNTADMIN\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"ni\"\u003eGRANT\u003c/span\u003e \u003cspan class=\"ni\"\u003eCREATE\u003c/span\u003e \u003cspan class=\"ni\"\u003eMASKING POLICY\u003c/span\u003e \u003cspan class=\"ni\"\u003eON\u003c/span\u003e \u003cspan class=\"ni\"\u003eSCHEMA\u003c/span\u003e \u003cspan class=\"gi\"\u003emydb\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"gi\"\u003emysch\u003c/span\u003e \u003cspan class=\"ni\"\u003eTO\u003c/span\u003e \u003cspan class=\"ni\"\u003eROLE\u003c/span\u003e \u003cspan class=\"gi\"\u003esupport\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"ni\"\u003eGRANT\u003c/span\u003e \u003cspan class=\"ni\"\u003eCREATE\u003c/span\u003e \u003cspan class=\"ni\"\u003eMASKING POLICY\u003c/span\u003e \u003cspan class=\"ni\"\u003eON\u003c/span\u003e \u003cspan class=\"ni\"\u003eSCHEMA\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"gi\"\u003eDB_NAME\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"ni\"\u003eSCHEMA_NAME\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"ni\"\u003eTO\u003c/span\u003e \u003cspan class=\"ni\"\u003eROLE\u003c/span\u003e \u003cspan class=\"gi\"\u003eFINANCE\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\u003cdiv data-codeblock-index=\"26\" class=\"copybutton\"\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 384 512\" class=\"copybutton-icon icon-copy\"\u003e\u003cpath d=\"M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 512 512\" class=\"copybutton-icon icon-copied hidden\"\u003e\u003cpath d=\"M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003cspan\u003eCopy\u003c/span\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/div\u003e\u003c/blockquote\u003e\n\u003cp\u003eThe support team grants the APPLY privilege to the human resources team (i.e. users with the custom role HUMAN_RESOURCES) to mask social security numbers (e.g. masking policy: \u003ccode class=\"code docutils literal notranslate\"\u003e\u003cspan class=\"pre\"\u003essn_mask\u003c/span\u003e\u003c/code\u003e) in columns for objects owned by the HUMAN_RESOURCES custom role.\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cdiv\u003e\u003cdiv class=\"relative group text-sm\"\u003e\u003cdiv class=\"highlight-sqlexample notranslate\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan class=\"ni\"\u003eUSE\u003c/span\u003e \u003cspan class=\"ni\"\u003eROLE\u003c/span\u003e \u003cspan class=\"gi\"\u003esupport\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"ni\"\u003eGRANT\u003c/span\u003e \u003cspan class=\"ni\"\u003eAPPLY\u003c/span\u003e \u003cspan class=\"ni\"\u003eON\u003c/span\u003e \u003cspan class=\"ni\"\u003eMASKING POLICY\u003c/span\u003e \u003cspan class=\"gi\"\u003essn_mask\u003c/span\u003e \u003cspan class=\"ni\"\u003eTO\u003c/span\u003e \u003cspan class=\"ni\"\u003eROLE\u003c/span\u003e \u003cspan class=\"gi\"\u003ehuman_resources\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\u003cdiv data-codeblock-index=\"27\" class=\"copybutton\"\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 384 512\" class=\"copybutton-icon icon-copy\"\u003e\u003cpath d=\"M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 512 512\" class=\"copybutton-icon icon-copied hidden\"\u003e\u003cpath d=\"M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003cspan\u003eCopy\u003c/span\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/div\u003e\u003c/blockquote\u003e\n\u003cp\u003eThe finance team grants the APPLY privilege to the internal audit team (i.e. users with the custom role AUDIT_INTERNAL) to mask cash flow data (e.g. masking policy: \u003ccode class=\"code docutils literal notranslate\"\u003e\u003cspan class=\"pre\"\u003ecash_flow_mask\u003c/span\u003e\u003c/code\u003e) in columns for objects owned by the AUDIT_INTERNAL custom role.\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cdiv\u003e\u003cdiv class=\"relative group text-sm\"\u003e\u003cdiv class=\"highlight-sqlexample notranslate\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan class=\"ni\"\u003eUSE\u003c/span\u003e \u003cspan class=\"ni\"\u003eROLE\u003c/span\u003e \u003cspan class=\"gi\"\u003efinance\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"ni\"\u003eGRANT\u003c/span\u003e \u003cspan class=\"ni\"\u003eAPPLY\u003c/span\u003e \u003cspan class=\"ni\"\u003eON\u003c/span\u003e \u003cspan class=\"ni\"\u003eMASKING POLICY\u003c/span\u003e \u003cspan class=\"gi\"\u003ecash_flow_mask\u003c/span\u003e \u003cspan class=\"ni\"\u003eTO\u003c/span\u003e \u003cspan class=\"ni\"\u003eROLE\u003c/span\u003e \u003cspan class=\"gi\"\u003eaudit_internal\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\u003cdiv data-codeblock-index=\"28\" class=\"copybutton\"\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 384 512\" class=\"copybutton-icon icon-copy\"\u003e\u003cpath d=\"M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 512 512\" class=\"copybutton-icon icon-copied hidden\"\u003e\u003cpath d=\"M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003cspan\u003eCopy\u003c/span\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/div\u003e\u003c/blockquote\u003e\n\u003c/div\u003e\u003c/blockquote\u003e\n\u003cp\u003eFor more information on masking policy privileges, see:\u003c/p\u003e\n\u003cul class=\"simple\"\u003e\n\u003cli\u003e\u003cp\u003e\u003ca class=\"reference internal\" href=\"security-column-ddm-use\"\u003e\u003cspan class=\"doc\"\u003eUsing Dynamic Data Masking\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e\u003ca class=\"reference internal\" href=\"security-column-ext-token-use\"\u003e\u003cspan class=\"doc\"\u003eUsing External Tokenization\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/section\u003e\n\u003csection id=\"masking-policy-ddl\"\u003e\n\u003cspan id=\"label-security-column-intro-ddl\"\u003e\u003c/span\u003e\u003ch3\u003eMasking policy DDL\u003ca class=\"headerlink\" href=\"#masking-policy-ddl\" title=\"Link to this heading\"\u003e¶\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eSnowflake provides the following set of commands to manage Column-level Security masking policies.\u003c/p\u003e\n\u003cul class=\"simple\"\u003e\n\u003cli\u003e\u003cp\u003e\u003ca class=\"reference internal\" href=\"../sql-reference/sql/create-masking-policy\"\u003e\u003cspan class=\"doc\"\u003eCREATE MASKING POLICY\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e\u003ca class=\"reference internal\" href=\"../sql-reference/sql/alter-masking-policy\"\u003e\u003cspan class=\"doc\"\u003eALTER MASKING POLICY\u003c/span\u003e\u003c/a\u003e (see also: \u003ca class=\"reference internal\" href=\"../sql-reference/sql/alter-table\"\u003e\u003cspan class=\"doc\"\u003eALTER TABLE\u003c/span\u003e\u003c/a\u003e, \u003ca class=\"reference internal\" href=\"../sql-reference/sql/alter-table-column\"\u003e\u003cspan class=\"doc\"\u003eALTER TABLE … ALTER COLUMN\u003c/span\u003e\u003c/a\u003e, and \u003ca class=\"reference internal\" href=\"../sql-reference/sql/alter-view\"\u003e\u003cspan class=\"doc\"\u003eALTER VIEW\u003c/span\u003e\u003c/a\u003e)\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e\u003ca class=\"reference internal\" href=\"../sql-reference/sql/drop-masking-policy\"\u003e\u003cspan class=\"doc\"\u003eDROP MASKING POLICY\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e\u003ca class=\"reference internal\" href=\"../sql-reference/sql/show-masking-policies\"\u003e\u003cspan class=\"doc\"\u003eSHOW MASKING POLICIES\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e\u003ca class=\"reference internal\" href=\"../sql-reference/sql/desc-masking-policy\"\u003e\u003cspan class=\"doc\"\u003eDESCRIBE MASKING POLICY\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eThe following table summarizes the relationship between the Column-level Security masking policy DDL operations and their necessary privileges.\u003c/p\u003e\n\u003cp\u003eNote that operating on any object in a schema also requires the USAGE privilege on the parent database and schema.\u003c/p\u003e\n\u003ctable class=\"docutils align-default\"\u003e\n\u003ccolgroup\u003e\n\u003ccol style=\"width: 24.0%\"\u003e\n\u003ccol style=\"width: 76.0%\"\u003e\n\u003c/colgroup\u003e\n\u003cthead\u003e\n\u003ctr class=\"row-odd\"\u003e\u003cth class=\"head\"\u003e\u003cp\u003eOperation\u003c/p\u003e\u003c/th\u003e\n\u003cth class=\"head\"\u003e\u003cp\u003ePrivilege\u003c/p\u003e\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr class=\"row-even\"\u003e\u003ctd\u003e\u003cp\u003eCreate masking policy\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp\u003eA role with the CREATE MASKING POLICY on SCHEMA privilege.\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr class=\"row-odd\"\u003e\u003ctd\u003e\u003cp\u003eAlter masking policy\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp\u003eThe masking policy owner (i.e. the role with the OWNERSHIP privilege on the masking policy).\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr class=\"row-even\"\u003e\u003ctd\u003e\u003cp\u003eDrop masking policy\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp\u003eThe masking policy owner (i.e. the role with the OWNERSHIP privilege on the masking policy).\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr class=\"row-odd\"\u003e\u003ctd\u003e\u003cp\u003eShow masking policies\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp\u003eOne of the following: \u003cspan class=\"newline\"\u003e.\u003c/span\u003e\nA role with the global APPLY MASKING POLICY privilege, \u003cspan class=\"emph\"\u003eor\u003c/span\u003e \u003cspan class=\"newline\"\u003e.\u003c/span\u003e\nThe masking policy owner (i.e. the role with the OWNERSHIP privilege on the masking policy) \u003cspan class=\"emph\"\u003eor\u003c/span\u003e \u003cspan class=\"newline\"\u003e.\u003c/span\u003e\nA role with the APPLY privilege on the masking policy.\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr class=\"row-even\"\u003e\u003ctd\u003e\u003cp\u003eDescribe masking policy\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp\u003eOne of the following: \u003cspan class=\"newline\"\u003e.\u003c/span\u003e\nA role with the global APPLY MASKING POLICY privilege \u003cspan class=\"emph\"\u003eor\u003c/span\u003e \u003cspan class=\"newline\"\u003e.\u003c/span\u003e\nThe masking policy owner (i.e. the role with the OWNERSHIP privilege on the masking policy) \u003cspan class=\"emph\"\u003eor\u003c/span\u003e \u003cspan class=\"newline\"\u003e.\u003c/span\u003e\nA role with the APPLY privilege on the masking policy.\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr class=\"row-odd\"\u003e\u003ctd\u003e\u003cp\u003eList of columns having a masking policy\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp\u003eOne of the following: \u003cspan class=\"newline\"\u003e.\u003c/span\u003e\nThe role with the APPLY MASKING POLICY privilege, \u003cspan class=\"emph\"\u003eor\u003c/span\u003e \u003cspan class=\"newline\"\u003e.\u003c/span\u003e\nThe role with the APPLY on MASKING POLICY privilege on a given masking policy \u003cspan class=\"emph\"\u003eand\u003c/span\u003e has OWNERSHIP on the target object.\u003c/p\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr class=\"row-even\"\u003e\u003ctd\u003e\u003cp\u003eUsing UDFs in a masking policy\u003c/p\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cp\u003eIf creating a new or altering an existing masking policy, the policy administrator role must have usage on the UDF, all scalar UDFs\nin the policy expression should have the same data type, and the UDF must exist.\u003c/p\u003e\n\u003cp\u003eAt the query runtime, Snowflake verifies if the UDF exists; if not, the SQL expression will not resolve and the query fails.\u003c/p\u003e\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003c/section\u003e\n\u003c/section\u003e\n\u003csection id=\"monitor-masking-policies-with-sql\"\u003e\n\u003ch2\u003eMonitor masking policies with SQL\u003ca class=\"headerlink\" href=\"#monitor-masking-policies-with-sql\" title=\"Link to this heading\"\u003e¶\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eYou can monitor masking policy usage through two different Account Usage views and an Information Schema table.\u003c/p\u003e\n\u003cp\u003eIt can be helpful to think of two general approaches to determine how to monitor masking policy usage.\u003c/p\u003e\n\u003cul class=\"simple\"\u003e\n\u003cli\u003e\u003cp\u003e\u003ca class=\"reference internal\" href=\"#discover-masking-policies\"\u003eDiscover Masking Policies\u003c/a\u003e\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e\u003ca class=\"reference internal\" href=\"#identify-assignments\"\u003eIdentify Assignments\u003c/a\u003e\u003c/p\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003csection id=\"discover-masking-policies\"\u003e\n\u003ch3\u003eDiscover masking policies\u003ca class=\"headerlink\" href=\"#discover-masking-policies\" title=\"Link to this heading\"\u003e¶\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eYou can use the \u003ca class=\"reference internal\" href=\"../sql-reference/account-usage/masking_policies\"\u003e\u003cspan class=\"doc\"\u003eMASKING_POLICIES\u003c/span\u003e\u003c/a\u003e view in the Account Usage schema of the shared\nSNOWFLAKE database. This view is a \u003cem\u003ecatalog\u003c/em\u003e for all masking policies in your Snowflake account. For example:\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cdiv\u003e\u003cdiv class=\"relative group text-sm\"\u003e\u003cdiv class=\"highlight-sqlexample notranslate\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan class=\"ni\"\u003eSELECT\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"ni\"\u003eFROM\u003c/span\u003e \u003cspan class=\"gi\"\u003eSNOWFLAKE\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"gi\"\u003eACCOUNT_USAGE\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"gi\"\u003eMASKING_POLICIES\u003c/span\u003e\n\u003cspan class=\"ni\"\u003eORDER\u003c/span\u003e \u003cspan class=\"ni\"\u003eBY\u003c/span\u003e \u003cspan class=\"ni\"\u003ePOLICY_NAME\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\u003cdiv data-codeblock-index=\"29\" class=\"copybutton\"\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 384 512\" class=\"copybutton-icon icon-copy\"\u003e\u003cpath d=\"M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 512 512\" class=\"copybutton-icon icon-copied hidden\"\u003e\u003cpath d=\"M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003cspan\u003eCopy\u003c/span\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/div\u003e\u003c/blockquote\u003e\n\u003c/section\u003e\n\u003csection id=\"identify-assignments\"\u003e\n\u003ch3\u003eIdentify assignments\u003ca class=\"headerlink\" href=\"#identify-assignments\" title=\"Link to this heading\"\u003e¶\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eSnowflake supports different options to identify masking policy assignments, depending on whether the query needs to target the account\nor a specific database.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cp\u003eAccount-level query:\u003c/p\u003e\n\u003cp\u003eUse the Account Usage \u003ca class=\"reference internal\" href=\"../sql-reference/account-usage/tag_references\"\u003e\u003cspan class=\"doc\"\u003ePOLICY_REFERENCES\u003c/span\u003e\u003c/a\u003e view to determine all of the columns\nthat have a masking policy. For example:\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cdiv\u003e\u003cdiv class=\"relative group text-sm\"\u003e\u003cdiv class=\"highlight-sqlexample notranslate\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan class=\"ni\"\u003eSELECT\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e \u003cspan class=\"ni\"\u003eFROM\u003c/span\u003e \u003cspan class=\"gi\"\u003eSNOWFLAKE\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"gi\"\u003eACCOUNT_USAGE\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nd\"\u003ePOLICY_REFERENCES\u003c/span\u003e\n\u003cspan class=\"ni\"\u003eORDER\u003c/span\u003e \u003cspan class=\"ni\"\u003eBY\u003c/span\u003e \u003cspan class=\"ni\"\u003ePOLICY_NAME\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"gi\"\u003eREF_COLUMN_NAME\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\u003cdiv data-codeblock-index=\"30\" class=\"copybutton\"\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 384 512\" class=\"copybutton-icon icon-copy\"\u003e\u003cpath d=\"M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 512 512\" class=\"copybutton-icon icon-copied hidden\"\u003e\u003cpath d=\"M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003cspan\u003eCopy\u003c/span\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/div\u003e\u003c/blockquote\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eDatabase-level query:\u003c/p\u003e\n\u003cp\u003eEvery Snowflake database includes an \u003ca class=\"reference internal\" href=\"../sql-reference/info-schema\"\u003e\u003cspan class=\"doc\"\u003eSnowflake Information Schema\u003c/span\u003e\u003c/a\u003e. Use the Information Schema table function\n\u003ca class=\"reference internal\" href=\"../sql-reference/functions/policy_references\"\u003e\u003cspan class=\"doc\"\u003ePOLICY_REFERENCES\u003c/span\u003e\u003c/a\u003e to determine all of the masking policies on columns for a given table:\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cdiv\u003e\u003cdiv class=\"relative group text-sm\"\u003e\u003cdiv class=\"highlight-sqlexample notranslate\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan class=\"ni\"\u003eSELECT\u003c/span\u003e \u003cspan class=\"p\"\u003e*\u003c/span\u003e\n\u003cspan class=\"ni\"\u003eFROM\u003c/span\u003e \u003cspan class=\"ni\"\u003eTABLE\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n  \u003cspan class=\"gi\"\u003emy_db\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"ni\"\u003eINFORMATION_SCHEMA\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nd\"\u003ePOLICY_REFERENCES\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n    \u003cspan class=\"nc\"\u003e'my_table'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"nc\"\u003e'table'\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\u003cdiv data-codeblock-index=\"31\" class=\"copybutton\"\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 384 512\" class=\"copybutton-icon icon-copy\"\u003e\u003cpath d=\"M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 512 512\" class=\"copybutton-icon icon-copied hidden\"\u003e\u003cpath d=\"M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003cspan\u003eCopy\u003c/span\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/div\u003e\u003c/blockquote\u003e\n\u003cp\u003eYou can also use this function to query by the name of the masking policy to find the objects that are associated with a\ngiven masking policy.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/section\u003e\n\u003c/section\u003e\n\u003csection id=\"monitor-masking-policies-with-sf-web-interface\"\u003e\n\u003cspan id=\"label-security-column-intro-snowsight\"\u003e\u003c/span\u003e\u003ch2\u003eMonitor masking policies with Snowsight\u003ca class=\"headerlink\" href=\"#monitor-masking-policies-with-sf-web-interface\" title=\"Link to this heading\"\u003e¶\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eYou can use the Snowsight \u003cspan class=\"ui\"\u003eMonitoring\u003c/span\u003e » \u003cspan class=\"ui\"\u003eGovernance\u003c/span\u003e area to monitor and report on the usage of policies and tags with\ntables, views, and columns. There are two different interfaces: \u003cspan class=\"ui\"\u003eDashboard\u003c/span\u003e and \u003cspan class=\"ui\"\u003eTagged Objects\u003c/span\u003e.\u003c/p\u003e\n\u003cp\u003eWhen using the \u003cspan class=\"ui\"\u003eDashboard\u003c/span\u003e and the \u003cspan class=\"ui\"\u003eTagged Objects\u003c/span\u003e interface, note the following details.\u003c/p\u003e\n\u003cul class=\"simple\"\u003e\n\u003cli\u003e\u003cp\u003eThe \u003cspan class=\"ui\"\u003eDashboard\u003c/span\u003e and \u003cspan class=\"ui\"\u003eTagged Objects\u003c/span\u003e interfaces require a running warehouse.\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eSnowsight updates the \u003cspan class=\"ui\"\u003eDashboard\u003c/span\u003e every 12 hours.\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eThe \u003cspan class=\"ui\"\u003eTagged Objects\u003c/span\u003e information latency can be up to two hours and returns up to 1000 objects.\u003c/p\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003csection id=\"accessing-the-governance-area-in-snowsight\"\u003e\n\u003ch3\u003eAccessing the Governance area in Snowsight\u003ca class=\"headerlink\" href=\"#accessing-the-governance-area-in-snowsight\" title=\"Link to this heading\"\u003e¶\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eTo access the \u003cspan class=\"ui\"\u003eGovernance\u003c/span\u003e area, your Snowflake account must be \u003ca class=\"reference internal\" href=\"intro-editions\"\u003e\u003cspan class=\"doc\"\u003eEnterprise Edition or higher\u003c/span\u003e\u003c/a\u003e.\nAdditionally, you must do either of the following:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cp\u003eUse the ACCOUNTADMIN role.\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eUse an account role that is \u003cspan class=\"emph\"\u003edirectly\u003c/span\u003e granted the GOVERNANCE_VIEWER \u003cspan class=\"emph\"\u003eand\u003c/span\u003e OBJECT_VIEWER database roles.\u003c/p\u003e\n\u003cp\u003eYou \u003cspan class=\"emph\"\u003emust\u003c/span\u003e use an account role with these database role grants. Currently, Snowsight does not evaluate role hierarchies\nand user-defined database roles that have access to tables, views, data access policies, and tags.\u003c/p\u003e\n\u003cp\u003eTo determine if your account role is granted these two database roles, use a \u003ca class=\"reference internal\" href=\"../sql-reference/sql/show-grants\"\u003e\u003cspan class=\"doc\"\u003eSHOW GRANTS\u003c/span\u003e\u003c/a\u003e command:\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cdiv\u003e\u003cdiv class=\"relative group text-sm\"\u003e\u003cdiv class=\"highlight-sqlexample notranslate\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan class=\"ni\"\u003eSHOW\u003c/span\u003e \u003cspan class=\"ni\"\u003eGRANTS\u003c/span\u003e \u003cspan class=\"ni\"\u003eLIKE\u003c/span\u003e \u003cspan class=\"nc\"\u003e'%VIEWER%'\u003c/span\u003e \u003cspan class=\"ni\"\u003eTO\u003c/span\u003e \u003cspan class=\"ni\"\u003eROLE\u003c/span\u003e \u003cspan class=\"gi\"\u003edata_engineer\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\u003cdiv data-codeblock-index=\"32\" class=\"copybutton\"\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 384 512\" class=\"copybutton-icon icon-copy\"\u003e\u003cpath d=\"M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 512 512\" class=\"copybutton-icon icon-copied hidden\"\u003e\u003cpath d=\"M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003cspan\u003eCopy\u003c/span\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight-output notranslate\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan class=\"go\"\u003e|-------------------------------+-----------+---------------+-----------------------------+------------+-----------------+--------------+------------|\u003c/span\u003e\n\u003cspan class=\"go\"\u003e| created_on                    | privilege | granted_on    | name                        | granted_to | grantee_name    | grant_option | granted_by |\u003c/span\u003e\n\u003cspan class=\"go\"\u003e|-------------------------------+-----------+---------------+-----------------------------+------------+-----------------+--------------+------------|\u003c/span\u003e\n\u003cspan class=\"go\"\u003e| 2024-01-24 17:12:26.984 +0000 | USAGE     | DATABASE_ROLE | SNOWFLAKE.GOVERNANCE_VIEWER | ROLE       | DATA_ENGINEER   | false        |            |\u003c/span\u003e\n\u003cspan class=\"go\"\u003e| 2024-01-24 17:12:47.967 +0000 | USAGE     | DATABASE_ROLE | SNOWFLAKE.OBJECT_VIEWER     | ROLE       | DATA_ENGINEER   | false        |            |\u003c/span\u003e\n\u003cspan class=\"go\"\u003e|-------------------------------+-----------+---------------+-----------------------------+------------+-----------------+--------------+------------|\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\u003c/blockquote\u003e\n\u003cdiv class=\"line-block\"\u003e\n\u003cdiv class=\"line\"\u003e\u003cbr\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp\u003eIf your account role is not granted either or both of these database roles, use the \u003ca class=\"reference internal\" href=\"../sql-reference/sql/grant-database-role\"\u003e\u003cspan class=\"doc\"\u003eGRANT DATABASE ROLE\u003c/span\u003e\u003c/a\u003e command\nand run the SHOW GRANTS command again to confirm the grants:\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cdiv\u003e\u003cdiv class=\"relative group text-sm\"\u003e\u003cdiv class=\"highlight-sqlexample notranslate\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan class=\"ni\"\u003eUSE\u003c/span\u003e \u003cspan class=\"ni\"\u003eROLE\u003c/span\u003e \u003cspan class=\"gi\"\u003eACCOUNTADMIN\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"ni\"\u003eGRANT\u003c/span\u003e \u003cspan class=\"ni\"\u003eDATABASE\u003c/span\u003e \u003cspan class=\"ni\"\u003eROLE\u003c/span\u003e \u003cspan class=\"gi\"\u003eSNOWFLAKE\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"gi\"\u003eGOVERNANCE_VIEWER\u003c/span\u003e \u003cspan class=\"ni\"\u003eTO\u003c/span\u003e \u003cspan class=\"ni\"\u003eROLE\u003c/span\u003e \u003cspan class=\"gi\"\u003edata_engineer\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"ni\"\u003eGRANT\u003c/span\u003e \u003cspan class=\"ni\"\u003eDATABASE\u003c/span\u003e \u003cspan class=\"ni\"\u003eROLE\u003c/span\u003e \u003cspan class=\"gi\"\u003eSNOWFLAKE\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"gi\"\u003eOBJECT_VIEWER\u003c/span\u003e \u003cspan class=\"ni\"\u003eTO\u003c/span\u003e \u003cspan class=\"ni\"\u003eROLE\u003c/span\u003e \u003cspan class=\"gi\"\u003edata_engineer\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"ni\"\u003eSHOW\u003c/span\u003e \u003cspan class=\"ni\"\u003eGRANTS\u003c/span\u003e \u003cspan class=\"ni\"\u003eLIKE\u003c/span\u003e \u003cspan class=\"nc\"\u003e'%VIEWER%'\u003c/span\u003e \u003cspan class=\"ni\"\u003eTO\u003c/span\u003e \u003cspan class=\"ni\"\u003eROLE\u003c/span\u003e \u003cspan class=\"gi\"\u003edata_engineer\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\u003cdiv data-codeblock-index=\"33\" class=\"copybutton\"\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 384 512\" class=\"copybutton-icon icon-copy\"\u003e\u003cpath d=\"M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM112 192H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" viewbox=\"0 0 512 512\" class=\"copybutton-icon icon-copied hidden\"\u003e\u003cpath d=\"M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003cspan\u003eCopy\u003c/span\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/div\u003e\u003c/blockquote\u003e\n\u003cp\u003eFor details about these database roles, see \u003ca class=\"reference internal\" href=\"../sql-reference/snowflake-db-roles\"\u003e\u003cspan class=\"doc\"\u003eSNOWFLAKE database roles\u003c/span\u003e\u003c/a\u003e.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/section\u003e\n\u003csection id=\"dashboard\"\u003e\n\u003ch3\u003eDashboard\u003ca class=\"headerlink\" href=\"#dashboard\" title=\"Link to this heading\"\u003e¶\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eAs a data administrator, you can use the \u003cspan class=\"ui\"\u003eDashboard\u003c/span\u003e interface to monitor tag and policy usage in the following ways.\u003c/p\u003e\n\u003cul class=\"simple\"\u003e\n\u003cli\u003e\u003cp\u003eCoverage: specifies the count and percentage based on whether a table, view, or column has a policy or tag.\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003ePrevalence: lists and counts the most frequently used policies and tags.\u003c/p\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eThe coverage and prevalence provide a snapshot as to how well the data is protected and tagged.\u003c/p\u003e\n\u003cp\u003eWhen you select a count number, percentage, policy name, or tag name, the \u003cspan class=\"ui\"\u003eTagged Objects\u003c/span\u003e interface opens. The \u003cspan class=\"ui\"\u003eTagged Objects\u003c/span\u003e\ninterface updates the filters automatically based on your selection in the \u003cspan class=\"ui\"\u003eDashboard\u003c/span\u003e.\u003c/p\u003e\n\u003cp\u003eThe monitoring information is an alternative or complement to running complex and query-intensive operations on multiple Account\nUsage views.\u003c/p\u003e\n\u003cp\u003eThese views might include, but are not limited to, the \u003ca class=\"reference internal\" href=\"../sql-reference/account-usage/columns\"\u003e\u003cspan class=\"doc\"\u003eCOLUMNS\u003c/span\u003e\u003c/a\u003e,\n\u003ca class=\"reference internal\" href=\"../sql-reference/account-usage/policy_references\"\u003e\u003cspan class=\"doc\"\u003ePOLICY_REFERENCES\u003c/span\u003e\u003c/a\u003e, \u003ca class=\"reference internal\" href=\"../sql-reference/account-usage/tables\"\u003e\u003cspan class=\"doc\"\u003eTABLES\u003c/span\u003e\u003c/a\u003e,\n\u003ca class=\"reference internal\" href=\"../sql-reference/account-usage/tag_references\"\u003e\u003cspan class=\"doc\"\u003eTAG_REFERENCES\u003c/span\u003e\u003c/a\u003e, and \u003ca class=\"reference internal\" href=\"../sql-reference/account-usage/views\"\u003e\u003cspan class=\"doc\"\u003eVIEWS\u003c/span\u003e\u003c/a\u003e views.\u003c/p\u003e\n\u003c/section\u003e\n\u003csection id=\"tagged-objects\"\u003e\n\u003ch3\u003eTagged Objects\u003ca class=\"headerlink\" href=\"#tagged-objects\" title=\"Link to this heading\"\u003e¶\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eAs a data administrator, you can use this table to associate the coverage and prevalence in the \u003cspan class=\"ui\"\u003eDashboard\u003c/span\u003e to a list of specific\ntables, view, or columns quickly. You can also filter the table results manually as follows.\u003c/p\u003e\n\u003cul class=\"simple\"\u003e\n\u003cli\u003e\u003cp\u003eChoose \u003cspan class=\"ui\"\u003eTables\u003c/span\u003e or \u003cspan class=\"ui\"\u003eColumns\u003c/span\u003e.\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eFor tags, you can filter with tags, without tags, or by a specific tag.\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eFor policies, you can filter with policies, without policies, or by a specific policy.\u003c/p\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eWhen you select a row in the table, the \u003cspan class=\"ui\"\u003eTable Details\u003c/span\u003e or \u003cspan class=\"ui\"\u003eColumns\u003c/span\u003e tab in \u003cspan class=\"ui\"\u003eData\u003c/span\u003e » \u003cspan class=\"ui\"\u003eDatabases\u003c/span\u003e opens. You can edit\nthe tag and policy assignments as needed.\u003c/p\u003e\n\u003cdiv class=\"admonition tip\"\u003e\n\u003cp class=\"admonition-title\"\u003eTip\u003c/p\u003e\n\u003cp\u003eYou can use Snowsight to troubleshoot masking policy assignments. In the \u003cspan class=\"ui\"\u003eColumns\u003c/span\u003e tab, the \u003cspan class=\"ui\"\u003eMASKING POLICY\u003c/span\u003e column\nshows \u003cspan class=\"ui\"\u003ePolicy Error\u003c/span\u003e when there is a conflict with the masking policy assignment on the column. You can select the \u003cspan class=\"ui\"\u003ePolicy\nError\u003c/span\u003e for more information.\u003c/p\u003e\n\u003cp\u003eAdditionally, the \u003cspan class=\"ui\"\u003eData Preview\u003c/span\u003e tab does not render a data preview when there is a error with a masking policy assignment on a\ncolumn. Instead, the \u003cspan class=\"ui\"\u003eData Preview\u003c/span\u003e tab returns the SQL error message. This message corresponds to one of the error values in the\nPOLICY_STATUS column of the Account Usage POLICY_REFERENCES view and the Information Schema POLICY_REFERENCES table function.\u003c/p\u003e\n\u003cp\u003eTo correct the error, use the SQL error message and the \u003cspan class=\"ui\"\u003ePolicy Error\u003c/span\u003e message to modify the tag or policy assignment.\u003c/p\u003e\n\u003c/div\u003e\n\u003cp\u003eFor additional details, refer to \u003ca class=\"reference internal\" href=\"tag-based-masking-policies.html#label-tag-based-masking-discovery\"\u003e\u003cspan class=\"std std-ref\"\u003eTag and policy discovery\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/section\u003e\n\u003c/section\u003e\n\u003c/section\u003e\n\n\n","headings":[{"label":"What is Column-level Security?","depth":1,"href":"what-is-column-level-security"},{"label":"Choosing Dynamic Data Masking or External Tokenization","depth":1,"href":"choosing-dynamic-data-masking-or-external-tokenization"},{"label":"Using Column-level Security on tables and views","depth":1,"href":"using-column-level-security-on-tables-and-views"},{"label":"Managing Column-level Security","depth":1,"href":"managing-column-level-security"},{"label":"Monitor masking policies with SQL","depth":1,"href":"monitor-masking-policies-with-sql"},{"label":"Monitor masking policies with Snowsight","depth":1,"href":"monitor-masking-policies-with-sf-web-interface"}],"mastheads":[{"label":"Getting Started","href":"/en/user-guide-getting-started","active":false},{"label":"Guides","href":"/en/guides","active":true},{"label":"Developer","href":"/en/developer","active":false},{"label":"Reference","href":"/en/reference","active":false},{"label":"Releases","href":"/en/release-notes/new-features","active":false},{"label":"Tutorials","href":"/en/tutorials","active":false}],"title":"Understanding Column-level Security | Snowflake Documentation","breadcrumbs":[{"label":"Guides","href":"/en/guides"},{"label":"Data Governance","href":"/en/guides-overview-govern"},{"label":"Masking Policies","href":"/en/user-guide/security-column-intro"}],"relatedTopics":[{"label":"Process PII data using Snowflake RBAC, DAC, Row Access Policies, and Column Level Security (Snowflake Quickstart)","href":"https://quickstarts.snowflake.com/guide/getting_started_with_pii/","isExternal":true},{"label":"Understanding Dynamic Data Masking","href":"/user-guide/security-column-ddm-intro","isExternal":false},{"label":"Understanding External Tokenization","href":"/user-guide/security-column-ext-token-intro","isExternal":false},{"label":"Tag-based masking policies","href":"/user-guide/tag-based-masking-policies","isExternal":false},{"label":"Replace a masking policy on a tag","href":"/user-guide/tag-based-masking-policies#label-tag-based-masking-replace-masking-policy","isExternal":false}],"notices":[],"relatedInfo":"","sqlExamples":[],"lang":"en","tree":{"depth":0,"label":"Guides","type":"masthead","href":"/en/guides","active":false,"parentRef":"/en/","children":[{"label":"Overview","type":"page","href":"/en/guides","active":false,"depth":0,"isInitiallyOpen":false,"parentRef":"/en/guides","children":[]},{"type":"line"},{"label":"Connecting to Snowflake","type":"page","href":"/en/guides-overview-connecting","active":false,"depth":0,"isInitiallyOpen":false,"parentRef":"/en/guides","children":[{"label":"Ecosystem","type":"page","href":"/en/user-guide/ecosystem","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-connecting","children":[{"label":"All Partners and Technologies","type":"page","href":"/en/user-guide/ecosystem-all","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/ecosystem","children":[]},{"label":"Data Integration","type":"page","href":"/en/user-guide/ecosystem-etl","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/ecosystem","children":[]},{"label":"Business Intelligence","type":"page","href":"/en/user-guide/ecosystem-bi","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/ecosystem","children":[]},{"label":"Machine Learning and Data Science","type":"page","href":"/en/user-guide/ecosystem-analytics","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/ecosystem","children":[]},{"label":"Security and Governance","type":"page","href":"/en/user-guide/ecosystem-security","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/ecosystem","children":[]},{"label":"SQL Development and Management","type":"page","href":"/en/user-guide/ecosystem-editors","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/ecosystem","children":[]},{"label":"Native Programmatic Interfaces","type":"page","href":"/en/user-guide/ecosystem-lang","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/ecosystem","children":[]},{"label":"Snowflake Partner Connect","type":"page","href":"/en/user-guide/ecosystem-partner-connect","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/ecosystem","children":[]}]},{"label":"Snowsight","type":"page","href":"/en/user-guide/ui-snowsight","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-connecting","children":[{"label":"Getting started with Snowsight","type":"page","href":"/en/user-guide/ui-snowsight-gs","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/ui-snowsight","children":[{"label":"Cookies in the web interface","type":"page","href":"/en/user-guide/ui-snowsight-cookies","active":false,"depth":3,"isInitiallyOpen":false,"parentRef":"/en/user-guide/ui-snowsight-gs","children":[]}]},{"label":"Exploring the navigation menu","type":"page","href":"/en/user-guide/ui-snowsight-navigation","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/ui-snowsight","children":[]},{"label":"About the Snowsight Upgrade","type":"page","href":"/en/user-guide/ui-snowsight-upgrade-guide","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/ui-snowsight","children":[]},{"label":"Upgrading to Snowsight","type":"page","href":"/en/user-guide/ui-snowsight-upgrade-migrate","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/ui-snowsight","children":[]},{"label":"Search Snowflake objects and resources","type":"page","href":"/en/user-guide/ui-snowsight-universal-search","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/ui-snowsight","children":[]},{"label":"Getting started with worksheets","type":"page","href":"/en/user-guide/ui-snowsight-worksheets-gs","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/ui-snowsight","children":[]},{"label":"Managing and using worksheets","type":"page","href":"/en/user-guide/ui-snowsight-worksheets","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/ui-snowsight","children":[]},{"label":"Querying data with SQL worksheets","type":"page","href":"/en/user-guide/ui-snowsight-query","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/ui-snowsight","children":[]},{"label":"Using Snowflake Copilot in SQL worksheets","type":"page","href":"/en/user-guide/snowflake-copilot","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/ui-snowsight","children":[]},{"label":"Visualizing worksheet results","type":"page","href":"/en/user-guide/ui-snowsight-visualizations","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/ui-snowsight","children":[]},{"label":"Visualizing data with dashboards","type":"page","href":"/en/user-guide/ui-snowsight-dashboards","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/ui-snowsight","children":[]},{"label":"Filter query results in worksheets and dashboards","type":"page","href":"/en/user-guide/ui-snowsight-filters","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/ui-snowsight","children":[]},{"label":"Explore and manage data","type":"page","href":"/en/user-guide/ui-snowsight-data","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/ui-snowsight","children":[]},{"label":"Manage your user profile","type":"page","href":"/en/user-guide/ui-snowsight-profile","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/ui-snowsight","children":[]},{"label":"Manage notification contacts","type":"page","href":"/en/user-guide/ui-snowsight-contacts","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/ui-snowsight","children":[]},{"label":"Manage support cases","type":"page","href":"/en/user-guide/ui-support","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/ui-snowsight","children":[]}]},{"label":"Classic Console","type":"page","href":"/en/user-guide/ui-using","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-connecting","children":[{"label":"Monitoring Queries","type":"page","href":"/en/user-guide/ui-history","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/ui-using","children":[]},{"label":"Changing Your Password / Switching Your (Session) Role / Logging Out","type":"page","href":"/en/user-guide/ui-menu","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/ui-using","children":[]},{"label":"Managing Your User Preferences","type":"page","href":"/en/user-guide/ui-preferences","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/ui-using","children":[]},{"label":"Using Worksheets for Queries / DML / DDL","type":"page","href":"/en/user-guide/ui-worksheet","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/ui-using","children":[]},{"label":"General Usage Notes","type":"page","href":"/en/user-guide/ui-general","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/ui-using","children":[]}]},{"label":"SnowSQL","type":"page","href":"/en/user-guide/snowsql","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-connecting","children":[{"label":"Installing","type":"page","href":"/en/user-guide/snowsql-install-config","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/snowsql","children":[]},{"label":"Configuring","type":"page","href":"/en/user-guide/snowsql-config","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/snowsql","children":[]},{"label":"Connecting","type":"page","href":"/en/user-guide/snowsql-start","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/snowsql","children":[]},{"label":"Using","type":"page","href":"/en/user-guide/snowsql-use","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/snowsql","children":[]}]},{"label":"Visual Studio Code SQL Extension","type":"page","href":"/en/user-guide/vscode-ext","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-connecting","children":[]},{"label":"Client Download","type":"page","href":"/en/user-guide/snowflake-client-repository","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-connecting","children":[]},{"label":"Client Configuration","type":"page","href":"/en/user-guide/gen-conn-config","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-connecting","children":[{"label":"Viewing Snowflake Client Versions","type":"page","href":"/en/user-guide/snowflake-client-version-check","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/gen-conn-config","children":[]},{"label":"SnowCD (Connectivity Diagnostic Tool)","type":"page","href":"/en/user-guide/snowcd","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/gen-conn-config","children":[]},{"label":"Allowing Hostnames","type":"page","href":"/en/user-guide/hostname-allowlist","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/gen-conn-config","children":[]},{"label":"Limits on Query Text Size","type":"page","href":"/en/user-guide/query-size-limits","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/gen-conn-config","children":[]},{"label":"OCSP Configuration","type":"page","href":"/en/user-guide/ocsp","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/gen-conn-config","children":[]},{"label":"SQL Statements Supported for Preparation","type":"page","href":"/en/user-guide/sql-prepare","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/gen-conn-config","children":[]}]},{"type":"line"},{"label":"Connecting to Third-Party Systems","type":"page","href":"https://other-docs.snowflake.com/en/connectors","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-connecting","children":[]},{"label":"Snowflake Connector for Google Analytics Aggregate Data","type":"page","href":"https://other-docs.snowflake.com/en/connectors/google/gaad/gaad-connector-about","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-connecting","children":[{"label":"Cost Governance","type":"page","href":"https://other-docs.snowflake.com/en/connectors/google/gaad/gaad-connector-pricing","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"https://other-docs.snowflake.com/en/connectors/google/gaad/gaad-connector-about","children":[]},{"label":"Tasklist for the Snowflake Connector for Google Analytics Aggregate Data","type":"page","href":"https://other-docs.snowflake.com/en/connectors/google/gaad/gaad-connector-tasks","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"https://other-docs.snowflake.com/en/connectors/google/gaad/gaad-connector-about","children":[]},{"label":"Preparing your Google Analytics and Google Cloud Platform (GCP) accounts","type":"page","href":"https://other-docs.snowflake.com/en/connectors/google/gaad/gaad-connector-prereqs","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"https://other-docs.snowflake.com/en/connectors/google/gaad/gaad-connector-about","children":[{"label":"Configuring service account authentication for GCP","type":"page","href":"https://other-docs.snowflake.com/en/connectors/google/gaad/gaad-connector-create-service-account-key","active":false,"depth":3,"isInitiallyOpen":false,"parentRef":"https://other-docs.snowflake.com/en/connectors/google/gaad/gaad-connector-prereqs","children":[]},{"label":"Configuring OAuth authentication for GCP","type":"page","href":"https://other-docs.snowflake.com/en/connectors/google/gaad/gaad-connector-create-client-id","active":false,"depth":3,"isInitiallyOpen":false,"parentRef":"https://other-docs.snowflake.com/en/connectors/google/gaad/gaad-connector-prereqs","children":[]}]},{"label":"Installing and configuring the Snowflake Connector for GAAD","type":"page","href":"https://other-docs.snowflake.com/en/connectors/google/gaad/gaad-connector-installing","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"https://other-docs.snowflake.com/en/connectors/google/gaad/gaad-connector-about","children":[{"label":"Configuring the GAAD using SQL","type":"page","href":"https://other-docs.snowflake.com/en/connectors/google/gaad/gaad-connector-configuring-sql","active":false,"depth":3,"isInitiallyOpen":false,"parentRef":"https://other-docs.snowflake.com/en/connectors/google/gaad/gaad-connector-installing","children":[]}]},{"label":"Managing the Snowflake Connector for GAAD","type":"page","href":"https://other-docs.snowflake.com/en/connectors/google/gaad/gaad-connector-managing","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"https://other-docs.snowflake.com/en/connectors/google/gaad/gaad-connector-about","children":[]},{"label":"Role-Based Access Control for Connectors","type":"page","href":"https://other-docs.snowflake.com/en/connectors/google/gaad/gaad-rbac-access-control","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"https://other-docs.snowflake.com/en/connectors/google/gaad/gaad-connector-about","children":[]},{"label":"Monitoring Snowflake Connector for GAAD","type":"page","href":"https://other-docs.snowflake.com/en/connectors/google/gaad/gaad-connector-monitoring","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"https://other-docs.snowflake.com/en/connectors/google/gaad/gaad-connector-about","children":[]},{"label":"Setting up data ingestion for your Snowflake Connector for GAAD instance","type":"page","href":"https://other-docs.snowflake.com/en/connectors/google/gaad/gaad-connector-setting-up-data","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"https://other-docs.snowflake.com/en/connectors/google/gaad/gaad-connector-about","children":[]},{"label":"Accessing fetched Google Analytics data","type":"page","href":"https://other-docs.snowflake.com/en/connectors/google/gaad/gaad-connector-accessing-data","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"https://other-docs.snowflake.com/en/connectors/google/gaad/gaad-connector-about","children":[]},{"label":"Troubleshooting the Snowflake Connector for GAAD","type":"page","href":"https://other-docs.snowflake.com/en/connectors/google/gaad/gaad-connector-troubleshooting","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"https://other-docs.snowflake.com/en/connectors/google/gaad/gaad-connector-about","children":[]}]},{"label":"Snowflake Connector for Google Analytics Raw Data","type":"page","href":"https://other-docs.snowflake.com/en/connectors/google/gard/gard-connector-about","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-connecting","children":[{"label":"Cost Governance","type":"page","href":"https://other-docs.snowflake.com/en/connectors/google/gard/gard-connector-pricing","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"https://other-docs.snowflake.com/en/connectors/google/gard/gard-connector-about","children":[]},{"label":"Task list for the Snowflake Connector for GARD","type":"page","href":"https://other-docs.snowflake.com/en/connectors/google/gard/gard-connector-tasks","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"https://other-docs.snowflake.com/en/connectors/google/gard/gard-connector-about","children":[]},{"label":"Preparing your Google Analytics and Cloud Platform (GCP) accounts","type":"page","href":"https://other-docs.snowflake.com/en/connectors/google/gard/gard-connector-prereqs","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"https://other-docs.snowflake.com/en/connectors/google/gard/gard-connector-about","children":[{"label":"Configuring service account authentication for GCP","type":"page","href":"https://other-docs.snowflake.com/en/connectors/google/gard/gard-connector-create-service-account-key","active":false,"depth":3,"isInitiallyOpen":false,"parentRef":"https://other-docs.snowflake.com/en/connectors/google/gard/gard-connector-prereqs","children":[]},{"label":"Configuring OAuth authentication for GCP","type":"page","href":"https://other-docs.snowflake.com/en/connectors/google/gard/gard-connector-create-client-id","active":false,"depth":3,"isInitiallyOpen":false,"parentRef":"https://other-docs.snowflake.com/en/connectors/google/gard/gard-connector-prereqs","children":[]},{"label":"Configuring BigQuery Link for GA4 property","type":"page","href":"https://other-docs.snowflake.com/en/connectors/google/gard/gard-connector-create-link","active":false,"depth":3,"isInitiallyOpen":false,"parentRef":"https://other-docs.snowflake.com/en/connectors/google/gard/gard-connector-prereqs","children":[]}]},{"label":"Installing and configuring the Snowflake Connector for GARD","type":"page","href":"https://other-docs.snowflake.com/en/connectors/google/gard/gard-connector-installing","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"https://other-docs.snowflake.com/en/connectors/google/gard/gard-connector-about","children":[{"label":"Configuring the GARD using SQL","type":"page","href":"https://other-docs.snowflake.com/en/connectors/google/gard/gard-connector-configuring-sql","active":false,"depth":3,"isInitiallyOpen":false,"parentRef":"https://other-docs.snowflake.com/en/connectors/google/gard/gard-connector-installing","children":[]}]},{"label":"Uninstalling and reinstalling the Snowflake Connector for GARD","type":"page","href":"https://other-docs.snowflake.com/en/connectors/google/gard/gard-connector-uninstalling-and-reinstalling","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"https://other-docs.snowflake.com/en/connectors/google/gard/gard-connector-about","children":[]},{"label":"Setting up data ingestion for your Snowflake Connector for GARD","type":"page","href":"https://other-docs.snowflake.com/en/connectors/google/gard/gard-connector-setting-up-data","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"https://other-docs.snowflake.com/en/connectors/google/gard/gard-connector-about","children":[]},{"label":"Accessing data ingested by Snowflake Connector for GARD in Snowflake","type":"page","href":"https://other-docs.snowflake.com/en/connectors/google/gard/gard-connector-accessing-data","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"https://other-docs.snowflake.com/en/connectors/google/gard/gard-connector-about","children":[]},{"label":"Data ingestion model for the Snowflake Connector for GARD","type":"page","href":"https://other-docs.snowflake.com/en/connectors/google/gard/gard-connector-data-ingestion-model","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"https://other-docs.snowflake.com/en/connectors/google/gard/gard-connector-about","children":[]},{"label":"Monitoring the Snowflake Connector for GARD","type":"page","href":"https://other-docs.snowflake.com/en/connectors/google/gard/gard-connector-monitoring","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"https://other-docs.snowflake.com/en/connectors/google/gard/gard-connector-about","children":[]},{"label":"Managing the Snowflake Connector for GARD in Snowflake","type":"page","href":"https://other-docs.snowflake.com/en/connectors/google/gard/gard-connector-managing","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"https://other-docs.snowflake.com/en/connectors/google/gard/gard-connector-about","children":[]},{"label":"Role-Based Access Control for Connectors","type":"page","href":"https://other-docs.snowflake.com/en/connectors/google/gard/gard-rbac-access-control","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"https://other-docs.snowflake.com/en/connectors/google/gard/gard-connector-about","children":[]},{"label":"Troubleshooting the Snowflake Connector for GARD","type":"page","href":"https://other-docs.snowflake.com/en/connectors/google/gard/gard-connector-troubleshooting","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"https://other-docs.snowflake.com/en/connectors/google/gard/gard-connector-about","children":[]}]},{"label":"Snowflake Connector for Google Looker Studio","type":"page","href":"https://other-docs.snowflake.com/en/connectors/google-looker-studio-connector","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-connecting","children":[]},{"label":"Snowflake Connector for ServiceNow®","type":"page","href":"https://other-docs.snowflake.com/en/connectors/servicenow/about","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-connecting","children":[{"label":"Cost Governance","type":"page","href":"https://other-docs.snowflake.com/en/connectors/servicenow/cost-governance","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"https://other-docs.snowflake.com/en/connectors/servicenow/about","children":[]},{"label":"ServiceNow® connector installation and configuration tasks","type":"page","href":"https://other-docs.snowflake.com/en/connectors/servicenow/tasks","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"https://other-docs.snowflake.com/en/connectors/servicenow/about","children":[{"label":"Preparing Your ServiceNow® instance","type":"page","href":"https://other-docs.snowflake.com/en/connectors/servicenow/prereqs","active":false,"depth":3,"isInitiallyOpen":false,"parentRef":"https://other-docs.snowflake.com/en/connectors/servicenow/tasks","children":[]},{"label":"Installing and configuring the connector Using Snowsight","type":"page","href":"https://other-docs.snowflake.com/en/connectors/servicenow/installing-snowsight","active":false,"depth":3,"isInitiallyOpen":false,"parentRef":"https://other-docs.snowflake.com/en/connectors/servicenow/tasks","children":[]},{"label":"Installing and configuring the connector Using SQL Commands","type":"page","href":"https://other-docs.snowflake.com/en/connectors/servicenow/installing-sql","active":false,"depth":3,"isInitiallyOpen":false,"parentRef":"https://other-docs.snowflake.com/en/connectors/servicenow/tasks","children":[]},{"label":"Setting Up data ingestion for Your ServiceNow® Data","type":"page","href":"https://other-docs.snowflake.com/en/connectors/servicenow/ingestion","active":false,"depth":3,"isInitiallyOpen":false,"parentRef":"https://other-docs.snowflake.com/en/connectors/servicenow/tasks","children":[]},{"label":"Accessing the ServiceNow® Data in Snowflake","type":"page","href":"https://other-docs.snowflake.com/en/connectors/servicenow/accessing-data","active":false,"depth":3,"isInitiallyOpen":false,"parentRef":"https://other-docs.snowflake.com/en/connectors/servicenow/tasks","children":[]},{"label":"Monitoring the connector","type":"page","href":"https://other-docs.snowflake.com/en/connectors/servicenow/monitoring","active":false,"depth":3,"isInitiallyOpen":false,"parentRef":"https://other-docs.snowflake.com/en/connectors/servicenow/tasks","children":[]},{"label":"Managing the connector","type":"page","href":"https://other-docs.snowflake.com/en/connectors/servicenow/managing","active":false,"depth":3,"isInitiallyOpen":false,"parentRef":"https://other-docs.snowflake.com/en/connectors/servicenow/tasks","children":[]},{"label":"Troubleshooting the connector","type":"page","href":"https://other-docs.snowflake.com/en/connectors/servicenow/troubleshooting","active":false,"depth":3,"isInitiallyOpen":false,"parentRef":"https://other-docs.snowflake.com/en/connectors/servicenow/tasks","children":[]}]}]}]},{"type":"line"},{"label":"Virtual warehouses","type":"page","href":"/en/user-guide/warehouses","active":false,"depth":0,"isInitiallyOpen":false,"parentRef":"/en/guides","children":[{"label":"Overview","type":"page","href":"/en/user-guide/warehouses-overview","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/user-guide/warehouses","children":[]},{"label":"Multicluster","type":"page","href":"/en/user-guide/warehouses-multicluster","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/user-guide/warehouses","children":[]},{"label":"Considerations","type":"page","href":"/en/user-guide/warehouses-considerations","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/user-guide/warehouses","children":[]},{"label":"Working with warehouses","type":"page","href":"/en/user-guide/warehouses-tasks","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/user-guide/warehouses","children":[]},{"label":"Query Acceleration Service","type":"page","href":"/en/user-guide/query-acceleration-service","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/user-guide/warehouses","children":[{"label":"Tutorial","type":"page","href":"/en/user-guide/tutorials/query-acceleration-service","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/query-acceleration-service","children":[]}]},{"label":"Monitoring load","type":"page","href":"/en/user-guide/warehouses-load-monitoring","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/user-guide/warehouses","children":[]},{"label":"Snowpark-optimized warehouses","type":"page","href":"/en/user-guide/warehouses-snowpark-optimized","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/user-guide/warehouses","children":[]}]},{"label":"Databases, Tables, \u0026 Views","type":"page","href":"/en/guides-overview-db","active":false,"depth":0,"isInitiallyOpen":false,"parentRef":"/en/guides","children":[{"label":"Table Structures","type":"page","href":"/en/user-guide/tables-micro-partitions","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-db","children":[{"label":"Micro-Partitions \u0026 Data Clustering","type":"page","href":"/en/user-guide/tables-clustering-micropartitions","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/tables-micro-partitions","children":[]},{"label":"Cluster Keys \u0026 Clustered Tables","type":"page","href":"/en/user-guide/tables-clustering-keys","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/tables-micro-partitions","children":[]},{"label":"Automatic Clustering","type":"page","href":"/en/user-guide/tables-auto-reclustering","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/tables-micro-partitions","children":[]}]},{"label":"Temporary and Transient Tables","type":"page","href":"/en/user-guide/tables-temp-transient","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-db","children":[]},{"label":"External Tables","type":"page","href":"/en/user-guide/tables-external-intro","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-db","children":[{"label":"Automatic Refreshing","type":"page","href":"/en/user-guide/tables-external-auto","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/tables-external-intro","children":[{"label":"Amazon S3","type":"page","href":"/en/user-guide/tables-external-s3","active":false,"depth":3,"isInitiallyOpen":false,"parentRef":"/en/user-guide/tables-external-auto","children":[]},{"label":"Google Cloud Storage","type":"page","href":"/en/user-guide/tables-external-gcs","active":false,"depth":3,"isInitiallyOpen":false,"parentRef":"/en/user-guide/tables-external-auto","children":[]},{"label":"Azure Blob Storage","type":"page","href":"/en/user-guide/tables-external-azure","active":false,"depth":3,"isInitiallyOpen":false,"parentRef":"/en/user-guide/tables-external-auto","children":[]}]},{"label":"Troubleshooting","type":"page","href":"/en/user-guide/tables-external-ts","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/tables-external-intro","children":[]},{"label":"Integrating Apache Hive Metastores","type":"page","href":"/en/user-guide/tables-external-hive","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/tables-external-intro","children":[]}]},{"label":"Iceberg Tables","type":"page","href":"/en/user-guide/tables-iceberg","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-db","children":[{"type":"category","depth":2,"label":"Configuration"},{"label":"Configure an External Volume","type":"page","href":"/en/user-guide/tables-iceberg-configure-external-volume","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/tables-iceberg","children":[]},{"label":"Configure a Catalog Integration","type":"page","href":"/en/user-guide/tables-iceberg-configure-catalog-integration","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/tables-iceberg","children":[]},{"type":"category","depth":2,"label":"Work with Iceberg Tables"},{"label":"Create","type":"page","href":"/en/user-guide/tables-iceberg-create","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/tables-iceberg","children":[]},{"label":"Manage","type":"page","href":"/en/user-guide/tables-iceberg-manage","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/tables-iceberg","children":[]},{"label":"Convert","type":"page","href":"/en/user-guide/tables-iceberg-conversion","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/tables-iceberg","children":[]},{"label":"Snowflake Iceberg Catalog SDK","type":"page","href":"/en/user-guide/tables-iceberg-catalog","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/tables-iceberg","children":[]},{"label":"Iceberg table data types","type":"page","href":"/en/user-guide/tables-iceberg-data-types","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/tables-iceberg","children":[]}]},{"label":"Hybrid Tables","type":"page","href":"/en/user-guide/tables-hybrid","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-db","children":[{"label":"Create a hybrid table","type":"page","href":"/en/user-guide/tables-hybrid-create","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/tables-hybrid","children":[]},{"label":"Understand limitations","type":"page","href":"/en/user-guide/tables-hybrid-limitations","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/tables-hybrid","children":[]},{"label":"Understand performance","type":"page","href":"/en/user-guide/tables-hybrid-performance","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/tables-hybrid","children":[]},{"label":"Understand cost","type":"page","href":"/en/user-guide/tables-hybrid-cost","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/tables-hybrid","children":[]},{"label":"Monitor transactions","type":"page","href":"/en/user-guide/tables-hybrid-monitor-transactions","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/tables-hybrid","children":[]},{"label":"Monitor workloads","type":"page","href":"/en/user-guide/tables-hybrid-monitor-workload","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/tables-hybrid","children":[]}]},{"label":"Working with tables in Snowsight","type":"page","href":"/en/user-guide/ui-snowsight-data-databases-table","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-db","children":[]},{"label":"Search Optimization Service","type":"page","href":"/en/user-guide/search-optimization-service","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-db","children":[{"label":"Queries That Can Benefit","type":"page","href":"/en/user-guide/search-optimization/queries-that-benefit","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/search-optimization-service","children":[]},{"label":"Configuring Search Optimization","type":"page","href":"/en/user-guide/search-optimization/enabling","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/search-optimization-service","children":[]},{"label":"Point Lookup Queries","type":"page","href":"/en/user-guide/search-optimization/point-lookup-queries","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/search-optimization-service","children":[]},{"label":"Substring and Regular Expression Queries","type":"page","href":"/en/user-guide/search-optimization/substring-queries","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/search-optimization-service","children":[]},{"label":"Queries of Semi-Structured Data","type":"page","href":"/en/user-guide/search-optimization/semi-structured-queries","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/search-optimization-service","children":[]},{"label":"Geospatial Queries","type":"page","href":"/en/user-guide/search-optimization/geospatial-queries","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/search-optimization-service","children":[]},{"label":"Conjunctions and Disjunctions","type":"page","href":"/en/user-guide/search-optimization/conjunctions-disjunctions","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/search-optimization-service","children":[]},{"label":"Cost Estimation and Management","type":"page","href":"/en/user-guide/search-optimization/cost-estimation","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/search-optimization-service","children":[]},{"label":"Working With Search-Optimized Tables","type":"page","href":"/en/user-guide/search-optimization/working-with-tables","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/search-optimization-service","children":[]}]},{"type":"category","depth":1,"label":"Views"},{"label":"Views","type":"page","href":"/en/user-guide/views-introduction","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-db","children":[]},{"label":"Secure Views","type":"page","href":"/en/user-guide/views-secure","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-db","children":[]},{"label":"Materialized Views","type":"page","href":"/en/user-guide/views-materialized","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-db","children":[]},{"label":"Working with Views","type":"page","href":"/en/user-guide/ui-snowsight-data-databases-view","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-db","children":[]},{"type":"category","depth":1,"label":"Considerations"},{"label":"Views, Materialized Views and Dynamic Tables","type":"page","href":"/en/user-guide/overview-view-mview-dts","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-db","children":[]},{"label":"Table Design","type":"page","href":"/en/user-guide/table-considerations","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-db","children":[]},{"label":"Cloning","type":"page","href":"/en/user-guide/object-clone","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-db","children":[]},{"label":"Data Storage","type":"page","href":"/en/user-guide/tables-storage-considerations","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-db","children":[]}]},{"label":"Data Types","type":"page","href":"/en/data-types","active":false,"depth":0,"isInitiallyOpen":false,"parentRef":"/en/guides","children":[]},{"type":"line"},{"label":"Data Loading","type":"page","href":"/en/guides-overview-loading-data","active":false,"depth":0,"isInitiallyOpen":false,"parentRef":"/en/guides","children":[{"label":"Overview","type":"page","href":"/en/user-guide/data-load-overview","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-loading-data","children":[]},{"label":"Feature Summary","type":"page","href":"/en/user-guide/intro-summary-loading","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-loading-data","children":[]},{"label":"Considerations","type":"page","href":"/en/user-guide/data-load-considerations","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-loading-data","children":[{"label":"Preparing Your Data Files","type":"page","href":"/en/user-guide/data-load-considerations-prepare","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/data-load-considerations","children":[]},{"label":"Planning a Data Load","type":"page","href":"/en/user-guide/data-load-considerations-plan","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/data-load-considerations","children":[]},{"label":"Staging Data","type":"page","href":"/en/user-guide/data-load-considerations-stage","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/data-load-considerations","children":[]},{"label":"Loading Data","type":"page","href":"/en/user-guide/data-load-considerations-load","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/data-load-considerations","children":[]},{"label":"Managing Regular Data Loads","type":"page","href":"/en/user-guide/data-load-considerations-manage","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/data-load-considerations","children":[]}]},{"label":"Preparing to Load Data","type":"page","href":"/en/user-guide/data-load-prepare","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-loading-data","children":[]},{"label":"Staging Files Using Snowsight","type":"page","href":"/en/user-guide/data-load-local-file-system-stage-ui","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-loading-data","children":[]},{"label":"Loading Data Using the Web Interface","type":"page","href":"/en/user-guide/data-load-web-ui","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-loading-data","children":[]},{"label":"Monitor data loading activity","type":"page","href":"/en/user-guide/data-load-monitor","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-loading-data","children":[]},{"type":"category","depth":1,"label":"Bulk Loading"},{"label":"Local File System","type":"page","href":"/en/user-guide/data-load-local-file-system","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-loading-data","children":[{"label":"Choosing an Internal Stage","type":"page","href":"/en/user-guide/data-load-local-file-system-create-stage","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/data-load-local-file-system","children":[]},{"label":"Staging Files","type":"page","href":"/en/user-guide/data-load-local-file-system-stage","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/data-load-local-file-system","children":[]},{"label":"Copying Data from a Local File System","type":"page","href":"/en/user-guide/data-load-local-file-system-copy","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/data-load-local-file-system","children":[]}]},{"label":"Amazon S3","type":"page","href":"/en/user-guide/data-load-s3","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-loading-data","children":[{"label":"Allowing the Virtual Private Cloud IDs","type":"page","href":"/en/user-guide/data-load-s3-allow","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/data-load-s3","children":[]},{"label":"Configuring Secure Access","type":"page","href":"/en/user-guide/data-load-s3-config","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/data-load-s3","children":[{"label":"Option 1: Configuring a Snowflake Storage Integration","type":"page","href":"/en/user-guide/data-load-s3-config-storage-integration","active":false,"depth":3,"isInitiallyOpen":false,"parentRef":"/en/user-guide/data-load-s3-config","children":[]},{"label":"Option 2: Configuring an AWS IAM Role (Deprecated)","type":"page","href":"/en/user-guide/data-load-s3-config-aws-iam-role","active":false,"depth":3,"isInitiallyOpen":false,"parentRef":"/en/user-guide/data-load-s3-config","children":[]},{"label":"Option 3: Configuring AWS IAM User Credentials","type":"page","href":"/en/user-guide/data-load-s3-config-aws-iam-user","active":false,"depth":3,"isInitiallyOpen":false,"parentRef":"/en/user-guide/data-load-s3-config","children":[]}]},{"label":"AWS Data File Encryption","type":"page","href":"/en/user-guide/data-load-s3-encrypt","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/data-load-s3","children":[]},{"label":"Creating an S3 Stage","type":"page","href":"/en/user-guide/data-load-s3-create-stage","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/data-load-s3","children":[]},{"label":"Copying Data from an S3 Stage","type":"page","href":"/en/user-guide/data-load-s3-copy","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/data-load-s3","children":[]}]},{"label":"Google Cloud Storage","type":"page","href":"/en/user-guide/data-load-gcs","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-loading-data","children":[{"label":"Configuring a Snowflake Storage Integration","type":"page","href":"/en/user-guide/data-load-gcs-config","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/data-load-gcs","children":[]},{"label":"Google Cloud Storage Data File Encryption","type":"page","href":"/en/user-guide/data-load-gcs-encrypt","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/data-load-gcs","children":[]},{"label":"Copying Data from a Google Cloud Storage Stage","type":"page","href":"/en/user-guide/data-load-gcs-copy","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/data-load-gcs","children":[]},{"label":"Troubleshooting","type":"page","href":"/en/user-guide/data-load-gcs-ts","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/data-load-gcs","children":[]}]},{"label":"Microsoft Azure","type":"page","href":"/en/user-guide/data-load-azure","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-loading-data","children":[{"label":"Allowing the VNet Subnet IDs","type":"page","href":"/en/user-guide/data-load-azure-allow","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/data-load-azure","children":[]},{"label":"Configuring an Azure Container for Loading Data","type":"page","href":"/en/user-guide/data-load-azure-config","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/data-load-azure","children":[]},{"label":"Creating an Azure Stage","type":"page","href":"/en/user-guide/data-load-azure-create-stage","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/data-load-azure","children":[]},{"label":"Copying Data from an Azure Stage","type":"page","href":"/en/user-guide/data-load-azure-copy","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/data-load-azure","children":[]}]},{"label":"Troubleshooting","type":"page","href":"/en/user-guide/data-load-bulk-ts","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-loading-data","children":[]},{"type":"category","depth":1,"label":"Snowpipe"},{"label":"Overview","type":"page","href":"/en/user-guide/data-load-snowpipe-intro","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-loading-data","children":[]},{"label":"Auto Ingest","type":"page","href":"/en/user-guide/data-load-snowpipe-auto","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-loading-data","children":[{"label":"Automating for Amazon S3","type":"page","href":"/en/user-guide/data-load-snowpipe-auto-s3","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/data-load-snowpipe-auto","children":[]},{"label":"Automating for Google Cloud Storage","type":"page","href":"/en/user-guide/data-load-snowpipe-auto-gcs","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/data-load-snowpipe-auto","children":[]},{"label":"Automating for Microsoft Azure","type":"page","href":"/en/user-guide/data-load-snowpipe-auto-azure","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/data-load-snowpipe-auto","children":[]}]},{"label":"REST Endpoints","type":"page","href":"/en/user-guide/data-load-snowpipe-rest-overview","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-loading-data","children":[{"label":"Preparing to Load Data","type":"page","href":"/en/user-guide/data-load-snowpipe-rest-gs","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/data-load-snowpipe-rest-overview","children":[]},{"label":"Load Data Using REST API","type":"page","href":"/en/user-guide/data-load-snowpipe-rest-load","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/data-load-snowpipe-rest-overview","children":[]},{"label":"Load Data Using AWS Lambda","type":"page","href":"/en/user-guide/data-load-snowpipe-rest-lambda","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/data-load-snowpipe-rest-overview","children":[]},{"label":"Snowpipe REST API","type":"page","href":"/en/user-guide/data-load-snowpipe-rest-apis","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/data-load-snowpipe-rest-overview","children":[]}]},{"label":"Error Notifications","type":"page","href":"/en/user-guide/data-load-snowpipe-errors","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-loading-data","children":[{"label":"Enabling for Amazon SNS","type":"page","href":"/en/user-guide/data-load-snowpipe-errors-sns","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/data-load-snowpipe-errors","children":[]},{"label":"Enabling for Microsoft Azure Event Grid","type":"page","href":"/en/user-guide/data-load-snowpipe-errors-azure","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/data-load-snowpipe-errors","children":[]},{"label":"Enabling for Google Pub/Sub","type":"page","href":"/en/user-guide/data-load-snowpipe-errors-gcs","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/data-load-snowpipe-errors","children":[]}]},{"label":"Troubleshooting","type":"page","href":"/en/user-guide/data-load-snowpipe-ts","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-loading-data","children":[]},{"label":"Managing","type":"page","href":"/en/user-guide/data-load-snowpipe-manage","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-loading-data","children":[]},{"label":"Snowpipe Costs","type":"page","href":"/en/user-guide/data-load-snowpipe-billing","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-loading-data","children":[]},{"type":"category","depth":1,"label":"Snowpipe Streaming"},{"label":"Overview","type":"page","href":"/en/user-guide/data-load-snowpipe-streaming-overview","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-loading-data","children":[]},{"label":"Configurations and Examples","type":"page","href":"/en/user-guide/data-load-snowpipe-streaming-configuration","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-loading-data","children":[]},{"label":"Recommendations","type":"page","href":"/en/user-guide/data-load-snowpipe-streaming-recommendation","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-loading-data","children":[]},{"label":"Snowpipe Streaming Costs","type":"page","href":"/en/user-guide/data-load-snowpipe-streaming-billing","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-loading-data","children":[]},{"label":"Kafka Connector with Snowpipe Streaming","type":"page","href":"/en/user-guide/data-load-snowpipe-streaming-kafka","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-loading-data","children":[]},{"label":"Schema Detection and Evolution for Kafka Connector with Snowpipe Streaming","type":"page","href":"/en/user-guide/data-load-snowpipe-streaming-kafka-schema-detection","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-loading-data","children":[]},{"type":"category","depth":1,"label":"Loading Semi-Structured Data"},{"label":"Introduction","type":"page","href":"/en/user-guide/semistructured-intro","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-loading-data","children":[]},{"label":"Supported Formats","type":"page","href":"/en/user-guide/semistructured-data-formats","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-loading-data","children":[]},{"label":"Considerations","type":"page","href":"/en/user-guide/semistructured-considerations","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-loading-data","children":[]},{"type":"category","depth":1,"label":"Accessing Unstructured Data"},{"label":"Introduction","type":"page","href":"/en/user-guide/unstructured-intro","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-loading-data","children":[]},{"label":"Directory Tables","type":"page","href":"/en/user-guide/data-load-dirtables","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-loading-data","children":[{"label":"Manage","type":"page","href":"/en/user-guide/data-load-dirtables-manage","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/data-load-dirtables","children":[]},{"label":"Query","type":"page","href":"/en/user-guide/data-load-dirtables-query","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/data-load-dirtables","children":[]},{"label":"Automated Refresh","type":"page","href":"/en/user-guide/data-load-dirtables-auto","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/data-load-dirtables","children":[{"label":"Amazon S3","type":"page","href":"/en/user-guide/data-load-dirtables-auto-s3","active":false,"depth":3,"isInitiallyOpen":false,"parentRef":"/en/user-guide/data-load-dirtables-auto","children":[]},{"label":"Google Cloud Storage","type":"page","href":"/en/user-guide/data-load-dirtables-auto-gcs","active":false,"depth":3,"isInitiallyOpen":false,"parentRef":"/en/user-guide/data-load-dirtables-auto","children":[]},{"label":"Azure Blob Storage","type":"page","href":"/en/user-guide/data-load-dirtables-auto-azure","active":false,"depth":3,"isInitiallyOpen":false,"parentRef":"/en/user-guide/data-load-dirtables-auto","children":[]}]},{"label":"Build Data Pipelines","type":"page","href":"/en/user-guide/data-load-dirtables-pipeline","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/data-load-dirtables","children":[]}]},{"label":"REST API","type":"page","href":"/en/user-guide/data-load-unstructured-rest-api","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-loading-data","children":[]},{"label":"Processing with UDF and Procedure Handlers","type":"page","href":"/en/user-guide/unstructured-data-java","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-loading-data","children":[]},{"label":"Sharing","type":"page","href":"/en/user-guide/unstructured-data-sharing","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-loading-data","children":[]},{"label":"Troubleshooting","type":"page","href":"/en/user-guide/unstructured-ts","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-loading-data","children":[]},{"type":"category","depth":1,"label":"Accessing Data in Other Storage"},{"label":"Amazon S3-compatible Storage","type":"page","href":"/en/user-guide/data-load-s3-compatible-storage","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-loading-data","children":[]},{"type":"category","depth":1,"label":"Querying and Transforming Data"},{"label":"Querying Data in Staged Files","type":"page","href":"/en/user-guide/querying-stage","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-loading-data","children":[]},{"label":"Querying Metadata for Staged Files","type":"page","href":"/en/user-guide/querying-metadata","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-loading-data","children":[]},{"label":"Transforming Data During Load","type":"page","href":"/en/user-guide/data-load-transform","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-loading-data","children":[]},{"label":"Evolving Table Schema Automatically","type":"page","href":"/en/user-guide/data-load-schema-evolution","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-loading-data","children":[]},{"type":"category","depth":1,"label":"Continuous Data Pipelines"},{"label":"Overview","type":"page","href":"/en/user-guide/data-pipelines-intro","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-loading-data","children":[]},{"label":"Dynamic tables","type":"page","href":"/en/user-guide/dynamic-tables-about","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-loading-data","children":[{"label":"Best practices","type":"page","href":"/en/user-guide/dynamic-tables-best-practices","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/dynamic-tables-about","children":[]},{"label":"Understanding dynamic table refresh","type":"page","href":"/en/user-guide/dynamic-tables-refresh","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/dynamic-tables-about","children":[]},{"label":"Dynamic tables compared to streams \u0026 tasks, and materialized views","type":"page","href":"/en/user-guide/dynamic-tables-comparison","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/dynamic-tables-about","children":[]},{"label":"Understanding cost","type":"page","href":"/en/user-guide/dynamic-tables-cost","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/dynamic-tables-about","children":[]},{"label":"Dynamic table states","type":"page","href":"/en/user-guide/dynamic-tables-states","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/dynamic-tables-about","children":[]},{"label":"Dynamic tables and streams","type":"page","href":"/en/user-guide/dynamic-tables-and-streams","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/dynamic-tables-about","children":[]},{"label":"About working with dynamic tables","type":"page","href":"/en/user-guide/dynamic-tables-tasks","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/dynamic-tables-about","children":[{"label":"Dynamic tables access control","type":"page","href":"/en/user-guide/dynamic-tables-tasks-privileges","active":false,"depth":3,"isInitiallyOpen":false,"parentRef":"/en/user-guide/dynamic-tables-tasks","children":[]},{"label":"Create dynamic tables","type":"page","href":"/en/user-guide/dynamic-tables-tasks-create","active":false,"depth":3,"isInitiallyOpen":false,"parentRef":"/en/user-guide/dynamic-tables-tasks","children":[]},{"label":"About managing dynamic tables","type":"page","href":"/en/user-guide/dynamic-tables-tasks-manage","active":false,"depth":3,"isInitiallyOpen":false,"parentRef":"/en/user-guide/dynamic-tables-tasks","children":[]},{"label":"Manage dynamic tables refresh","type":"page","href":"/en/user-guide/dynamic-tables-tasks-manage-refresh","active":false,"depth":3,"isInitiallyOpen":false,"parentRef":"/en/user-guide/dynamic-tables-tasks","children":[]},{"label":"Monitor dynamic tables","type":"page","href":"/en/user-guide/dynamic-tables-tasks-monitor","active":false,"depth":3,"isInitiallyOpen":false,"parentRef":"/en/user-guide/dynamic-tables-tasks","children":[]}]},{"label":"Limitations","type":"page","href":"/en/user-guide/dynamic-tables-limitations","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/dynamic-tables-about","children":[]},{"label":"Troubleshoot","type":"page","href":"/en/user-guide/dynamic-tables-troubleshooting","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/dynamic-tables-about","children":[]}]},{"label":"Streams","type":"page","href":"/en/user-guide/streams-intro","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-loading-data","children":[{"label":"Managing","type":"page","href":"/en/user-guide/streams-manage","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/streams-intro","children":[]},{"label":"Examples","type":"page","href":"/en/user-guide/streams-examples","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/streams-intro","children":[]}]},{"label":"Tasks","type":"page","href":"/en/user-guide/tasks-intro","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-loading-data","children":[{"label":"Enabling Error Notifications","type":"page","href":"/en/user-guide/tasks-errors","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/tasks-intro","children":[{"label":"Enabling Error Notifications using AWS SNS","type":"page","href":"/en/user-guide/tasks-errors-aws","active":false,"depth":3,"isInitiallyOpen":false,"parentRef":"/en/user-guide/tasks-errors","children":[]},{"label":"Enabling Error Notifications using MS Azure Grid Events","type":"page","href":"/en/user-guide/tasks-errors-azure","active":false,"depth":3,"isInitiallyOpen":false,"parentRef":"/en/user-guide/tasks-errors","children":[]},{"label":"Enabling Error Notifications for Tasks using Google Pub/Sub","type":"page","href":"/en/user-guide/tasks-errors-gpc","active":false,"depth":3,"isInitiallyOpen":false,"parentRef":"/en/user-guide/tasks-errors","children":[]},{"label":"Integrating Task Error Notifications with Tasks","type":"page","href":"/en/user-guide/tasks-errors-integrate","active":false,"depth":3,"isInitiallyOpen":false,"parentRef":"/en/user-guide/tasks-errors","children":[]},{"label":"Task Error Payload Example","type":"page","href":"/en/user-guide/tasks-errors-payload","active":false,"depth":3,"isInitiallyOpen":false,"parentRef":"/en/user-guide/tasks-errors","children":[]}]},{"label":"Tasks in Snowsight","type":"page","href":"/en/user-guide/ui-snowsight-tasks","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/tasks-intro","children":[]},{"label":"Troubleshooting","type":"page","href":"/en/user-guide/tasks-ts","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/tasks-intro","children":[]}]},{"label":"Examples","type":"page","href":"/en/user-guide/data-pipelines-examples","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-loading-data","children":[]}]},{"label":"Data Unloading","type":"page","href":"/en/guides-overview-unloading-data","active":false,"depth":0,"isInitiallyOpen":false,"parentRef":"/en/guides","children":[{"label":"Overview","type":"page","href":"/en/user-guide/data-unload-overview","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-unloading-data","children":[]},{"label":"Features","type":"page","href":"/en/user-guide/intro-summary-unloading","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-unloading-data","children":[]},{"label":"Considerations","type":"page","href":"/en/user-guide/data-unload-considerations","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-unloading-data","children":[]},{"label":"Preparing to Unload Data","type":"page","href":"/en/user-guide/data-unload-prepare","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-unloading-data","children":[]},{"label":"Unloading into a Snowflake Stage","type":"page","href":"/en/user-guide/data-unload-snowflake","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-unloading-data","children":[]},{"label":"Unloading into Amazon S3","type":"page","href":"/en/user-guide/data-unload-s3","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-unloading-data","children":[]},{"label":"Unloading into Google Cloud Storage","type":"page","href":"/en/user-guide/data-unload-gcs","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-unloading-data","children":[]},{"label":"Unloading into Microsoft Azure","type":"page","href":"/en/user-guide/data-unload-azure","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-unloading-data","children":[]}]},{"type":"line"},{"label":"Queries","type":"page","href":"/en/guides-overview-queries","active":false,"depth":0,"isInitiallyOpen":false,"parentRef":"/en/guides","children":[{"label":"Joins","type":"page","href":"/en/user-guide/querying-joins","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-queries","children":[{"label":"Joining Time-Series Data","type":"page","href":"/en/user-guide/querying-time-series-data","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/querying-joins","children":[]},{"label":"Eliminating Redundant Joins","type":"page","href":"/en/user-guide/join-elimination","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/querying-joins","children":[]}]},{"label":"Subqueries","type":"page","href":"/en/user-guide/querying-subqueries","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-queries","children":[]},{"label":"Querying Hierarchical Data","type":"page","href":"/en/user-guide/queries-hierarchical","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-queries","children":[]},{"label":"Common Table Expressions (CTE)","type":"page","href":"/en/user-guide/queries-cte","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-queries","children":[]},{"label":"Querying Semi-structured Data","type":"page","href":"/en/user-guide/querying-semistructured","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-queries","children":[]},{"label":"Window Functions","type":"page","href":"/en/user-guide/functions-window-using","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-queries","children":[]},{"label":"Match Recognize","type":"page","href":"/en/user-guide/match-recognize-introduction","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-queries","children":[]},{"label":"Sequences","type":"page","href":"/en/user-guide/querying-sequences","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-queries","children":[]},{"label":"Persisted Query Results","type":"page","href":"/en/user-guide/querying-persisted-results","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-queries","children":[]},{"label":"Distinct Counts","type":"page","href":"/en/user-guide/querying-distinct-counts","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-queries","children":[{"label":"Estimation","type":"page","href":"/en/user-guide/querying-approximate-cardinality","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/querying-distinct-counts","children":[]},{"label":"Bitmaps for Hierarchical Aggregations","type":"page","href":"/en/user-guide/querying-bitmaps-for-distinct-counts","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/querying-distinct-counts","children":[]},{"label":"Arrays for Hierarchical Aggregations","type":"page","href":"/en/user-guide/querying-arrays-for-distinct-counts","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/querying-distinct-counts","children":[]}]},{"label":"Similarity Estimation","type":"page","href":"/en/user-guide/querying-approximate-similarity","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-queries","children":[]},{"label":"Frequency Estimation","type":"page","href":"/en/user-guide/querying-approximate-frequent-values","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-queries","children":[]},{"label":"Estimating Percentile Values","type":"page","href":"/en/user-guide/querying-approximate-percentile-values","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-queries","children":[]},{"label":"Monitor query activity with Query History","type":"page","href":"/en/user-guide/ui-snowsight-activity","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-queries","children":[]},{"label":"Query Profile","type":"page","href":"/en/user-guide/ui-query-profile","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-queries","children":[]},{"label":"Query Hash","type":"page","href":"/en/user-guide/query-hash","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-queries","children":[]},{"label":"Cancel Statements","type":"page","href":"/en/user-guide/querying-cancel-statements","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-queries","children":[]}]},{"label":"Snowflake Cortex","type":"page","href":"/en/user-guide/snowflake-cortex/overview","active":false,"depth":0,"isInitiallyOpen":false,"parentRef":"/en/guides","children":[{"label":"Large Language Model Functions","type":"page","href":"/en/user-guide/snowflake-cortex/llm-functions","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/user-guide/snowflake-cortex/overview","children":[]},{"label":"ML Functions","type":"page","href":"/en/guides-overview-ml-functions","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/user-guide/snowflake-cortex/overview","children":[{"label":"Anomaly Detection","type":"page","href":"/en/user-guide/snowflake-cortex/ml-functions/anomaly-detection","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-ml-functions","children":[]},{"label":"Classification","type":"page","href":"/en/user-guide/snowflake-cortex/ml-functions/classification","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-ml-functions","children":[]},{"label":"Contribution Explorer","type":"page","href":"/en/user-guide/snowflake-cortex/ml-functions/contribution-explorer","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-ml-functions","children":[]},{"label":"Forecasting","type":"page","href":"/en/user-guide/snowflake-cortex/ml-functions/forecasting","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-ml-functions","children":[]}]}]},{"label":"Data Sharing \u0026 Collaboration","type":"page","href":"/en/guides-overview-sharing","active":false,"depth":0,"isInitiallyOpen":false,"parentRef":"/en/guides","children":[{"label":"Introduction to Secure Data Sharing","type":"page","href":"/en/user-guide/data-sharing-intro","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-sharing","children":[]},{"label":"About listings","type":"page","href":"https://other-docs.snowflake.com/en/collaboration/collaboration-listings-about","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-sharing","children":[]},{"label":"About Snowflake Marketplace","type":"page","href":"https://other-docs.snowflake.com/en/collaboration/collaboration-marketplace-about","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-sharing","children":[]},{"label":"Legal requirements for providers and consumers of listings","type":"page","href":"https://other-docs.snowflake.com/en/collaboration/collaboration-listings-legal","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-sharing","children":[]},{"label":"Snowflake Data Clean Rooms","type":"page","href":"https://other-docs.snowflake.com/en/cleanrooms/introduction","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-sharing","children":[{"label":"Getting started","type":"page","href":"https://other-docs.snowflake.com/en/cleanrooms/getting-started","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"https://other-docs.snowflake.com/en/cleanrooms/introduction","children":[]},{"label":"Web app","type":"page","href":"https://other-docs.snowflake.com/en/cleanrooms/web-app-introduction","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"https://other-docs.snowflake.com/en/cleanrooms/introduction","children":[{"label":"Quick tour","type":"page","href":"https://other-docs.snowflake.com/en/cleanrooms/web-app-tour","active":false,"depth":3,"isInitiallyOpen":false,"parentRef":"https://other-docs.snowflake.com/en/cleanrooms/web-app-introduction","children":[]},{"label":"Tutorial","type":"page","href":"https://other-docs.snowflake.com/en/cleanrooms/tutorials/cleanroom-web-app-tutorial","active":false,"depth":3,"isInitiallyOpen":false,"parentRef":"https://other-docs.snowflake.com/en/cleanrooms/web-app-introduction","children":[]}]},{"label":"Developer edition","type":"page","href":"https://other-docs.snowflake.com/en/cleanrooms/developer-introduction","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"https://other-docs.snowflake.com/en/cleanrooms/introduction","children":[{"label":"Provider API reference guide","type":"page","href":"https://other-docs.snowflake.com/en/cleanrooms/provider","active":false,"depth":3,"isInitiallyOpen":false,"parentRef":"https://other-docs.snowflake.com/en/cleanrooms/developer-introduction","children":[]},{"label":"Consumer API reference guide","type":"page","href":"https://other-docs.snowflake.com/en/cleanrooms/consumer","active":false,"depth":3,"isInitiallyOpen":false,"parentRef":"https://other-docs.snowflake.com/en/cleanrooms/developer-introduction","children":[]},{"label":"Differential privacy","type":"page","href":"https://other-docs.snowflake.com/en/cleanrooms/differential-privacy","active":false,"depth":3,"isInitiallyOpen":false,"parentRef":"https://other-docs.snowflake.com/en/cleanrooms/developer-introduction","children":[]},{"type":"section","isOpen":false,"depth":3,"children":[{"label":"Provider data analysis","type":"page","href":"https://other-docs.snowflake.com/en/cleanrooms/demo-flows/basic-flow-data-analysis","active":false,"depth":4,"isInitiallyOpen":false,"parentRef":"https://other-docs.snowflake.com/en/cleanrooms/developer-introduction","children":[]},{"label":"Overlap analysis","type":"page","href":"https://other-docs.snowflake.com/en/cleanrooms/demo-flows/basic-flow-overlap","active":false,"depth":4,"isInitiallyOpen":false,"parentRef":"https://other-docs.snowflake.com/en/cleanrooms/developer-introduction","children":[]},{"label":"Custom analysis templates","type":"page","href":"https://other-docs.snowflake.com/en/cleanrooms/demo-flows/custom-templates","active":false,"depth":4,"isInitiallyOpen":false,"parentRef":"https://other-docs.snowflake.com/en/cleanrooms/developer-introduction","children":[]},{"label":"Secure Python-based templates","type":"page","href":"https://other-docs.snowflake.com/en/cleanrooms/demo-flows/python-based-templates","active":false,"depth":4,"isInitiallyOpen":false,"parentRef":"https://other-docs.snowflake.com/en/cleanrooms/developer-introduction","children":[]},{"label":"Machine learning","type":"page","href":"https://other-docs.snowflake.com/en/cleanrooms/demo-flows/machine-learning","active":false,"depth":4,"isInitiallyOpen":false,"parentRef":"https://other-docs.snowflake.com/en/cleanrooms/developer-introduction","children":[]},{"label":"Secure Python UDTF-based templates","type":"page","href":"https://other-docs.snowflake.com/en/cleanrooms/demo-flows/python-udtf","active":false,"depth":4,"isInitiallyOpen":false,"parentRef":"https://other-docs.snowflake.com/en/cleanrooms/developer-introduction","children":[]},{"label":"Snowpark","type":"page","href":"https://other-docs.snowflake.com/en/cleanrooms/demo-flows/snowpark","active":false,"depth":4,"isInitiallyOpen":false,"parentRef":"https://other-docs.snowflake.com/en/cleanrooms/developer-introduction","children":[]},{"label":"Register clean room in web app","type":"page","href":"https://other-docs.snowflake.com/en/cleanrooms/demo-flows/register-cleanroom-in-ui","active":false,"depth":4,"isInitiallyOpen":false,"parentRef":"https://other-docs.snowflake.com/en/cleanrooms/developer-introduction","children":[]}],"label":"Supported flows","parentRef":"https://other-docs.snowflake.com/en/cleanrooms/developer-introduction"}]},{"label":"Managed accounts","type":"page","href":"https://other-docs.snowflake.com/en/cleanrooms/managed-accounts","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"https://other-docs.snowflake.com/en/cleanrooms/introduction","children":[]},{"label":"Adding Snowflake data","type":"page","href":"https://other-docs.snowflake.com/en/cleanrooms/adding-tables","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"https://other-docs.snowflake.com/en/cleanrooms/introduction","children":[]},{"type":"section","isOpen":false,"depth":2,"children":[{"label":"Amazon S3","type":"page","href":"https://other-docs.snowflake.com/en/cleanrooms/external-data-aws","active":false,"depth":3,"isInitiallyOpen":false,"parentRef":"https://other-docs.snowflake.com/en/cleanrooms/introduction","children":[]},{"label":"Azure Blob Storage","type":"page","href":"https://other-docs.snowflake.com/en/cleanrooms/external-data-azure","active":false,"depth":3,"isInitiallyOpen":false,"parentRef":"https://other-docs.snowflake.com/en/cleanrooms/introduction","children":[]},{"label":"Google Cloud Storage","type":"page","href":"https://other-docs.snowflake.com/en/cleanrooms/external-data-gcp","active":false,"depth":3,"isInitiallyOpen":false,"parentRef":"https://other-docs.snowflake.com/en/cleanrooms/introduction","children":[]}],"label":"Adding external data","parentRef":"https://other-docs.snowflake.com/en/cleanrooms/introduction"}]},{"type":"category","depth":1,"label":"Using listings as a provider"},{"label":"Becoming a provider of listings","type":"page","href":"https://other-docs.snowflake.com/en/collaboration/provider-becoming","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-sharing","children":[]},{"label":"Accessing Provider Studio","type":"page","href":"https://other-docs.snowflake.com/en/collaboration/provider-studio-accessing","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-sharing","children":[]},{"label":"Managing your provider profile","type":"page","href":"https://other-docs.snowflake.com/en/collaboration/provider-profiles-managing","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-sharing","children":[]},{"label":"Preparing data for a listing","type":"page","href":"https://other-docs.snowflake.com/en/collaboration/provider-listings-preparing","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-sharing","children":[]},{"label":"Creating and publishing a listing","type":"page","href":"https://other-docs.snowflake.com/en/collaboration/provider-listings-creating-publishing","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-sharing","children":[]},{"label":"Configuring listings","type":"page","href":"https://other-docs.snowflake.com/en/collaboration/provider-listings-reference","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-sharing","children":[]},{"label":"Configuring Cross-Cloud Auto-fulfillment","type":"page","href":"https://other-docs.snowflake.com/en/collaboration/provider-listings-auto-fulfillment","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-sharing","children":[{"label":"Managing Auto-fulfillment costs","type":"page","href":"https://other-docs.snowflake.com/en/collaboration/provider-understand-cost-auto-fulfillment","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"https://other-docs.snowflake.com/en/collaboration/provider-listings-auto-fulfillment","children":[]},{"label":"Troubleshooting Auto-fulfillment","type":"page","href":"https://other-docs.snowflake.com/en/collaboration/provider-listings-auto-fulfillment-troubleshooting","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"https://other-docs.snowflake.com/en/collaboration/provider-listings-auto-fulfillment","children":[]}]},{"label":"Paid listings pricing models","type":"page","href":"https://other-docs.snowflake.com/en/collaboration/provider-listings-pricing-model","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-sharing","children":[]},{"label":"Managing listing requests","type":"page","href":"https://other-docs.snowflake.com/en/collaboration/provider-listings-managing","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-sharing","children":[]},{"label":"Modifying published listings","type":"page","href":"https://other-docs.snowflake.com/en/collaboration/provider-listings-modifying","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-sharing","children":[]},{"label":"Defining listing referral links","type":"page","href":"https://other-docs.snowflake.com/en/collaboration/provider-listings-referral-link","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-sharing","children":[]},{"label":"Removing listings as a provider","type":"page","href":"https://other-docs.snowflake.com/en/collaboration/provider-listings-removing","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-sharing","children":[]},{"label":"Monitoring usage of your listing","type":"page","href":"https://other-docs.snowflake.com/en/collaboration/provider-listings-monitor-studio","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-sharing","children":[]},{"label":"Monetization usage views","type":"page","href":"https://other-docs.snowflake.com/en/collaboration/provider-monetization-usage","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-sharing","children":[]},{"type":"category","depth":1,"label":"Using listings as a consumer"},{"label":"Becoming a consumer of listings","type":"page","href":"https://other-docs.snowflake.com/en/collaboration/consumer-becoming","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-sharing","children":[]},{"label":"Exploring listings","type":"page","href":"https://other-docs.snowflake.com/en/collaboration/consumer-listings-exploring","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-sharing","children":[]},{"label":"Accessing and installing listings as a consumer","type":"page","href":"https://other-docs.snowflake.com/en/collaboration/consumer-listings-access","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-sharing","children":[]},{"label":"Paying for listings","type":"page","href":"https://other-docs.snowflake.com/en/collaboration/consumer-listings-paying","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-sharing","children":[]},{"type":"category","depth":1,"label":"Data sharing for providers"},{"label":"Getting started","type":"page","href":"/en/user-guide/data-sharing-gs","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-sharing","children":[]},{"label":"Working with shares","type":"page","href":"/en/user-guide/data-sharing-provider","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-sharing","children":[]},{"label":"Sharing data from multiple databases","type":"page","href":"/en/user-guide/data-sharing-multiple-db","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-sharing","children":[]},{"label":"Sharing data across regions and cloud platforms","type":"page","href":"/en/user-guide/secure-data-sharing-across-regions-platforms","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-sharing","children":[]},{"label":"Using secure objects to control data access","type":"page","href":"/en/user-guide/data-sharing-secure-views","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-sharing","children":[]},{"label":"Sharing data protected by a policy","type":"page","href":"/en/user-guide/data-sharing-policy-protected-data","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-sharing","children":[]},{"type":"category","depth":1,"label":"Data sharing for consumers"},{"label":"Consuming shared data","type":"page","href":"/en/user-guide/data-share-consumers","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-sharing","children":[]},{"type":"category","depth":1,"label":"General data sharing tasks"},{"label":"Managing reader accounts","type":"page","href":"/en/user-guide/data-sharing-reader-create","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-sharing","children":[]},{"label":"Configuring reader accounts","type":"page","href":"/en/user-guide/data-sharing-reader-config","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-sharing","children":[]},{"label":"Enabling non-Admins to perform sharing tasks","type":"page","href":"/en/user-guide/security-access-privileges-shares","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-sharing","children":[]},{"label":"Granting privileges to other roles","type":"page","href":"/en/user-guide/data-exchange-marketplace-privileges","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-sharing","children":[]},{"label":"Sharing from Business Critical to non-Business Critical","type":"page","href":"/en/user-guide/override_share_restrictions","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-sharing","children":[]},{"type":"category","depth":1,"label":"Data Exchange"},{"label":"About","type":"page","href":"/en/user-guide/data-exchange","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-sharing","children":[]},{"label":"Admin and membership","type":"page","href":"/en/user-guide/data-exchange-roles","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-sharing","children":[]},{"label":"Accessing a Data Exchange","type":"page","href":"/en/user-guide/data-exchange-accessing","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-sharing","children":[]},{"label":"Becoming a data provider","type":"page","href":"/en/user-guide/data-exchange-becoming-a-provider","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-sharing","children":[]},{"label":"Managing data listings","type":"page","href":"/en/user-guide/data-exchange-managing-data-listings","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-sharing","children":[]},{"label":"Configuring and using Data Exchanges","type":"page","href":"/en/user-guide/data-exchange-using","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-sharing","children":[]},{"label":"Requesting a new Data Exchange","type":"page","href":"/en/user-guide/data-exchange-requesting","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-sharing","children":[]}]},{"type":"line"},{"label":"Alerts \u0026 Notifications","type":"page","href":"/en/guides-overview-alerts","active":false,"depth":0,"isInitiallyOpen":false,"parentRef":"/en/guides","children":[{"label":"Snowflake Alerts","type":"page","href":"/en/user-guide/alerts","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-alerts","children":[]},{"label":"Email Notifications","type":"page","href":"/en/user-guide/email-stored-procedures","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-alerts","children":[]},{"label":"Snowpipe Error Notifications","type":"page","href":"/en/user-guide/data-load-snowpipe-errors","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-alerts","children":[]},{"label":"Tasks Error Notifications","type":"page","href":"/en/user-guide/tasks-errors","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-alerts","children":[]}]},{"type":"line"},{"label":"Security","type":"page","href":"/en/guides-overview-secure","active":false,"depth":0,"isInitiallyOpen":false,"parentRef":"/en/guides","children":[{"type":"category","depth":1,"label":"Authentication"},{"label":"Identifier-first login","type":"page","href":"/en/user-guide/identifier-first-login","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-secure","children":[]},{"label":"Authentication policies","type":"page","href":"/en/user-guide/authentication-policies","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-secure","children":[]},{"label":"API authentication and secrets","type":"page","href":"/en/user-guide/api-authentication","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-secure","children":[]},{"label":"Federated authentication and SSO","type":"page","href":"/en/user-guide/admin-security-fed-auth-overview","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-secure","children":[{"label":"Configuring an identity provider","type":"page","href":"/en/user-guide/admin-security-fed-auth-configure-idp","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/admin-security-fed-auth-overview","children":[]},{"label":"Configuring Snowflake to use federated authentication","type":"page","href":"/en/user-guide/admin-security-fed-auth-security-integration","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/admin-security-fed-auth-overview","children":[]},{"label":"Using multiple identity providers","type":"page","href":"/en/user-guide/admin-security-fed-auth-security-integration-multiple","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/admin-security-fed-auth-overview","children":[]},{"label":"Managing federated authentication","type":"page","href":"/en/user-guide/admin-security-fed-auth-use","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/admin-security-fed-auth-overview","children":[]},{"label":"Troubleshooting","type":"page","href":"/en/user-guide/errors-saml","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/admin-security-fed-auth-overview","children":[]},{"label":"Migrating to a SAML2 security integration","type":"page","href":"/en/user-guide/admin-security-fed-auth-configure-snowflake","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/admin-security-fed-auth-overview","children":[]}]},{"label":"Key-pair authentication and rotation","type":"page","href":"/en/user-guide/key-pair-auth","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-secure","children":[{"label":"Troubleshooting","type":"page","href":"/en/user-guide/key-pair-auth-troubleshooting","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/key-pair-auth","children":[]}]},{"label":"Multi-factor authentication (MFA)","type":"page","href":"/en/user-guide/security-mfa","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-secure","children":[]},{"label":"OAuth","type":"page","href":"/en/user-guide/oauth-intro","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-secure","children":[{"label":"Snowflake OAuth","type":"page","href":"/en/user-guide/oauth-snowflake-overview","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/oauth-intro","children":[{"label":"Partner applications","type":"page","href":"/en/user-guide/oauth-partner","active":false,"depth":3,"isInitiallyOpen":false,"parentRef":"/en/user-guide/oauth-snowflake-overview","children":[]},{"label":"Custom client integration","type":"page","href":"/en/user-guide/oauth-custom","active":false,"depth":3,"isInitiallyOpen":false,"parentRef":"/en/user-guide/oauth-snowflake-overview","children":[]},{"label":"Managing user consent","type":"page","href":"/en/user-guide/oauth-consent","active":false,"depth":3,"isInitiallyOpen":false,"parentRef":"/en/user-guide/oauth-snowflake-overview","children":[]}]},{"label":"External OAuth","type":"page","href":"/en/user-guide/oauth-ext-overview","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/oauth-intro","children":[{"label":"Azure integration","type":"page","href":"/en/user-guide/oauth-azure","active":false,"depth":3,"isInitiallyOpen":false,"parentRef":"/en/user-guide/oauth-ext-overview","children":[]},{"label":"Okta integration","type":"page","href":"/en/user-guide/oauth-okta","active":false,"depth":3,"isInitiallyOpen":false,"parentRef":"/en/user-guide/oauth-ext-overview","children":[]},{"label":"PingFederate integration","type":"page","href":"/en/user-guide/oauth-pingfed","active":false,"depth":3,"isInitiallyOpen":false,"parentRef":"/en/user-guide/oauth-ext-overview","children":[]},{"label":"Power BI integration","type":"page","href":"/en/user-guide/oauth-powerbi","active":false,"depth":3,"isInitiallyOpen":false,"parentRef":"/en/user-guide/oauth-ext-overview","children":[]},{"label":"Custom authorization server","type":"page","href":"/en/user-guide/oauth-ext-custom","active":false,"depth":3,"isInitiallyOpen":false,"parentRef":"/en/user-guide/oauth-ext-overview","children":[]},{"label":"Partner applications","type":"page","href":"/en/user-guide/oauth-ext-partner","active":false,"depth":3,"isInitiallyOpen":false,"parentRef":"/en/user-guide/oauth-ext-overview","children":[]}]}]},{"type":"category","depth":1,"label":"Networking and private connectivity"},{"label":"Network policies","type":"page","href":"/en/user-guide/network-policies","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-secure","children":[]},{"label":"Network rules","type":"page","href":"/en/user-guide/network-rules","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-secure","children":[]},{"label":"AWS VPC interface endpoints for internal stages","type":"page","href":"/en/user-guide/private-internal-stages-aws","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-secure","children":[]},{"label":"Azure private endpoints for internal stages","type":"page","href":"/en/user-guide/private-internal-stages-azure","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-secure","children":[]},{"label":"AWS PrivateLink","type":"page","href":"/en/user-guide/admin-security-privatelink","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-secure","children":[]},{"label":"Azure Private Link","type":"page","href":"/en/user-guide/privatelink-azure","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-secure","children":[]},{"label":"Google Cloud Private Service Connect","type":"page","href":"/en/user-guide/private-service-connect-google","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-secure","children":[]},{"type":"category","depth":1,"label":"Administration and authorization"},{"label":"Sessions and session policies","type":"page","href":"/en/user-guide/session-policies","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-secure","children":[]},{"label":"SCIM support","type":"page","href":"/en/user-guide/scim-intro","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-secure","children":[{"label":"API references","type":"page","href":"/en/user-guide/scim-api-references","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/scim-intro","children":[{"label":"User API reference","type":"page","href":"/en/user-guide/scim-user-api-reference","active":false,"depth":3,"isInitiallyOpen":false,"parentRef":"/en/user-guide/scim-api-references","children":[]},{"label":"Group API reference","type":"page","href":"/en/user-guide/scim-group-api-reference","active":false,"depth":3,"isInitiallyOpen":false,"parentRef":"/en/user-guide/scim-api-references","children":[]}]},{"label":"Security integrations","type":"page","href":"/en/user-guide/scim-security-integrations","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/scim-intro","children":[{"label":"Okta integration","type":"page","href":"/en/user-guide/scim-okta","active":false,"depth":3,"isInitiallyOpen":false,"parentRef":"/en/user-guide/scim-security-integrations","children":[]},{"label":"Azure integration","type":"page","href":"/en/user-guide/scim-azure","active":false,"depth":3,"isInitiallyOpen":false,"parentRef":"/en/user-guide/scim-security-integrations","children":[]},{"label":"Custom integration","type":"page","href":"/en/user-guide/scim-custom","active":false,"depth":3,"isInitiallyOpen":false,"parentRef":"/en/user-guide/scim-security-integrations","children":[]}]}]},{"label":"Access control","type":"page","href":"/en/user-guide/security-access-control-overview","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-secure","children":[{"label":"Considerations","type":"page","href":"/en/user-guide/security-access-control-considerations","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/security-access-control-overview","children":[]},{"label":"Privileges","type":"page","href":"/en/user-guide/security-access-control-privileges","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/security-access-control-overview","children":[]},{"label":"Configuring","type":"page","href":"/en/user-guide/security-access-control-configure","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/security-access-control-overview","children":[]}]},{"label":"Encryption","type":"page","href":"/en/user-guide/security-encryption-end-to-end","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-secure","children":[{"label":"Key management","type":"page","href":"/en/user-guide/security-encryption-manage","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/security-encryption-end-to-end","children":[]},{"label":"Tri-Secret Secure","type":"page","href":"/en/user-guide/security-encryption-tss","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/security-encryption-end-to-end","children":[]}]},{"label":"Tri-Secret Secure","type":"page","href":"/en/user-guide/security-encryption-tss","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-secure","children":[]}]},{"label":"Data Governance","type":"page","href":"/en/guides-overview-govern","active":false,"depth":0,"isInitiallyOpen":true,"parentRef":"/en/guides","children":[{"type":"category","depth":1,"label":"Data Quality Monitoring"},{"label":"Introduction","type":"page","href":"/en/user-guide/data-quality-intro","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-govern","children":[]},{"label":"System DMFs","type":"page","href":"/en/user-guide/data-quality-system-dmfs","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-govern","children":[]},{"label":"Working with DMFs","type":"page","href":"/en/user-guide/data-quality-working","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-govern","children":[]},{"label":"Tutorial: Getting started with DMFs","type":"page","href":"/en/user-guide/tutorials/data-quality-tutorial-start","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-govern","children":[]},{"type":"category","depth":1,"label":"Data Sensitivity \u0026 Access Visibility"},{"label":"Object Tagging","type":"page","href":"/en/user-guide/object-tagging","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-govern","children":[]},{"label":"Data Classification","type":"page","href":"/en/user-guide/classify-intro","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-govern","children":[{"label":"Use Data Classification","type":"page","href":"/en/user-guide/classify-using","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/classify-intro","children":[]},{"label":"Data Classification: Classic APIs","type":"page","href":"/en/user-guide/classify-classic","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/classify-intro","children":[]}]},{"label":"Custom Classification","type":"page","href":"/en/user-guide/classify-custom","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-govern","children":[]},{"type":"category","depth":1,"label":"Data Access Policies"},{"label":"Masking Policies","type":"page","href":"/en/user-guide/security-column-intro","active":true,"depth":1,"isInitiallyOpen":true,"parentRef":"/en/guides-overview-govern","children":[{"label":"Dynamic Data Masking","type":"page","href":"/en/user-guide/security-column-ddm-intro","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/security-column-intro","children":[{"label":"Using Dynamic Data Masking","type":"page","href":"/en/user-guide/security-column-ddm-use","active":false,"depth":3,"isInitiallyOpen":false,"parentRef":"/en/user-guide/security-column-ddm-intro","children":[]}]},{"label":"External Tokenization","type":"page","href":"/en/user-guide/security-column-ext-token-intro","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/security-column-intro","children":[{"label":"Using External Tokenization","type":"page","href":"/en/user-guide/security-column-ext-token-use","active":false,"depth":3,"isInitiallyOpen":false,"parentRef":"/en/user-guide/security-column-ext-token-intro","children":[]}]},{"label":"Tag-based Masking","type":"page","href":"/en/user-guide/tag-based-masking-policies","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/security-column-intro","children":[]},{"label":"Advanced","type":"page","href":"/en/user-guide/security-column-advanced","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/security-column-intro","children":[]}]},{"label":"Row Access Policies","type":"page","href":"/en/user-guide/security-row-intro","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-govern","children":[{"label":"Using Row Access Policies","type":"page","href":"/en/user-guide/security-row-using","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/security-row-intro","children":[]}]},{"type":"category","depth":1,"label":"Data Lineage \u0026 Dependencies"},{"label":"Access History","type":"page","href":"/en/user-guide/access-history","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-govern","children":[]},{"label":"Object Dependencies","type":"page","href":"/en/user-guide/object-dependencies","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-govern","children":[]}]},{"label":"Privacy","type":"page","href":"/en/guides-overview-privacy","active":false,"depth":0,"isInitiallyOpen":false,"parentRef":"/en/guides","children":[{"label":"Aggregation Policies","type":"page","href":"/en/user-guide/aggregation-policies","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-privacy","children":[]},{"label":"Projection Policies","type":"page","href":"/en/user-guide/projection-policies","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-privacy","children":[]}]},{"type":"line"},{"label":"Organizations \u0026 Accounts","type":"page","href":"/en/guides-overview-manage","active":false,"depth":0,"isInitiallyOpen":false,"parentRef":"/en/guides","children":[{"type":"category","depth":1,"label":"Organizations"},{"label":"Introduction","type":"page","href":"/en/user-guide/organizations","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-manage","children":[]},{"label":"Getting Started","type":"page","href":"/en/user-guide/organizations-gs","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-manage","children":[]},{"label":"Managing Accounts","type":"page","href":"/en/user-guide/organizations-manage-accounts","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-manage","children":[{"label":"Creating an Account","type":"page","href":"/en/user-guide/organizations-manage-accounts-create","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/organizations-manage-accounts","children":[]},{"label":"Viewing a List of Accounts","type":"page","href":"/en/user-guide/organizations-manage-accounts-view","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/organizations-manage-accounts","children":[]},{"label":"Renaming an Account","type":"page","href":"/en/user-guide/organizations-manage-accounts-rename","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/organizations-manage-accounts","children":[]},{"label":"Managing Account URLs","type":"page","href":"/en/user-guide/organizations-manage-accounts-urls","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/organizations-manage-accounts","children":[]},{"label":"Working with Editions","type":"page","href":"/en/user-guide/organizations-manage-accounts-editions","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/organizations-manage-accounts","children":[]},{"label":"Dropping an Account","type":"page","href":"/en/user-guide/organizations-manage-accounts-delete","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/organizations-manage-accounts","children":[]}]},{"type":"category","depth":1,"label":"Accounts"},{"label":"Connecting to Your Accounts","type":"page","href":"/en/user-guide/organizations-connect","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-manage","children":[]},{"label":"Account Identifiers","type":"page","href":"/en/user-guide/admin-account-identifier","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-manage","children":[]},{"label":"Trial Accounts","type":"page","href":"/en/user-guide/admin-trial-account","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-manage","children":[]},{"label":"Parameter Management","type":"page","href":"/en/user-guide/admin-account-management","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-manage","children":[]},{"label":"User Management","type":"page","href":"/en/user-guide/admin-user-management","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-manage","children":[]}]},{"label":"Business Continuity \u0026 Data Recovery","type":"page","href":"/en/user-guide/replication-intro","active":false,"depth":0,"isInitiallyOpen":false,"parentRef":"/en/guides","children":[{"type":"category","depth":1,"label":"Replication"},{"label":"Introduction","type":"page","href":"/en/user-guide/account-replication-intro","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/user-guide/replication-intro","children":[]},{"label":"Considerations","type":"page","href":"/en/user-guide/account-replication-considerations","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/user-guide/replication-intro","children":[]},{"label":"Configuration","type":"page","href":"/en/user-guide/account-replication-config","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/user-guide/replication-intro","children":[]},{"label":"Security Integrations and Network Policy Replication","type":"page","href":"/en/user-guide/account-replication-security-integrations","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/user-guide/replication-intro","children":[]},{"label":"Stage, Pipe, and Load History Replication","type":"page","href":"/en/user-guide/account-replication-stages-pipes-load-history","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/user-guide/replication-intro","children":[]},{"label":"Understanding Cost","type":"page","href":"/en/user-guide/account-replication-cost","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/user-guide/replication-intro","children":[]},{"type":"category","depth":1,"label":"Failover"},{"label":"Account Failover","type":"page","href":"/en/user-guide/account-replication-failover-failback","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/user-guide/replication-intro","children":[]},{"type":"category","depth":1,"label":"Client Redirect"},{"label":"Overview","type":"page","href":"/en/user-guide/client-redirect","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/user-guide/replication-intro","children":[]},{"type":"category","depth":1,"label":"Data Recovery"},{"label":"Time Travel","type":"page","href":"/en/user-guide/data-time-travel","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/user-guide/replication-intro","children":[]},{"label":"Fail-safe","type":"page","href":"/en/user-guide/data-failsafe","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/user-guide/replication-intro","children":[]},{"label":"Storage Costs","type":"page","href":"/en/user-guide/data-cdp-storage-costs","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/user-guide/replication-intro","children":[]}]},{"type":"line"},{"label":"Performance Optimization","type":"page","href":"/en/guides-overview-performance","active":false,"depth":0,"isInitiallyOpen":false,"parentRef":"/en/guides","children":[{"label":"Exploring Execution Times","type":"page","href":"/en/user-guide/performance-query-exploring","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-performance","children":[]},{"label":"Optimizing Warehouses for Performance","type":"page","href":"/en/user-guide/performance-query-warehouse","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-performance","children":[{"label":"Reducing Queues","type":"page","href":"/en/user-guide/performance-query-warehouse-queue","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/performance-query-warehouse","children":[]},{"label":"Resolving Memory Spillage","type":"page","href":"/en/user-guide/performance-query-warehouse-memory","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/performance-query-warehouse","children":[]},{"label":"Increasing Warehouse Size","type":"page","href":"/en/user-guide/performance-query-warehouse-size","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/performance-query-warehouse","children":[]},{"label":"Trying Query Acceleration","type":"page","href":"/en/user-guide/performance-query-warehouse-qas","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/performance-query-warehouse","children":[]},{"label":"Optimizing the Cache","type":"page","href":"/en/user-guide/performance-query-warehouse-cache","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/performance-query-warehouse","children":[]},{"label":"Limiting Concurrent Queries","type":"page","href":"/en/user-guide/performance-query-warehouse-max-concurrency","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/performance-query-warehouse","children":[]}]},{"label":"Optimizing Storage for Performance","type":"page","href":"/en/user-guide/performance-query-storage","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-performance","children":[]}]},{"label":"Cost \u0026 Billing","type":"page","href":"/en/guides-overview-cost","active":false,"depth":0,"isInitiallyOpen":false,"parentRef":"/en/guides","children":[{"type":"category","depth":1,"label":"Cost Management"},{"label":"Overview","type":"page","href":"/en/user-guide/cost-management-overview","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-cost","children":[]},{"label":"Understanding cost","type":"page","href":"/en/user-guide/cost-understanding-overall","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-cost","children":[{"label":"Understanding compute cost","type":"page","href":"/en/user-guide/cost-understanding-compute","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/cost-understanding-overall","children":[]},{"label":"Understanding storage cost","type":"page","href":"/en/user-guide/cost-understanding-data-storage","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/cost-understanding-overall","children":[]},{"label":"Understanding data transfer cost","type":"page","href":"/en/user-guide/cost-understanding-data-transfer","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/cost-understanding-overall","children":[]}]},{"label":"Exploring cost","type":"page","href":"/en/user-guide/cost-exploring-overall","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-cost","children":[{"label":"Exploring compute cost","type":"page","href":"/en/user-guide/cost-exploring-compute","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/cost-exploring-overall","children":[]},{"label":"Exploring storage cost","type":"page","href":"/en/user-guide/cost-exploring-data-storage","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/cost-exploring-overall","children":[]},{"label":"Exploring data transfer cost","type":"page","href":"/en/user-guide/cost-exploring-data-transfer","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/cost-exploring-overall","children":[]}]},{"label":"Optimizing cost","type":"page","href":"/en/user-guide/cost-optimize","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-cost","children":[]},{"label":"Monitoring cost","type":"page","href":"/en/user-guide/cost-monitoring","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-cost","children":[{"label":"Budgets","type":"page","href":"/en/user-guide/budgets","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/cost-monitoring","children":[{"label":"Understanding cost","type":"page","href":"/en/user-guide/budgets/cost","active":false,"depth":3,"isInitiallyOpen":false,"parentRef":"/en/user-guide/budgets","children":[]},{"label":"Using budgets","type":"page","href":"/en/user-guide/budgets/config","active":false,"depth":3,"isInitiallyOpen":false,"parentRef":"/en/user-guide/budgets","children":[]},{"label":"Troubleshooting","type":"page","href":"/en/user-guide/budgets/troubleshoot","active":false,"depth":3,"isInitiallyOpen":false,"parentRef":"/en/user-guide/budgets","children":[]},{"label":"Tutorial","type":"page","href":"/en/user-guide/tutorials/budgets","active":false,"depth":3,"isInitiallyOpen":false,"parentRef":"/en/user-guide/budgets","children":[]}]},{"label":"Resource monitors","type":"page","href":"/en/user-guide/resource-monitors","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/cost-monitoring","children":[]}]},{"label":"Attributing cost","type":"page","href":"/en/user-guide/cost-attributing","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-cost","children":[]},{"label":"Controlling cost","type":"page","href":"/en/user-guide/cost-controlling","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-cost","children":[]},{"type":"category","depth":1,"label":"Billing"},{"label":"Accessing Usage Statements","type":"page","href":"/en/user-guide/billing-usage-statement","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-cost","children":[]},{"label":"Reconciling Usage Statements","type":"page","href":"/en/user-guide/billing-reconcile","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-cost","children":[]}]}]},"categories":[],"activeNodeParent":{"label":"Data Governance","type":"page","href":"/en/guides-overview-govern","active":false,"depth":0,"isInitiallyOpen":true,"parentRef":"/en/guides","children":[{"type":"category","depth":1,"label":"Data Quality Monitoring"},{"label":"Introduction","type":"page","href":"/en/user-guide/data-quality-intro","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-govern","children":[]},{"label":"System DMFs","type":"page","href":"/en/user-guide/data-quality-system-dmfs","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-govern","children":[]},{"label":"Working with DMFs","type":"page","href":"/en/user-guide/data-quality-working","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-govern","children":[]},{"label":"Tutorial: Getting started with DMFs","type":"page","href":"/en/user-guide/tutorials/data-quality-tutorial-start","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-govern","children":[]},{"type":"category","depth":1,"label":"Data Sensitivity \u0026 Access Visibility"},{"label":"Object Tagging","type":"page","href":"/en/user-guide/object-tagging","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-govern","children":[]},{"label":"Data Classification","type":"page","href":"/en/user-guide/classify-intro","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-govern","children":[{"label":"Use Data Classification","type":"page","href":"/en/user-guide/classify-using","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/classify-intro","children":[]},{"label":"Data Classification: Classic APIs","type":"page","href":"/en/user-guide/classify-classic","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/classify-intro","children":[]}]},{"label":"Custom Classification","type":"page","href":"/en/user-guide/classify-custom","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-govern","children":[]},{"type":"category","depth":1,"label":"Data Access Policies"},{"label":"Masking Policies","type":"page","href":"/en/user-guide/security-column-intro","active":true,"depth":1,"isInitiallyOpen":true,"parentRef":"/en/guides-overview-govern","children":[{"label":"Dynamic Data Masking","type":"page","href":"/en/user-guide/security-column-ddm-intro","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/security-column-intro","children":[{"label":"Using Dynamic Data Masking","type":"page","href":"/en/user-guide/security-column-ddm-use","active":false,"depth":3,"isInitiallyOpen":false,"parentRef":"/en/user-guide/security-column-ddm-intro","children":[]}]},{"label":"External Tokenization","type":"page","href":"/en/user-guide/security-column-ext-token-intro","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/security-column-intro","children":[{"label":"Using External Tokenization","type":"page","href":"/en/user-guide/security-column-ext-token-use","active":false,"depth":3,"isInitiallyOpen":false,"parentRef":"/en/user-guide/security-column-ext-token-intro","children":[]}]},{"label":"Tag-based Masking","type":"page","href":"/en/user-guide/tag-based-masking-policies","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/security-column-intro","children":[]},{"label":"Advanced","type":"page","href":"/en/user-guide/security-column-advanced","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/security-column-intro","children":[]}]},{"label":"Row Access Policies","type":"page","href":"/en/user-guide/security-row-intro","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-govern","children":[{"label":"Using Row Access Policies","type":"page","href":"/en/user-guide/security-row-using","active":false,"depth":2,"isInitiallyOpen":false,"parentRef":"/en/user-guide/security-row-intro","children":[]}]},{"type":"category","depth":1,"label":"Data Lineage \u0026 Dependencies"},{"label":"Access History","type":"page","href":"/en/user-guide/access-history","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-govern","children":[]},{"label":"Object Dependencies","type":"page","href":"/en/user-guide/object-dependencies","active":false,"depth":1,"isInitiallyOpen":false,"parentRef":"/en/guides-overview-govern","children":[]}]},"snowsightDomain":"https://app.snowflake.com","_nextI18Next":{"initialI18nStore":{"en":{"common":{}}},"initialLocale":"en","ns":["common"],"userConfig":{"i18n":{"defaultLocale":"en","locales":["en","fr","de","ja","ko","pt"]},"default":{"i18n":{"defaultLocale":"en","locales":["en","fr","de","ja","ko","pt"]}}}}},"__N_SSP":true},"page":"/[...path]","query":{"path":["user-guide","security-column-intro"]},"buildId":"ICZ5MtOK9ZoGg60IkLaJy","isFallback":false,"dynamicIds":[4304],"gssp":true,"customServer":true,"locale":"en","locales":["en","fr","de","ja","ko","pt"],"defaultLocale":"en","scriptLoader":[]}</script></body></html>